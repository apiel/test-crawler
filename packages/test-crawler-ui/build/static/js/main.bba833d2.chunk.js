(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{108:function(e,t,n){},245:function(e,t,n){e.exports=n(554)},251:function(e,t,n){},554:function(e,t,n){"use strict";n.r(t);var a=n(20),r=n(1),c=n.n(r),l=n(7),i=n.n(l),o=(n(251),n(107)),u=n.n(o),s=n(24),m=n.n(s),p=n(46),f=n(59),d=(n(108),n(10)),h=n.n(d),v=n(14),E=n(40),g=n(79),w=n(17),b=n(155),y=n.n(b),x=n(47),O=n.n(x),k=n(8),j=n.n(k),S=n(106),I=n.n(S),C=n(29),T=n.n(C),A=n(22),L=n.n(A),P=n(100),z=function(e){return"/pin/code/".concat(e)},F=function(e){return"/history/".concat(e)},R=n(19);function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","getSettings",t)}function U(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","getLogs",t)}function N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","getCrawlers",t)}function D(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","loadPresets",t)}function B(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","saveAndStart",t)}function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","getCrawler",t)}function V(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","getPages",t)}function W(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","getPins",t)}function H(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","getPin",t)}function Z(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","setPinCode",t)}function $(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","getPinCode",t)}function q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","getThumbnail",t)}function G(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","pin",t)}function Q(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","setZoneStatus",t)}function Y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","setZonesStatus",t)}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(R.remote)("server-crawler","setStatus",t)}var K,X={lineHeight:1.2,borderLeft:"8px solid #EEE",paddingLeft:15,color:"#666",textAlign:"justify"},ee=function(e){var t=e.children;return c.a.createElement("div",{style:X},t)},te=n(102),ne=n.n(te),ae=n(25),re=n.n(ae),ce=function(e,t){return c.a.createElement(re.a,null,e&&e.map(function(e){return c.a.createElement(re.a.Item,{key:"preset-".concat(e.id),onClick:function(){t(e)}},e.name)}))},le=function(e){var t=e.setPreset,n=e.setDefault,a=Object(r.useState)([]),l=Object(w.a)(a,2),i=l[0],o=l[1],u=function(){var e=Object(v.a)(h.a.mark(function e(){var a,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:a=e.sent,o(a),n&&-1!==(r=a.findIndex(function(e){return"Default"===e.name}))&&t(Object(E.a)({},a[r],{name:""}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){u()},[]),c.a.createElement(ne.a,{overlay:ce(i,t),trigger:["click"]},c.a.createElement(L.a,{icon:"folder-open"},"Load saved preset"))},ie=n(154),oe=n.n(ie),ue=[{name:"Desktop - 800x600",value:{width:800,height:600}},{name:"Desktop - 1024x768",value:{width:1024,height:768}},{name:"iPhone 5 - 320x568",value:{width:320,height:568,isMobile:!0,hasTouch:!0}},{name:"iPhone 6 - 375x667",value:{width:375,height:667,isMobile:!0,hasTouch:!0}},{name:"Ipad - 768x1024",value:{width:768,height:1024,isMobile:!0,hasTouch:!0}},{name:"Galaxy S5 - 360x640",value:{width:360,height:640,isMobile:!0,hasTouch:!0}}],se=ue.map(function(e){var t=e.value,n=Object(g.a)(e,["value"]);return Object(E.a)({},n,{value:JSON.stringify(t)})}),me=function(e){var t=JSON.stringify(e),n=se.findIndex(function(e){return e.value===t});if(-1!==n)return se[n].name;var a=e.width,r=e.height,c=e.isMobile;return"".concat(a,"x").concat(r).concat(c&&" mobile")},pe=oe.a.Option,fe=function(e){return(0,e.getFieldDecorator)("viewport",{initialValue:e.initialValue||se[0].name})(c.a.createElement(oe.a,null,se.map(function(e){var t=e.value,n=e.name;return c.a.createElement(pe,{key:t,value:t},n)})))},de=m.a.Paragraph,he=m.a.Text,ve={marginRight:10,display:"inline-block"},Ee={backgroundColor:"#EEE",padding:"0px 10px",borderRadius:5,marginBottom:12},ge=O.a.create({name:"start_crawler"})(function(e){var t=e.history,n=e.location.search,l=e.form,i=l.getFieldDecorator,o=l.validateFields,u=Object(a.b)().call,s=function(){var e=Object(v.a)(h.a.mark(function e(n){var a,r,c,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.saveAs,r=n.viewport,c=Object(g.a)(n,["saveAs","viewport"]),e.prev=1,e.next=4,B(Object(E.a)({},c,{viewport:JSON.parse(r)}),a);case 4:return l=e.sent,e.next=7,u(N);case 7:t.push(F(l.crawler.timestamp.toString())),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),T.a.error({message:"Something went wrong!",description:e.t0.toString()});case 13:case"end":return e.stop()}},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),m=function(e){var t={name:"",id:"",crawlerInput:{method:"spiderbot",url:"http://localhost:3003/",viewport:ue[0].value}},n=Object(r.useState)(t),a=Object(w.a)(n,2),c=a[0],l=a[1];return Object(r.useEffect)(function(){if(e){var n=Object(P.parse)(e),a=n.viewport,r=Object(g.a)(n,["viewport"]),c=Object(E.a)({},r,{viewport:JSON.parse(a)});l(Object(E.a)({},t,{crawlerInput:c}))}},[e]),{preset:c,setPreset:l}}(n),p=m.preset,f=m.setPreset;return c.a.createElement(O.a,{onSubmit:function(e){e.preventDefault(),o(function(e,t){e||s(t)})}},c.a.createElement(O.a.Item,{style:Ee},c.a.createElement(le,{setPreset:f,setDefault:!n})),c.a.createElement(O.a.Item,null,i("url",{rules:[{required:!0,message:"Please input an URL to crawl!"}],initialValue:p.crawlerInput.url})(c.a.createElement(y.a,{addonBefore:"URL",addonAfter:c.a.createElement(fe,{getFieldDecorator:i,initialValue:JSON.stringify(p.crawlerInput.viewport)})}))),c.a.createElement(O.a.Item,null,i("method",{initialValue:p.crawlerInput.method})(c.a.createElement(I.a.Group,{size:"small"},c.a.createElement(I.a.Button,{value:"spiderbot"},c.a.createElement(j.a,{type:"radar-chart"})," Spider bot"),c.a.createElement(I.a.Button,{value:"urls"},c.a.createElement(j.a,{type:"ordered-list"})," URLs list"))),c.a.createElement(ee,null,c.a.createElement(de,{ellipsis:{rows:1,expandable:!0}},c.a.createElement("b",null,"Spider bot")," crawling method will get all the links inside the page of the given URL and crawl the children. It will then continue do the same with the children till no new link is found. Be careful if you have big website, this is most likely not the right solution for you."),c.a.createElement(de,{ellipsis:{rows:1,expandable:!0}},c.a.createElement("b",null,"URLs list")," crawling method will crawl a specific sets of URLs. In the URL input field you must provide an endpoint containing a list of URLs (a simple text format, with one URL per line). The crawler will crawl each of those URL only and will not try to find links in the page."))),c.a.createElement(O.a.Item,null,c.a.createElement(O.a.Item,{style:ve},c.a.createElement(L.a,{type:"primary",icon:"caret-right",htmlType:"submit"},"Start")),c.a.createElement(O.a.Item,{style:ve},i("saveAs",{initialValue:p.name})(c.a.createElement(y.a,{addonBefore:"Save as",placeholder:"Leave empty to don't save"}))),c.a.createElement(ee,null,c.a.createElement(de,null,"If you save as ",c.a.createElement(he,{code:!0},"Default"),", this preset will always be load per default."))))}),we=n(39),be=n.n(we),ye=n(152),xe=n.n(ye),Oe=n(235),ke=n.n(Oe),je=n(244),Se=n(236),Ie=n(67),Ce=n.n(Ie),Te=n(238),Ae=n.n(Te),Le=n(104),Pe=n.n(Le),ze=n(32),Fe=n.n(ze),Re=function(e){var t=e.timestamp,n=e.id;return Object(v.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G(t.toString(),n);case 3:Fe.a.success("Page pinned as reference for comparison.",2),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),T.a.error({message:"Something went wrong!",description:e.t0.toString()});case 9:case"end":return e.stop()}},e,null,[[0,6]])}))},Me=function(e){return function(e){return c.a.createElement(j.a,{type:"pushpin",title:"pin as reference for comparison",onClick:Re(e)})}(e)},Ue={textAlign:"center"},Ne={width:300},De={width:Ne.width+20,marginBottom:10},Be={paddingTop:10,paddingBottom:10},Je={gutter:10,fitWidth:!0},Ve=n(237),We=n.n(Ve),He={marginLeft:5,marginRight:5},Ze=function(e,t,n){var a=n.timestamp,r=n.id,c=n.index;return Object(v.a)(h.a.mark(function n(){var l;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Q(a.toString(),r,c,t);case 3:l=n.sent,e(l,V,a),Fe.a.success("Page pinned as reference for comparison.",2),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),T.a.error({message:"Something went wrong!",description:n.t0.toString()});case 11:case"end":return n.stop()}},n,null,[[0,8]])}))},$e=function(e){var t=Object(a.b)().update;return c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a,{style:He,icon:"check",size:"small",onClick:Ze(t,"valid",e)},"Valid"),c.a.createElement(L.a,{style:He,icon:"pushpin",size:"small",onClick:Ze(t,"pin",e)},"Always valid"),c.a.createElement(L.a,{style:He,icon:"warning",size:"small",type:"danger",onClick:Ze(t,"report",e)},"Report"))},qe=function(e){return"valid"===e||"pin"===e?"#0F0":"report"===e?"red":"yellow"},Ge=function(e,t,n,a,r){var c=e.xMin,l=e.yMin,i=l/t,o=c/t;return{width:(e.xMax-c)/t+1,height:(e.yMax-l)/t+1,top:i,left:o+10,border:"1px solid ".concat(qe(r)),position:"absolute",backgroundImage:a?'url("'.concat(n,'")'):"none",backgroundPosition:"".concat(-o,"px ").concat(-i,"px")}},Qe=function(e){var t=e.folder,n=e.id,a=e.index,l=e.originalWidth,i=e.zone,o=e.status,u=Object(r.useState)(),s=Object(w.a)(u,2),m=s[0],p=s[1],f=function(){var e=Object(v.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=p,e.next=3,q("base",n,Ne.width);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)(function(){f()},[]);var d=Object(r.useState)(!1),E=Object(w.a)(d,2),g=E[0],b=E[1],y=l/Ne.width;return c.a.createElement(We.a,{key:"".concat(n,"-").concat(a),content:c.a.createElement($e,{index:a,timestamp:t,id:n}),trigger:"click"},c.a.createElement("div",{style:Ge(i,y,m,g,o),onMouseOver:function(){return b(!0)},onMouseOut:function(){return b(!1)}}))},Ye=function(e){var t=e.folder,n=e.id,a=e.zones,l=e.originalWidth,i=void 0===l?0:l,o=e.onImg,u=void 0===o?function(){}:o,s=Object(r.useState)(),m=Object(w.a)(s,2),p=m[0],f=m[1],d=function(){var e=Object(v.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f,e.next=3,q(t,n,Ne.width);case 3:e.t1=e.sent,(0,e.t0)(e.t1),u();case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){d()},[]),p?c.a.createElement("div",{style:Ue},a&&a.map(function(e,a){var r=e.zone,l=e.status;return c.a.createElement(Qe,Object.assign({folder:t,id:n,index:a,originalWidth:i,zone:r,status:l},{key:"zone-".concat(n,"-").concat(a)}))}),c.a.createElement("img",{style:Ne,alt:"",src:p})):null},_e=function(e,t){var n=t.timestamp,a=t.id,r=(t.zones,t.status);t.type;return Object(v.a)(h.a.mark(function t(){var c;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y(n.toString(),a,r);case 3:c=t.sent,e(c,V,n),Fe.a.success('All zone are set to "'.concat(r,'".'),2),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),T.a.error({message:"Something went wrong!",description:t.t0.toString()});case 11:case"end":return t.stop()}},t,null,[[0,8]])}))},Ke=function(e){var t=Object(a.b)().update,n=e.status,r=e.type;return c.a.createElement(j.a,{type:r,title:'Set all zone to "'.concat(n,'".'),onClick:_e(t,e)})},Xe=n(77),et=function(e){return Object(Xe.unix)(e).calendar()},tt=function(e){var t,n,r=e.timestamp,l=e.lastUpdate,i=Object(a.b)(),o=i.call,u=i.response;c.a.useEffect(function(){o(V,r)},[l]);var s=function(){t&&t.layout(),clearTimeout(n),n=setTimeout(function(){t&&t.layout()},500)};return u?c.a.createElement(Pe.a,{style:Be,options:Je,ref:function(e){t=e&&e.masonry}},u.map(function(e){var t=e.id,n=e.url,a=e.png;return c.a.createElement(Ce.a,{key:t,style:De,cover:a&&c.a.createElement(Ye,{folder:r,id:t,zones:a.diff&&a.diff.zones,originalWidth:a.width,onImg:s}),actions:[c.a.createElement(Ke,{type:"check",timestamp:r,id:t,status:"valid",zones:a&&a.diff?a.diff.zones:[]}),c.a.createElement(Ke,{type:"warning",timestamp:r,id:t,status:"report",zones:a&&a.diff?a.diff.zones:[]}),c.a.createElement(Me,{timestamp:r,id:t})]},c.a.createElement("p",null,c.a.createElement(j.a,{type:"link"})," ",c.a.createElement("a",{href:n},n)),!a&&c.a.createElement("p",null,c.a.createElement(j.a,{type:"picture",theme:"outlined"})," No screenshot available"),a&&!a.diff&&c.a.createElement("div",null,c.a.createElement(j.a,{type:"picture",theme:"outlined"})," New screenshot ",c.a.createElement(Ae.a,{color:"green"},"New")),a&&a.diff&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,c.a.createElement(j.a,{type:"picture",theme:"outlined"})," Pixel diff ratio: ",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!e)return e;var n=t-1-Math.floor(Math.log(e)/Math.log(10));return e.toFixed(n)}(a.diff.pixelDiffRatio)),a.diff.zones.length>0&&c.a.createElement("p",null,c.a.createElement("b",null,"Zone:"),"\xa0",[["diff"],["valid","pin"],["report"]].map(function(e){var t,n,r=Object(Se.a)(e),l=r[0],i=r.slice(1);return c.a.createElement(c.a.Fragment,{key:l},c.a.createElement("span",{style:{marginLeft:10,color:qe(l)}},"\u25a0")," ",c.a.createElement("b",null,(t=a.diff.zones,n=[l].concat(Object(je.a)(i)),t.filter(function(e){var t=e.status;return n.includes(t)}).length))," ",l)}))))})):c.a.createElement(be.a,null)},nt=n(240),at=n.n(nt),rt=(n(535),n(239)),ct=n.n(rt),lt=function(e,t){var n=t.timestamp;return function(){var t=Object(v.a)(h.a.mark(function t(a){var r,c;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=a?"done":"review",t.next=4,_(n.toString(),r);case 4:c=t.sent,e(c,J,n.toString()),Fe.a.success('Status set to "'.concat(r,'".'),2),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),T.a.error({message:"Something went wrong!",description:t.t0.toString()});case 12:case"end":return t.stop()}},t,null,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()},it=function(e){var t=Object(a.b)().update;return c.a.createElement(ct.a,{checkedChildren:"done",unCheckedChildren:"review",checked:"done"===e.status,onChange:lt(t,e)})},ot=m.a.Title,ut=function(e){var t=e.crawler,n=t.timestamp,a=t.url,r=t.diffZoneCount,l=t.status,i=t.urlsCount,o=t.inQueue,u=t.startAt,s=t.lastUpdate,m=t.method,p=t.viewport,f=e.history,d=i+o,h=Math.floor(i/d*100),v=me(p);return c.a.createElement(c.a.Fragment,null,c.a.createElement(ot,{level:3},et(n)),c.a.createElement("p",null,c.a.createElement(L.a,{icon:"retweet",size:"small",onClick:function(){f.push({pathname:"/",search:Object(P.stringify)({url:a,method:m,viewport:JSON.stringify(p)})})}},"Re-run")),c.a.createElement("p",null,c.a.createElement("b",null,"URL:")," ",a),c.a.createElement("p",null,c.a.createElement("b",null,"Screen:")," ",v),c.a.createElement("p",null,c.a.createElement("b",null,"URL crawled:")," ",i),c.a.createElement("p",null,c.a.createElement("b",null,"Duration:")," ",Object(Xe.duration)(s-u).format("h [hrs], m [min], s [sec]")),o>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement(at.a,{percent:h}),c.a.createElement("p",null,c.a.createElement("b",null,"In queue:")," ",o)),r>0&&c.a.createElement("p",null,c.a.createElement(it,{status:l,timestamp:n})))},st=function(e){var t=e.match.params.timestamp,n=e.history,r=Object(a.b)(),l=r.call,i=r.response,o=r.cache,u=r.update;c.a.useEffect(function(){l(J,t)},[]),c.a.useEffect(function(){if(i){var e=o(N);if(e){var t=e.findIndex(function(e){return e.id===i.id});-1!==t&&(ke()(e[t],i)||(e[t]=i,u(e,N)))}}},[i]);var s=xe()(i,"lastUpdate");return clearTimeout(K),K=setTimeout(function(){l(J,t)},1e3),i?c.a.createElement(c.a.Fragment,null,c.a.createElement(ut,{crawler:i,history:n}),c.a.createElement(tt,{timestamp:t,lastUpdate:s})):c.a.createElement(be.a,null)},mt=n(242),pt=n.n(mt),ft=function(e){return 0===e?{borderTop:"1px solid #7e8791"}:{}},dt=function(e,t,n){return n>0?"loading":e?"done"===t?"issues-close":"exclamation-circle":"check"},ht=function(){var e=Object(a.b)(),t=e.call,n=e.response;return c.a.useEffect(function(){t(N)},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(re.a,{theme:"dark",mode:"inline"},c.a.createElement(re.a.Item,{key:"new"},c.a.createElement(j.a,{type:"plus"}),c.a.createElement("span",{className:"nav-text"},"New"),c.a.createElement(p.b,{to:"/"})),c.a.createElement(re.a.Item,{key:"pins"},c.a.createElement(j.a,{type:"pushpin"}),c.a.createElement("span",{className:"nav-text"},"Pins"),c.a.createElement(p.b,{to:"/pins"})),n&&n.sort(function(e,t){var n=e.timestamp;return t.timestamp-n}).map(function(e,t){var n=e.timestamp,a=e.url,r=e.id,l=e.diffZoneCount,i=e.status,o=e.inQueue;return c.a.createElement(re.a.Item,{key:"crawler-".concat(r),title:a,style:ft(t)},c.a.createElement(j.a,{type:dt(l,i,o)}),c.a.createElement("span",{className:"nav-text"},et(n)),c.a.createElement(p.b,{to:F(n)}))})),c.a.createElement(pt.a,{style:{position:"absolute",bottom:15,left:15}},c.a.createElement(p.b,{to:"/settings"},c.a.createElement(j.a,{type:"setting"}))))},vt=m.a.Title,Et=function(){var e,t,n=c.a.useState(),a=Object(w.a)(n,2),r=a[0],l=a[1],i=function(){var e=Object(v.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=l,e.next=3,W();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();c.a.useEffect(function(){i()},[]);var o=function(){e&&e.layout(),clearTimeout(t),t=setTimeout(function(){e&&e.layout()},500)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(vt,{level:3},"Pins"),r?c.a.createElement(Pe.a,{style:Be,options:Je,ref:function(t){e=t&&t.masonry}},r.map(function(e){var t=e.id,n=e.url,a=e.png,r=e.viewport;return c.a.createElement(Ce.a,{key:t,style:De,cover:a&&c.a.createElement(Ye,{folder:"base",id:t,onImg:o}),actions:[c.a.createElement(j.a,{type:"delete",title:"Delete pin"}),c.a.createElement(p.b,{to:z(t)},c.a.createElement(j.a,{type:"code",title:"Insert code while crawling"}))]},c.a.createElement("p",null,c.a.createElement(j.a,{type:"link"})," ",c.a.createElement("a",{href:n},n)),!a&&c.a.createElement("p",null,c.a.createElement(j.a,{type:"picture",theme:"outlined"})," No screenshot available"),r&&c.a.createElement("p",null,c.a.createElement(j.a,{type:"picture",theme:"outlined"})," ",me(r)))})):c.a.createElement(be.a,null))},gt=n(243),wt=n.n(gt),bt=(n(551),n(553),function(e){return c.a.createElement(re.a,null,c.a.createElement(re.a.Item,{key:"1",onClick:function(){e('module.exports = async function run(page) {\n    await page.evaluate(() => {\n        const div = document.createElement("div");\n        div.innerHTML = "Test-crawler is awesome!";\n        document.body.insertBefore(div, document.body.firstChild);\n    });\n}')}},"Test-crawler is awesome"),c.a.createElement(re.a.Item,{key:"2",onClick:function(){e("module.exports = async function run(page) {\n    await page.evaluate(() => {\n        hrefs = Array.from(document.links).map(\n            link => link.href.replace('/?', '/iframe.html?')\n        );\n\n        document.body.innerHTML = hrefs.map(\n            href => `<a href=\"${href}\">${href}</a>`\n        ).join('<br />');\n    });\n}")}},"Storybook"))}),yt=m.a.Title,xt=m.a.Paragraph,Ot=m.a.Text,kt={border:"1px solid #EEE",marginBottom:15,marginRight:15,float:"left"},jt=Object(E.a)({},De,{float:"left"}),St={marginBottom:15},It={marginRight:10},Ct=function(e){var t=e.match.params.id,n=c.a.useState("module.exports = async function run(page) {\n// your code\n}"),a=Object(w.a)(n,2),r=a[0],l=a[1],i=c.a.useState(),o=Object(w.a)(i,2),u=o[0],s=o[1],m=function(){var e=Object(v.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,H(t);case 3:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=l,e.next=8,$(t);case 8:e.t3=e.sent,(0,e.t2)(e.t3);case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();c.a.useEffect(function(){m()},[]);var p=function(){var e=Object(v.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z(t,r);case 3:Fe.a.success("Code saved.",2),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),T.a.error({message:"Something went wrong!",description:e.t0.toString()});case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,c.a.createElement(yt,{level:3},"Add some code"),u?c.a.createElement(c.a.Fragment,null,c.a.createElement(ee,null,c.a.createElement(xt,null,"Inject some code in the crawler while parsing the page. This code will be executed just after the page finish loaded, before to make the screenshot and before extracting the links. You need to export a function that will take as first parameter the ",c.a.createElement(Ot,{code:!0},"page")," coming from Puppeteer."),c.a.createElement(xt,null,c.a.createElement(Ot,{code:!0},"module.exports = async (page) => ...some code"))),c.a.createElement("div",{style:St},c.a.createElement(L.a,{icon:"save",onClick:p,style:It},"Save"),c.a.createElement(L.a,{icon:"caret-right",onClick:function(){Fe.a.warn("To be implemented.",2)},style:It},"Preview"),c.a.createElement(ne.a,{overlay:bt(l)},c.a.createElement(L.a,{style:It},"Code snippet ",c.a.createElement(j.a,{type:"down"})))),c.a.createElement(wt.a,{mode:"javascript",theme:"tomorrow",onChange:l,fontSize:14,value:r,style:kt}),c.a.createElement(Ce.a,{style:jt,cover:u.png&&c.a.createElement(Ye,{folder:"base",id:u.id})},c.a.createElement("p",null,c.a.createElement(j.a,{type:"link"})," ",c.a.createElement("a",{href:u.url},u.url)),!u.png&&c.a.createElement("p",null,c.a.createElement(j.a,{type:"picture",theme:"outlined"})," No screenshot available"))):c.a.createElement(be.a,null))},Tt=m.a.Title,At={backgroundColor:"#03101d",color:"#FFF",padding:10,height:500,whiteSpace:"pre-wrap",borderLeft:"solid 7px rgb(67, 83, 99)"},Lt=function(){var e=c.a.useState(),t=Object(w.a)(e,2),n=t[0],a=t[1],r=c.a.useState(""),l=Object(w.a)(r,2),i=l[0],o=l[1],u=function(){var e=Object(v.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,M();case 3:e.t1=e.sent,(0,e.t0)(e.t1),s();case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(v.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,U();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return c.a.useEffect(function(){u()},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Tt,{level:3},"Settings"),n?c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,c.a.createElement("b",null,"Dir:")," ",n.dir),c.a.createElement("p",null,c.a.createElement("b",null,"Log file:")," ",n.logFile)):c.a.createElement(be.a,null),c.a.createElement("pre",{style:At},i))},Pt=u.a.Sider,zt=u.a.Content,Ft=m.a.Title,Rt={minHeight:"100vh"},Mt={color:"#fff",margin:10},Ut={background:"#fff",padding:24,margin:10,minHeight:280},Nt=function(){return c.a.createElement(p.a,null,c.a.createElement(u.a,{style:Rt},c.a.createElement(Pt,null,c.a.createElement(Ft,{level:3,style:Mt},"Test-crawler"),c.a.createElement(ht,null)),c.a.createElement(zt,{style:Ut},c.a.createElement(f.a,{path:"/",exact:!0,component:ge}),c.a.createElement(f.a,{path:"/pins",exact:!0,component:Et}),c.a.createElement(f.a,{path:"/settings",exact:!0,component:Lt}),c.a.createElement(f.a,{path:z(":id"),exact:!0,component:Ct}),c.a.createElement(f.a,{path:F(":timestamp"),component:st}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(a.a,null,c.a.createElement(Nt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[245,1,2]]]);
//# sourceMappingURL=main.bba833d2.chunk.js.map
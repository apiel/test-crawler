{"version":3,"sources":["routes.tsx","server/crawler.ts","Info.tsx","History.tsx","Preset.tsx","viewport.ts","Viewport.tsx","New.tsx","PagesActionPin.tsx","pageStyle.tsx","DiffImageButtons.tsx","DiffZone.tsx","DiffImage.tsx","PagesActionZone.tsx","utils/index.ts","Pages.tsx","SwitchStatus.tsx","CrawlerInfo.tsx","SideMenu.tsx","Pins.tsx","PinCodeSnippet.tsx","PinCode.tsx","Settings.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["getPinCodeRoute","id","concat","getHistoryRoute","timestamp","getDir","_len","arguments","length","args","Array","_key","remote","getCrawlers","_len2","_key2","loadPresets","_len3","_key3","saveAndStart","_len4","_key4","getCrawler","_len5","_key5","getPages","_len6","_key6","getPins","_len7","_key7","getPin","_len8","_key8","setPinCode","_len9","_key9","getPinCode","_len10","_key10","getThumbnail","_len11","_key11","pin","_len12","_key12","setZoneStatus","_len13","_key13","setZonesStatus","_len14","_key14","setStatus","_len15","_key15","timer","infoStyle","lineHeight","borderLeft","paddingLeft","color","textAlign","Info","_ref","children","react_default","a","createElement","style","menu","presets","setPreset","menu_default","map","preset","Item","key","onClick","name","Preset","setDefault","_useState","useState","_useState2","Object","slicedToArray","setPresets","load","_ref2","asyncToGenerator","regenerator_default","mark","_callee","list","defaultIndex","wrap","_context","prev","next","sent","findIndex","_ref3","objectSpread","stop","apply","this","useEffect","dropdown_default","overlay","trigger","button_default","icon","viewports","value","width","height","isMobile","hasTouch","viewportsStr","viewport","objectWithoutProperties","JSON","stringify","getViewportName","valueStr","index","vp","Option","Select","Viewport","getFieldDecorator","initialValue","select_default","Paragraph","Typography","Text","inlineStyle","marginRight","display","toolbarStyle","backgroundColor","padding","borderRadius","marginBottom","NewForm","Form","create","history","search","location","_ref2$form","form","validateFields","call","useIsomor","start","_ref4","saveAs","input","response","parse","push","crawler","toString","t0","notification","message","description","_x","_usePreset","initialPreset","crawlerInput","method","url","crawlerInputRaw","usePreset","form_default","onSubmit","e","preventDefault","err","values","Preset_Preset","rules","required","input_default","addonBefore","addonAfter","Viewport_Viewport","radio_default","Group","size","Button","icon_default","type","Info_Info","ellipsis","rows","expandable","htmlType","placeholder","code","onPin","success","src_PagesActionPin","props","title","PagesActionPin","coverStyle","imgStyle","cardStyle","imgMargin","masonryStyle","paddingTop","paddingBottom","masonryOptions","gutter","fitWidth","buttonStyle","marginLeft","onSetStatus","update","status","pages","DiffImageButtons","Fragment","getColorByStatus","zoneStyle","ratio","img","over","xMin","yMin","top","left","xMax","yMax","border","position","backgroundImage","backgroundPosition","DiffZone","folder","originalWidth","zone","thumb","setThumb","t1","_useState3","_useState4","hover","setHover","popover_default","content","DiffImageButtons_DiffImageButtons","onMouseOver","onMouseOut","DiffImage","zones","_ref$originalWidth","_ref$onImg","onImg","DiffZone_DiffZone","assign","alt","src","PagesActionZone","timestampToString","unix","calendar","Pages","masonry","lastUpdate","_useIsomor","React","layout","clearTimeout","setTimeout","lib_default","options","ref","c","png","card_default","cover","DiffImage_DiffImage","diff","actions","PagesActionZone_PagesActionZone","href","theme","tag_default","n","precision","undefined","fix","Math","floor","log","toFixed","sigDig","pixelDiffRatio","perStatus","_ref5","toArray","more","slice","toConsumableArray","filter","includes","spin_default","onChange","SwitchStatus","switch_default","checkedChildren","unCheckedChildren","checked","Title","CrawlerInfo","_ref$crawler","diffZoneCount","urlsCount","inQueue","startAt","total","percent","screen","level","pathname","duration","format","progress_default","SwitchStatus_SwitchStatus","History","match","params","cache","crawlers","isEqual","get","CrawlerInfo_CrawlerInfo","Pages_Pages","dividerStyle","borderTop","getIcon","SideMenu","mode","className","react_router_dom","to","sort","affix_default","bottom","Pins","_React$useState","_React$useState2","pins","setPins","Pins_Title","codeSnippet","setCode","aceEditorStyle","float","cardRightStyle","buttonBarStyle","PinCode","_React$useState3","_React$useState4","setPin","t2","t3","onSave","_callee2","_context2","PinCode_Title","PinCode_Paragraph","PinCode_Text","warn","react_ace_lib_default","fontSize","Settings","libdir","setLibdir","Settings_Title","Sider","Layout","Content","layoutStyle","minHeight","titleStyle","margin","contentStyle","background","App","layout_default","App_Title","SideMenu_SideMenu","react_router","path","exact","component","New","Boolean","window","hostname","ReactDOM","render","dist","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5b7edf0b.chunk.js","sourcesContent":["export const getHomeRoute = () => '/';\nexport const getSettingsRoute = () => '/settings';\nexport const getPinsRoute = () => '/pins';\nexport const getPinCodeRoute = (id: string) => `/pin/code/${id}`;\nexport const getHistoryRoute = (timestamp: string) => `/history/${timestamp}`;","import { remote } from \"isomor\";\nexport function getDir(...args: any) {\n  return remote(\"server-crawler\", \"getDir\", args);\n}\nexport function getCrawlers(...args: any) {\n  return remote(\"server-crawler\", \"getCrawlers\", args);\n}\nexport function loadPresets(...args: any) {\n  return remote(\"server-crawler\", \"loadPresets\", args);\n}\nexport function saveAndStart(...args: any) {\n  return remote(\"server-crawler\", \"saveAndStart\", args);\n}\nexport function getCrawler(...args: any) {\n  return remote(\"server-crawler\", \"getCrawler\", args);\n}\nexport function getPages(...args: any) {\n  return remote(\"server-crawler\", \"getPages\", args);\n}\nexport function getPins(...args: any) {\n  return remote(\"server-crawler\", \"getPins\", args);\n}\nexport function getPin(...args: any) {\n  return remote(\"server-crawler\", \"getPin\", args);\n}\nexport function setPinCode(...args: any) {\n  return remote(\"server-crawler\", \"setPinCode\", args);\n}\nexport function getPinCode(...args: any) {\n  return remote(\"server-crawler\", \"getPinCode\", args);\n}\nexport function getThumbnail(...args: any) {\n  return remote(\"server-crawler\", \"getThumbnail\", args);\n}\nexport function pin(...args: any) {\n  return remote(\"server-crawler\", \"pin\", args);\n}\nexport function setZoneStatus(...args: any) {\n  return remote(\"server-crawler\", \"setZoneStatus\", args);\n}\nexport function setZonesStatus(...args: any) {\n  return remote(\"server-crawler\", \"setZonesStatus\", args);\n}\nexport function setStatus(...args: any) {\n  return remote(\"server-crawler\", \"setStatus\", args);\n}","import React from 'react';\n\nconst infoStyle = {\n    lineHeight: 1.2,\n    borderLeft: '8px solid #EEE',\n    paddingLeft: 15,\n    color: '#666',\n    textAlign: 'justify' as 'justify',\n}\n\nexport const Info = ({ children }: any) => (\n    <div style={infoStyle}>\n        { children }\n    </div>\n);\n","import React from 'react';\nimport Spin from 'antd/lib/spin';\nimport { RouteComponentProps } from 'react-router-dom';\nimport get from 'lodash/get';\nimport isEqual from 'lodash/isEqual';\n\nimport { Pages}  from './Pages';\nimport { CrawlerInfo } from './CrawlerInfo';\nimport { Crawler } from 'test-crawler-lib';\nimport { getCrawler, getCrawlers } from './server/crawler';\nimport { useIsomor } from 'isomor-react';\n\nlet timer: NodeJS.Timeout;\n\nexport const History = ({ match: { params: { timestamp } }, history }: RouteComponentProps<any>) => {\n    const { call, response, cache, update } = useIsomor<Crawler>(); //\n    React.useEffect(() => { call(getCrawler, timestamp); }, []);\n    React.useEffect(() => {\n        if (response) {\n            const crawlers = cache(getCrawlers) as Crawler[];\n            if (crawlers) {\n                const index = crawlers.findIndex(crawler => crawler.id === response.id);\n                if (index !== -1) {\n                    if (!isEqual(crawlers[index], response)) {\n                        crawlers[index] = response;\n                        update(crawlers, getCrawlers);\n                    }\n                }\n            }\n        }\n    }, [response]);\n    const lastUpdate = get(response, 'lastUpdate');\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n        call(getCrawler, timestamp);\n    }, 1000);\n    return response ? (\n        <>\n            <CrawlerInfo crawler={response} history={history} />\n            <Pages timestamp={timestamp} lastUpdate={lastUpdate} />\n        </>\n    ) : <Spin />;\n}\n","import React, { useState, useEffect } from 'react';\nimport Dropdown from 'antd/lib/dropdown';\nimport Button from 'antd/lib/button';\nimport Menu from 'antd/lib/menu';\nimport { Preset as PresetType } from 'test-crawler-lib';\nimport { loadPresets } from './server/crawler';\n\nconst menu = (presets: PresetType[], setPreset: React.Dispatch<React.SetStateAction<PresetType>>) => (\n    <Menu>\n        { presets && presets.map((preset) => (\n            <Menu.Item\n                key={`preset-${preset.id}`}\n                onClick={() => { setPreset(preset); }}\n            >\n                {preset.name}\n            </Menu.Item>\n        ))}\n    </Menu>\n);\n\nexport const Preset = ({ setPreset, setDefault }: any) => {\n    const [presets, setPresets] = useState<PresetType[]>([]);\n    const load = async () => {\n        const list = await loadPresets();\n        setPresets(list);\n        if (setDefault) {\n            const defaultIndex = list.findIndex(({ name }: PresetType) => name === 'Default');\n            if (defaultIndex !== -1) {\n                setPreset({ ...list[defaultIndex], name: '' });\n            }\n        }\n    }\n    useEffect(() => { load(); }, []);\n    return (\n        <Dropdown overlay={menu(presets, setPreset)} trigger={['click']}>\n            <Button icon=\"folder-open\">\n                Load saved preset\n            </Button>\n        </Dropdown>\n    );\n}\n","import { Viewport as ViewportObject } from 'test-crawler-lib';\n\nexport interface ViewportString {\n    name: string;\n    value: string;\n}\n\nexport interface Viewport {\n    name: string;\n    value: ViewportObject;\n}\n\nexport const viewports: Viewport[] = [\n    { name: 'Desktop - 800x600', value: { width: 800, height: 600 } },\n    { name: 'Desktop - 1024x768', value: { width: 1024, height: 768 } },\n    { name: 'iPhone 5 - 320x568', value: { width: 320, height: 568, isMobile: true, hasTouch: true } },\n    { name: 'iPhone 6 - 375x667', value: { width: 375, height: 667, isMobile: true, hasTouch: true } },\n    { name: 'Ipad - 768x1024', value: { width: 768, height: 1024, isMobile: true, hasTouch: true } },\n    { name: 'Galaxy S5 - 360x640', value: { width: 360, height: 640, isMobile: true, hasTouch: true } },\n];\n\nexport const viewportsStr: ViewportString[] = viewports.map(\n    ({ value, ...viewport }) => ({ ...viewport, value: JSON.stringify(value) })\n);\n\nexport const getDefaultViewportStr = () => viewportsStr[0];\nexport const getDefaultViewport = (): ViewportObject => viewports[0].value;\n\nexport const getViewportName = (value: ViewportObject) => {\n    const valueStr = JSON.stringify(value);\n    const index = viewportsStr.findIndex(vp => vp.value === valueStr);\n    if (index !== -1) {\n        return viewportsStr[index].name;\n    }\n    const { width, height, isMobile } = value;\n    return `${width}x${height}${ isMobile && ' mobile'}`;\n};\n","import React from 'react';\n\nimport Select from 'antd/lib/select';\nimport { viewportsStr, getDefaultViewportStr } from './viewport';\n\nconst { Option } = Select;\n\nexport const Viewport = ({ getFieldDecorator, initialValue }: any) => getFieldDecorator(\n    'viewport',\n    {\n        initialValue: initialValue || getDefaultViewportStr().name,\n    }\n)(\n    <Select>\n        {viewportsStr.map(\n            ({ value, name }) => <Option key={value} value={value}>{name}</Option>\n        )}\n    </Select>\n);\n","import React, { useState, useEffect } from 'react';\nimport Input from 'antd/lib/input';\n// import Select from 'antd/lib/select';\nimport Form, { FormComponentProps } from 'antd/lib/form';\nimport Icon from 'antd/lib/icon';\nimport Radio from 'antd/lib/radio';\nimport Typography from 'antd/lib/typography';\nimport notification from 'antd/lib/notification';\nimport Button from 'antd/lib/button';\nimport { parse } from 'query-string';\nimport { Preset as PresetType, CrawlerInput } from 'test-crawler-lib';\n\nimport { getHistoryRoute } from './routes';\nimport { saveAndStart, getCrawlers } from './server/crawler';\nimport { useIsomor } from 'isomor-react';\nimport { Info } from './Info';\nimport { Preset } from './Preset';\nimport { Viewport } from './Viewport';\nimport { RouteComponentProps } from 'react-router';\nimport { getDefaultViewport } from './viewport';\n// import { CrawlerMethod } from 'test-crawler-lib';\n\nconst { Paragraph, Text } = Typography;\n\nconst inlineStyle = {\n    marginRight: 10,\n    display: 'inline-block',\n}\n\nconst toolbarStyle = {\n    backgroundColor: '#EEE',\n    padding: '0px 10px',\n    borderRadius: 5,\n    marginBottom: 12,\n}\n\nconst usePreset = (search: string) => {\n    const initialPreset: PresetType = {\n        name: '',\n        id: '',\n        crawlerInput: {\n            method: 'spiderbot', // CrawlerMethod.SPIDER_BOT,\n            url: 'http://localhost:3003/',\n            viewport: getDefaultViewport(),\n        }\n    };\n    const [preset, setPreset] = useState<PresetType>(initialPreset);\n\n    useEffect(() => {\n        if (search) {\n            const { viewport, ...crawlerInputRaw } = parse(search) as any;\n            const crawlerInput: CrawlerInput = { ...crawlerInputRaw, viewport: JSON.parse(viewport) }\n            setPreset({ ...initialPreset, crawlerInput });\n        }\n    }, [search]);\n\n    return { preset, setPreset };\n}\n\ntype Props = FormComponentProps & RouteComponentProps;\nconst New = ({ history, location: { search }, form: { getFieldDecorator, validateFields } }: Props) => {\n    const { call } = useIsomor();\n    const start = async ({ saveAs, viewport, ...input }: any) => {\n        try {\n            const response = await saveAndStart({ ...input, viewport: JSON.parse(viewport) }, saveAs);\n            await call(getCrawlers);\n            history.push(getHistoryRoute(response.crawler.timestamp.toString()));\n        } catch (error) {\n            notification['error']({\n                message: 'Something went wrong!',\n                description: error.toString(),\n            });\n        }\n    }\n    const handleSubmit = (e: any) => {\n        e.preventDefault();\n        validateFields((err: any, values: any) => {\n            if (!err) {\n                start(values);\n            }\n        });\n    }\n\n    const { preset, setPreset } = usePreset(search);\n\n    return (\n        <Form onSubmit={handleSubmit}>\n            <Form.Item style={toolbarStyle}>\n                <Preset setPreset={setPreset} setDefault={!search} />\n            </Form.Item>\n            <Form.Item>\n                {getFieldDecorator('url', {\n                    rules: [{ required: true, message: 'Please input an URL to crawl!' }],\n                    initialValue: preset.crawlerInput.url,\n                })(\n                    <Input addonBefore=\"URL\" addonAfter={\n                        <Viewport\n                            getFieldDecorator={getFieldDecorator}\n                            initialValue={JSON.stringify(preset.crawlerInput.viewport)}\n                        />\n                    } />\n                )}\n            </Form.Item>\n            <Form.Item>\n                {getFieldDecorator('method', {\n                    initialValue: preset.crawlerInput.method,\n                })(\n                    <Radio.Group size=\"small\">\n                        <Radio.Button value={'spiderbot'}><Icon type=\"radar-chart\" /> Spider bot</Radio.Button>\n                        <Radio.Button value={'urls'}><Icon type=\"ordered-list\" /> URLs list</Radio.Button>\n                    </Radio.Group>\n                )}\n                <Info>\n                    <Paragraph ellipsis={{ rows: 1, expandable: true }}>\n                        <b>Spider bot</b> crawling method will get all the links inside the page of the given URL\n                        and crawl the children. It will then continue do the same with the children till no new\n                        link is found. Be careful if you have big website, this is most likely not the right\n                        solution for you.\n                    </Paragraph>\n                    <Paragraph ellipsis={{ rows: 1, expandable: true }}>\n                        <b>URLs list</b> crawling method will crawl a specific sets of URLs. In the URL input field\n                        you must provide an endpoint containing a list of URLs (a simple text format, with one URL\n                        per line). The crawler will crawl each of those URL only and will not try to find links in\n                        the page.\n                    </Paragraph>\n                </Info>\n            </Form.Item>\n            <Form.Item>\n                <Form.Item style={inlineStyle}>\n                    <Button\n                        type=\"primary\"\n                        icon=\"caret-right\"\n                        htmlType=\"submit\"\n                    >\n                        Start\n                    </Button>\n                </Form.Item>\n                <Form.Item style={inlineStyle}>\n                    {getFieldDecorator('saveAs', {\n                        initialValue: preset.name,\n                    })(\n                        <Input addonBefore=\"Save as\" placeholder=\"Leave empty to don't save\" />\n                    )}\n                </Form.Item>\n                <Info>\n                    <Paragraph>\n                        If you save as <Text code>Default</Text>, this preset will always be load per default.\n                    </Paragraph>\n                </Info>\n            </Form.Item>\n        </Form>\n    );\n}\n\nconst NewForm = Form.create({ name: 'start_crawler' })(New);\nexport default NewForm;\n","import React from 'react';\nimport Icon from 'antd/lib/icon';\nimport message from 'antd/lib/message';\nimport notification from 'antd/lib/notification';\nimport { pin } from './server/crawler';\n\n\nconst onPin = ({ timestamp, id }: any) => async () => {\n    try {\n        await pin(timestamp.toString(), id);\n        message.success('Page pinned as reference for comparison.', 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\nconst PagesActionPin = (props: any) =>\n    <Icon\n        type=\"pushpin\"\n        title=\"pin as reference for comparison\"\n        onClick={onPin(props)}\n    />;\n\nexport default function(props: any) {\n    return PagesActionPin(props);\n}\n","export const coverStyle = {\n    textAlign: 'center',\n    // borderBottom: '1px solid #888',\n}\n\nexport const imgStyle = {\n    width: 300,\n}\n\nexport const imgMargin = 10;\n\nexport const cardStyle = {\n    width: imgStyle.width + imgMargin*2,\n    marginBottom: 10,\n};\n\nexport const masonryStyle = {\n    paddingTop: 10,\n    paddingBottom: 10,\n}\n\nexport const masonryOptions = {\n    gutter: 10,\n    // percentPosition: true,\n    fitWidth: true,\n}\n\nexport const iconTheme = 'outlined'; // 'twoTone'\n","import React from 'react';\nimport message from 'antd/lib/message';\nimport notification from 'antd/lib/notification';\nimport { useIsomor } from 'isomor-react';\nimport Button from 'antd/lib/button';\n\nimport { setZoneStatus } from './server/crawler';\nimport { getPages } from './server/crawler';\n\n\nconst buttonStyle = {\n    marginLeft: 5,\n    marginRight: 5,\n}\n\nconst onSetStatus = (update: any, status: string, { timestamp, id, index }: any) => async () => {\n    try {\n        const pages = await setZoneStatus(timestamp.toString(), id, index, status);\n        update(pages, getPages, timestamp);\n        message.success('Page pinned as reference for comparison.', 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n// neeed to flatten? and inject onSetStatus?\nexport const DiffImageButtons = (props: any) => {\n    const { update } = useIsomor();\n    return (\n        <>\n            <Button\n                style={buttonStyle}\n                icon=\"check\"\n                size=\"small\"\n                onClick={onSetStatus(update, 'valid', props)}>Valid</Button>\n            <Button\n                style={buttonStyle}\n                icon=\"pushpin\"\n                size=\"small\"\n                onClick={onSetStatus(update, 'pin', props)}>Always valid</Button>\n            <Button\n                style={buttonStyle}\n                icon=\"warning\"\n                size=\"small\"\n                type=\"danger\"\n                onClick={onSetStatus(update, 'report', props)}>Report</Button>\n        </>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport Popover from 'antd/lib/popover';\n\nimport {\n    imgStyle,\n    imgMargin,\n} from './pageStyle';\n\nimport './App.css';\nimport { DiffImageButtons } from './DiffImageButtons';\nimport { getThumbnail } from './server/crawler';\nimport { Zone } from 'test-crawler-lib';\n\nexport const getColorByStatus = (status: string) => {\n    if (status === 'valid' || status === 'pin') {\n        return '#0F0'; //'green';\n    } else if (status === 'report') {\n        return 'red';\n    }\n    return 'yellow';\n}\n\nconst zoneStyle = ({ xMin, yMin, xMax, yMax }: any, ratio: number, img: string | undefined, over: boolean, status: string) => {\n    const top = yMin / ratio;\n    const left = xMin / ratio;\n    return ({\n        width: (xMax - xMin) / ratio + 1,\n        height: (yMax - yMin) / ratio + 1,\n        top,\n        left: left + imgMargin,\n        border: `1px solid ${getColorByStatus(status)}`,\n        position: 'absolute',\n        backgroundImage: over ? `url(\"${img}\")` : 'none',\n        backgroundPosition: `${-left}px ${-top}px`,\n    });\n}\n\ninterface Props {\n    folder: string;\n    id: string;\n    zone: Zone;\n    originalWidth: number;\n    index: number;\n    status: string;\n};\n\nexport const DiffZone = ({ folder, id, index, originalWidth, zone, status }: Props) => {\n    const [thumb, setThumb] = useState<string>();\n    const load = async () => {\n        setThumb(await getThumbnail('base', id, imgStyle.width));\n    }\n    useEffect(() => { load(); }, []);\n    const [hover, setHover] = useState(false);\n    const ratio = originalWidth / imgStyle.width;\n    return (\n        <Popover key={`${id}-${index}`} content={(\n            <DiffImageButtons index={index} timestamp={folder} id={id} />\n        )} trigger=\"click\">\n            <div\n                style={zoneStyle(zone, ratio, thumb, hover, status) as any}\n                onMouseOver={() => setHover(true)}\n                onMouseOut={() => setHover(false)}\n            />\n        </Popover>\n    );\n}\n","import React, { useState, useEffect } from 'react';\n\nimport {\n    coverStyle,\n    imgStyle,\n} from './pageStyle';\n\nimport './App.css';\nimport { getThumbnail } from './server/crawler';\nimport { DiffZone } from './DiffZone';\nimport { Zone } from 'test-crawler-lib';\n\ninterface Props {\n    folder: string;\n    id: string;\n    zones?: Zone[];\n    originalWidth?: number;\n    onImg?: () => void;\n};\n\nexport const DiffImage = ({ folder, id, zones, originalWidth = 0, onImg = () => {} }: Props) => {\n    const [thumb, setThumb] = useState<string>();\n    const load = async () => {\n        setThumb(await getThumbnail(folder, id, imgStyle.width));\n        onImg();\n    }\n    useEffect(() => { load(); }, []);\n    return thumb ? (\n        <div style={coverStyle as any}>\n            {zones && zones.map(({ zone, status }: any, index: number) =>\n                <DiffZone {...{ folder, id, index, originalWidth, zone, status }} key={`zone-${id}-${index}`} />)}\n            <img style={imgStyle} alt=\"\" src={thumb} />\n        </div>) : null;\n}\n","import React from 'react';\nimport Icon from 'antd/lib/icon';\nimport message from 'antd/lib/message';\nimport notification from 'antd/lib/notification';\nimport { useIsomor } from 'isomor-react';\nimport { setZonesStatus, getPages } from './server/crawler';\n\nconst onClick = (update: any, { timestamp, id, zones, status, type }: any) => async () => {\n    try {\n        const pages = await setZonesStatus(timestamp.toString(), id, status);\n        update(pages, getPages, timestamp);\n        message.success(`All zone are set to \"${status}\".`, 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\nexport const PagesActionZone = (props: any) => {\n    const { update } = useIsomor();\n    const { status, type } = props;\n    return (\n        <Icon type={type} title={`Set all zone to \"${status}\".`} onClick={onClick(update, props)} />\n    );\n}\n","import { unix } from 'moment';\n\nexport const timestampToString = (timestamp: number) => unix(timestamp)//.format('YYYY.DD.MM HH:mm')\n    .calendar()\n\nexport const sigDig = (n: number, precision = 1) => {\n    if (!n) {\n        return n;\n    }\n    const fix = (precision - 1) - Math.floor(Math.log(n) / Math.log(10));\n    return n.toFixed(fix);\n}","import React from 'react';\nimport Card from 'antd/lib/card';\nimport Spin from 'antd/lib/spin';\nimport Tag from 'antd/lib/tag';\nimport Icon from 'antd/lib/icon';\nimport Masonry from 'react-masonry-component';\nimport { useIsomor } from 'isomor-react';\n\nimport PagesActionPin from './PagesActionPin';\nimport {\n    masonryStyle,\n    masonryOptions,\n    cardStyle,\n    iconTheme,\n} from './pageStyle';\nimport { DiffImage } from './DiffImage'\nimport { PagesActionZone } from './PagesActionZone';\n// import { PageData } from 'test-crawler-lib';\nimport { getPages } from './server/crawler';\nimport { getColorByStatus } from './DiffZone';\nimport { sigDig } from './utils';\n\nconst getCountZonesPerStatus = (zones: any, perStatus: string[]) =>\n    zones.filter(({ status }: any) => perStatus.includes(status)).length\n\ninterface Props {\n    timestamp: string;\n    lastUpdate: number;\n}\nexport const Pages = ({ timestamp, lastUpdate }: Props) => {\n    const { call, response } = useIsomor(); // <PageData[]>\n    React.useEffect(() => { call(getPages, timestamp); }, [lastUpdate]);\n\n    let masonry: any;\n    let timer: NodeJS.Timer;\n    const onImg = () => {\n        if (masonry) masonry.layout();\n        clearTimeout(timer);\n        timer = setTimeout(() => {\n            if (masonry) masonry.layout();\n        }, 500);\n    }\n    return response ? (\n        <Masonry\n            style={masonryStyle}\n            options={masonryOptions}\n            ref={(c: any) => { masonry = c && c.masonry; }}\n        >\n            {\n                response.map(({ id, url, png }: any) => (\n                    <Card\n                        key={id}\n                        style={cardStyle}\n                        cover={png && <DiffImage\n                            folder={timestamp}\n                            id={id}\n                            zones={png.diff && png.diff.zones}\n                            originalWidth={png.width}\n                            onImg={onImg}\n                        />}\n                        actions={[\n                            <PagesActionZone type=\"check\" timestamp={timestamp} id={id} status={'valid'} zones={png && png.diff ? png.diff.zones : []} />,\n                            <PagesActionZone type=\"warning\" timestamp={timestamp} id={id} status={'report'} zones={png && png.diff ? png.diff.zones : []} />,\n                            <PagesActionPin timestamp={timestamp} id={id} />,\n                            // <Icon type=\"ellipsis\" title=\"more\" />,\n                        ]}\n                    >\n                        <p><Icon type=\"link\" /> <a href={url}>{url}</a></p>\n                        {!png && <p><Icon type=\"picture\" theme={iconTheme} /> No screenshot available</p>}\n                        {png && !png.diff && <div><Icon type=\"picture\" theme={iconTheme} /> New screenshot <Tag color=\"green\">New</Tag></div>}\n                        {png && png.diff && <>\n                            <p><Icon type=\"picture\" theme={iconTheme} /> Pixel diff ratio: {sigDig(png.diff.pixelDiffRatio)}</p>\n                            {png.diff.zones.length > 0 &&\n                                <p>\n                                    <b>Zone:</b>&nbsp;\n                            {[['diff'], ['valid', 'pin'], ['report']].map(([status, ...more]) => (\n                                        <React.Fragment key={status}>\n                                            <span style={{\n                                                marginLeft: 10,\n                                                color: getColorByStatus(status)\n                                            }}>■</span> <b>{getCountZonesPerStatus(png.diff.zones, [status, ...more])}</b> {status}\n                                        </React.Fragment>\n                                    ))}\n                                </p>\n                            }\n                        </>}\n                    </Card>\n                ))\n            }\n        </Masonry >\n    ) : <Spin />;\n}\n","import React from 'react';\nimport Switch from 'antd/lib/switch';\nimport message from 'antd/lib/message';\nimport notification from 'antd/lib/notification';\nimport { setStatus, getCrawler } from './server/crawler';\nimport { useIsomor } from 'isomor-react';\n\nconst onChange = (update: any, { timestamp }: any) => async (value: boolean) => {\n    try {\n        const status = value ? 'done' : 'review';\n        const crawler = await setStatus(timestamp.toString(), status);\n        update(crawler, getCrawler, timestamp.toString());\n        message.success(`Status set to \"${status}\".`, 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\nexport const SwitchStatus = (props: any) => {\n    const { update } = useIsomor();\n    return <Switch\n        checkedChildren=\"done\"\n        unCheckedChildren=\"review\"\n        checked={props.status === 'done'}\n        onChange={onChange(update, props)}\n    />;\n}","import React from 'react';\nimport Typography from 'antd/lib/typography';\nimport Progress from 'antd/lib/progress';\nimport Button from 'antd/lib/button';\nimport { Crawler } from 'test-crawler-lib';\nimport { History } from 'history';\nimport { stringify } from 'query-string';\nimport { duration } from 'moment';\nimport 'moment-duration-format';\n\nimport { timestampToString } from './utils';\nimport { SwitchStatus } from './SwitchStatus';\nimport { getHomeRoute } from './routes';\nimport { getViewportName } from './viewport';\n\nconst { Title } = Typography;\n\n// need to flatten props and use react memo\nexport const CrawlerInfo = ({\n    crawler: {\n        timestamp,\n        url,\n        diffZoneCount,\n        status,\n        urlsCount,\n        inQueue,\n        startAt,\n        lastUpdate,\n        method,\n        viewport,\n    },\n    history,\n}: { crawler: Crawler, history: History }) => {\n    const total = urlsCount + inQueue;\n    const percent = Math.floor(urlsCount / total * 100);\n    const onReRun = () => {\n        history.push({\n            pathname: getHomeRoute(),\n            search: stringify({ url, method, viewport: JSON.stringify(viewport) }),\n        });\n    };\n    const screen = getViewportName(viewport);\n    return (\n        <>\n            <Title level={3}>{timestampToString(timestamp)}</Title>\n            <p><Button icon=\"retweet\" size=\"small\" onClick={onReRun}>Re-run</Button></p>\n            <p><b>URL:</b> {url}</p>\n            <p><b>Screen:</b> {screen}</p>\n            <p><b>URL crawled:</b> {urlsCount}</p>\n            <p><b>Duration:</b> { duration(lastUpdate - startAt).format('h [hrs], m [min], s [sec]') }</p>\n            {inQueue > 0 && <>\n                <Progress percent={percent} />\n                <p><b>In queue:</b> {inQueue}</p>\n            </>}\n            {diffZoneCount > 0 && <p><SwitchStatus status={status} timestamp={timestamp} /></p>}\n        </>\n    );\n}\n","import React from 'react';\nimport Icon from 'antd/lib/icon';\nimport Menu from 'antd/lib/menu';\nimport Affix from 'antd/lib/affix';\nimport { Link } from 'react-router-dom';\nimport { Crawler } from 'test-crawler-lib';\nimport { useIsomor } from 'isomor-react';\n\nimport { getHomeRoute, getHistoryRoute, getPinsRoute, getSettingsRoute } from './routes';\nimport { timestampToString } from './utils';\nimport { getCrawlers } from './server/crawler';\n\nconst dividerStyle = (index: number) => index === 0 ? ({\n    borderTop: '1px solid #7e8791',\n}) : ({});\n\nconst getIcon = (diffZoneCount: number, status: string, inQueue: number) => {\n    if (inQueue > 0) {\n        return 'loading';\n    }\n    if (!diffZoneCount) {\n        return 'check';\n    }\n    if (status === 'done') {\n        return 'issues-close';\n    }\n    return 'exclamation-circle';\n}\n\nexport const SideMenu = () => {\n    const { call, response: crawlers } = useIsomor(); // <Crawler[]>\n    React.useEffect(() => { call(getCrawlers); }, []);\n    return (\n        <>\n            <Menu theme=\"dark\" mode=\"inline\">\n                <Menu.Item key=\"new\">\n                    <Icon type=\"plus\" />\n                    <span className=\"nav-text\">New</span>\n                    <Link to={getHomeRoute()} />\n                </Menu.Item>\n                <Menu.Item key=\"pins\">\n                    <Icon type=\"pushpin\" />\n                    <span className=\"nav-text\">Pins</span>\n                    <Link to={getPinsRoute()} />\n                </Menu.Item>\n                {crawlers &&\n                    crawlers.sort(({ timestamp: a }: any, { timestamp: b }: any) => b - a)\n                        .map(({ timestamp, url, id, diffZoneCount, status, inQueue }: any, index: number) => (\n                            <Menu.Item key={`crawler-${id}`} title={url} style={dividerStyle(index)}>\n                                <Icon type={getIcon(diffZoneCount, status, inQueue)} />\n                                <span className=\"nav-text\">\n                                    {timestampToString(timestamp)}\n                                </span>\n                                <Link to={getHistoryRoute(timestamp)} />\n                            </Menu.Item>\n                        ))}\n            </Menu>\n            <Affix style={{ position: 'absolute', bottom: 15, left: 15 }}>\n                <Link to={getSettingsRoute()}>\n                    <Icon type=\"setting\" />\n                </Link>\n            </Affix>\n        </>\n    );\n}\n","import React from 'react';\nimport Spin from 'antd/lib/spin';\nimport Typography from 'antd/lib/typography';\nimport Card from 'antd/lib/card';\nimport Icon from 'antd/lib/icon';\nimport Masonry from 'react-masonry-component';\n\nimport {\n    masonryStyle,\n    masonryOptions,\n    cardStyle,\n    iconTheme,\n} from './pageStyle';\nimport { DiffImage } from './DiffImage';\nimport { getPins } from './server/crawler';\nimport { PageData } from 'test-crawler-lib';\nimport { Link } from 'react-router-dom';\nimport { getPinCodeRoute } from './routes';\nimport { getViewportName } from './viewport';\n\nconst { Title } = Typography;\n\nexport const Pins = () => {\n    const [pins, setPins] = React.useState<PageData[]>();\n    const load = async () => {\n        setPins(await getPins());\n    }\n    React.useEffect(() => { load(); }, []);\n\n\n    let masonry: any;\n    let timer: NodeJS.Timer;\n    const onImg = () => {\n        if (masonry) masonry.layout();\n        clearTimeout(timer);\n        timer = setTimeout(() => {\n            if (masonry) masonry.layout();\n        }, 500);\n    }\n    return (\n        <>\n            <Title level={3}>Pins</Title>\n            {\n                pins ? (\n                    <Masonry\n                        style={masonryStyle}\n                        options={masonryOptions}\n                        ref={(c: any) => { masonry = c && c.masonry; }}\n                    >\n                        {pins.map(({ id, url, png, viewport }: any) => (\n                            <Card\n                                key={id}\n                                style={cardStyle}\n                                cover={png && <DiffImage folder='base' id={id} onImg={onImg} />}\n                                actions={[\n                                    <Icon type=\"delete\" title={`Delete pin`} />,\n                                    (<Link to={getPinCodeRoute(id)}>\n                                        <Icon type=\"code\" title={`Insert code while crawling`} />\n                                    </Link>),\n                                ]}\n                            >\n                                <p><Icon type=\"link\" /> <a href={url}>{url}</a></p>\n                                {!png && <p><Icon type=\"picture\" theme={iconTheme} /> No screenshot available</p>}\n                                {viewport && <p><Icon type=\"picture\" theme={iconTheme} /> {getViewportName(viewport)}</p>}\n                            </Card>\n                        ))}\n                    </Masonry>\n                ) : <Spin />\n            }\n        </>\n    );\n}\n","import React from 'react';\nimport Menu from 'antd/lib/menu';\n\nexport const codeSnippet = (setCode: any) => (\n    <Menu>\n        <Menu.Item\n            key=\"1\"\n            onClick={() => {\n                setCode(\n`module.exports = async function run(page) {\n    await page.evaluate(() => {\n        const div = document.createElement(\"div\");\n        div.innerHTML = \"Test-crawler is awesome!\";\n        document.body.insertBefore(div, document.body.firstChild);\n    });\n}`\n                );\n            }}\n        >\n            Test-crawler is awesome\n        </Menu.Item>\n        <Menu.Item\n            key=\"2\"\n            onClick={() => {\n                setCode(\n`module.exports = async function run(page) {\n    await page.evaluate(() => {\n        hrefs = Array.from(document.links).map(\n            link => link.href.replace('/?', '/iframe.html?')\n        );\n\n        document.body.innerHTML = hrefs.map(\n            href => \\`<a href=\"\\${href}\">\\${href}</a>\\`\n        ).join('<br />');\n    });\n}`\n                );\n            }}\n        >\n            Storybook\n        </Menu.Item>\n    </Menu>\n);","import React from 'react';\nimport Spin from 'antd/lib/spin';\nimport Typography from 'antd/lib/typography';\nimport Card from 'antd/lib/card';\nimport Icon from 'antd/lib/icon';\nimport Button from 'antd/lib/button';\nimport notification from 'antd/lib/notification';\nimport message from 'antd/lib/message';\nimport Dropdown from 'antd/lib/dropdown';\nimport AceEditor from 'react-ace';\nimport { RouteComponentProps } from 'react-router';\n\nimport 'brace/mode/javascript';\nimport 'brace/theme/tomorrow';\n\nimport {\n    cardStyle,\n    iconTheme,\n} from './pageStyle';\nimport { DiffImage } from './DiffImage';\nimport { PageData } from 'test-crawler-lib';\nimport { getPin, setPinCode, getPinCode } from './server/crawler';\nimport { Info } from './Info';\nimport { codeSnippet } from './PinCodeSnippet';\n\nconst { Title, Paragraph, Text } = Typography;\n\nconst aceEditorStyle = {\n    border: '1px solid #EEE',\n    marginBottom: 15,\n    marginRight: 15,\n    float: 'left' as 'left',\n}\n\nconst cardRightStyle = {\n    ...cardStyle,\n    float: 'left' as 'left',\n}\n\nconst buttonBarStyle = {\n    marginBottom: 15,\n}\n\nconst buttonStyle = {\n    marginRight: 10,\n}\n\nexport const PinCode = ({ match: { params: { id } } }: RouteComponentProps<any>) => {\n    const [code, setCode] = React.useState<string>(`module.exports = async function run(page) {\\n// your code\\n}`);\n    const [pin, setPin] = React.useState<PageData>();\n    const load = async () => {\n        setPin(await getPin(id));\n        setCode(await getPinCode(id));\n    }\n    React.useEffect(() => { load(); }, []);\n\n    const onSave = async () => {\n        try {\n            await setPinCode(id, code);\n            message.success('Code saved.', 2);\n        } catch (error) {\n            notification['error']({\n                message: 'Something went wrong!',\n                description: error.toString(),\n            });\n        }\n    }\n\n    const onPlay = () => {\n        message.warn('To be implemented.', 2);\n    }\n\n    return (\n        <>\n            <Title level={3}>Add some code</Title>\n            {\n                pin ? (\n                    <>\n                        <Info>\n                            <Paragraph>\n                                Inject some code in the crawler while parsing the page. This code will\n                                be executed just after the page finish loaded, before to make the screenshot and\n                                before extracting the links. You need to export a function that will take as\n                                first parameter the <Text code>page</Text> coming from Puppeteer.\n                            </Paragraph>\n                            <Paragraph>\n                                <Text code>module.exports = async (page) => ...some code</Text>\n                            </Paragraph>\n                        </Info>\n                        <div style={buttonBarStyle}>\n                            <Button icon=\"save\" onClick={onSave} style={buttonStyle}>Save</Button>\n                            <Button icon=\"caret-right\" onClick={onPlay} style={buttonStyle}>Preview</Button>\n                            <Dropdown overlay={codeSnippet(setCode)}>\n                                <Button style={buttonStyle}>\n                                    Code snippet <Icon type=\"down\" />\n                                </Button>\n                            </Dropdown>\n                        </div>\n                        <AceEditor\n                            mode=\"javascript\"\n                            theme=\"tomorrow\"\n                            onChange={setCode}\n                            fontSize={14}\n                            value={code}\n                            style={aceEditorStyle}\n                        />\n                        <Card\n                            style={cardRightStyle}\n                            cover={pin.png && <DiffImage folder='base' id={pin.id} />}\n                        >\n                            <p><Icon type=\"link\" /> <a href={pin.url}>{pin.url}</a></p>\n                            {!pin.png && <p><Icon type=\"picture\" theme={iconTheme} /> No screenshot available</p>}\n                        </Card>\n                    </>\n                ) : <Spin />\n            }\n        </>\n    );\n}\n","import React from 'react';\nimport Typography from 'antd/lib/typography';\n\nimport { getDir } from './server/crawler';\n\nconst { Title } = Typography;\n\nexport const Settings = () => {\n    const [libdir, setLibdir] = React.useState<string>('');\n    const load = async () => {\n        setLibdir(await getDir());\n    }\n    React.useEffect(() => { load(); }, []);\n\n    return (\n        <>\n            <Title level={3}>Settings</Title>\n            <p><b>Dir:</b> {libdir}</p>\n        </>\n    );\n}\n","import React from 'react';\nimport Icon from 'antd/lib/icon';\nimport Layout from 'antd/lib/layout';\nimport Typography from 'antd/lib/typography';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport './App.css';\nimport New from './New';\nimport { History } from './History';\nimport { SideMenu } from './SideMenu';\nimport { getHomeRoute, getHistoryRoute, getPinsRoute, getPinCodeRoute, getSettingsRoute } from './routes';\nimport { Pins } from './Pins';\nimport { PinCode } from './PinCode';\nimport { Settings } from './Settings';\n\nconst { Sider, Content } = Layout;\nconst { Title } = Typography;\n\nconst layoutStyle = {\n    minHeight: '100vh',\n};\nconst titleStyle = {\n    color: '#fff',\n    margin: 10,\n}\nconst contentStyle = {\n    background: '#fff',\n    padding: 24,\n    margin: 10,\n    minHeight: 280,\n};\n\nconst App = () => (\n    <Router>\n        <Layout style={layoutStyle}>\n            <Sider>\n                <Title level={3} style={titleStyle}>\n                    Test-crawler\n                </Title>\n                <SideMenu />\n            </Sider>\n            <Content style={contentStyle}>\n                <Route path={getHomeRoute()} exact component={New} />\n                <Route path={getPinsRoute()} exact component={Pins} />\n                <Route path={getSettingsRoute()} exact component={Settings} />\n                <Route path={getPinCodeRoute(':id')} exact component={PinCode} />\n                <Route path={getHistoryRoute(':timestamp')} component={History} />\n            </Content>\n        </Layout>\n    </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { IsomorProvider } from 'isomor-react';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render((<IsomorProvider><App /></IsomorProvider>), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
{"version":3,"sources":["routes.tsx","server/service.ts","common/Info.tsx","server/storage.typing.ts","viewport.ts","projects/new/Viewport.tsx","projects/new/NewProject.tsx","server/error.ts","hook/useAsync.ts","projects/useProjects.tsx","search/search.ts","common/refreshMasonry.ts","auth/GitHubAuth.tsx","projects/ProjectsPerRemote.tsx","hook/useError.tsx","projects/Projects.tsx","pages/pageStyle.tsx","common/ErrorHandler.tsx","search/Search.tsx","utils/index.ts","diff/DiffImageButtons.tsx","diff/DiffZone.tsx","pages/PageImageDiffZone.tsx","pages/PageImageDiff.tsx","pages/PageImage.tsx","pages/Page.tsx","pages/PagesActionZone.tsx","pages/PagesActionPin.tsx","diff/DiffImage.tsx","diff/DiffImageWithZone.tsx","pages/PagesActionFullscreen.tsx","pages/PagesActions.tsx","pages/Pages.tsx","crawler/SwitchStatus.tsx","projects/useProject.tsx","projects/ProjectName.tsx","crawler/CrawlerInfo.tsx","crawler/CrawlerResults.tsx","pin/PinPage.tsx","pin/Pins.tsx","code/CodeInfo.tsx","code/codeStyle.ts","code/CodeFrom.tsx","code/CodeSnippet.tsx","code/Code.tsx","Settings.tsx","code/Codes.tsx","projects/Project.tsx","projects/useCrawlers.tsx","projects/ProjectBreadcrumb.tsx","crawler/CrawlerResultsBreadcrumb.tsx","pin/PinsBreadcrumb.tsx","code/CodeBreadcrumb.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["getNewProjectRoute","storageType","getPinsRoute","projectId","getCodeRoute","id","getResultsRoute","timestamp","getProjectRoute","getSettings","args","isomorRemote","saveProject","getCrawlers","setCode","getThumbnail","removePin","pin","setZoneStatus","setZonesStatus","setStatus","startCrawler","startCrawlers","StorageType","infoStyle","lineHeight","borderLeft","paddingLeft","color","textAlign","Info","children","style","viewports","name","value","width","height","isMobile","hasTouch","viewportsStr","map","viewport","JSON","stringify","getViewportName","valueStr","index","findIndex","vp","Option","Select","Viewport","getFieldDecorator","initialValue","key","inlineStyle","marginRight","display","radioGroupdStyle","save","history","a","input","parse","undefined","push","notification","message","description","toString","handleSubmit","validateFields","event","preventDefault","err","values","NewForm","Form","create","match","params","form","getFieldValue","onSubmit","Item","rules","required","addonBefore","placeholder","addonAfter","Group","size","Button","type","min","content","trigger","overlayStyle","Paragraph","ellipsis","rows","expandable","href","target","rel","valuePropName","icon","htmlType","ERR","load","fn","setResult","setError","setLoading","result","useAsync","deps","React","useState","error","loading","call","useEffect","useProjects","loadProjects","projects","timerSearch","masonry","timer","console","log","Cookies","set","path","GitHubAuth","Title","level","Password","ProjectsPerRemote","title","ErrorComponent","missingGitHubConfig","useError","itemLayout","bordered","dataSource","renderItem","url","crawlerInput","actions","to","Meta","Projects","Object","keys","coverStyle","imgStyle","cardStyle","cardImgMargin","marginBottom","masonryStyle","paddingTop","paddingBottom","masonryOptions","gutter","fitWidth","ErrorHandler","showIcon","searchStyle","onSearch","setPages","pages","filters","length","clearTimeout","setTimeout","filterPages","searchPages","Fuse","search","onFilter","setFilters","searchValue","filter","availableFilters","includes","join","page","res","pixelDiffRatio","get","png","diff","Search","response","withFilters","selectedFilters","setSelectedFilters","pagesFiltered","setPagesFiltered","mode","onChange","tokenSeparators","filterOption","timestampToString","unix","parseInt","calendar","buttonStyle","marginLeft","onSetStatus","status","success","DiffImageButtons","props","onClick","getColorByStatus","zoneStyle","ratio","img","over","xMin","yMin","top","left","xMax","yMax","border","position","backgroundImage","backgroundPosition","backgroundSize","DiffZone","folder","originalWidth","zone","thumb","setThumb","hover","setHover","onMouseOver","onMouseOut","PageImageDiffZone","zones","more","Fragment","perStatus","getCountZonesPerStatus","PageImageDiff","theme","n","precision","fix","Math","floor","toFixed","sigDig","PageImage","convert","require","fg","alertStyle","Page","pageError","dangerouslySetInnerHTML","__html","toHtml","PagesActionZone","onPin","hide","PagesActionPin","DiffImage","onImg","alt","src","DiffImageWithZone","setVisible","onCancel","PagesActionFullscreen","visible","footer","PagesActions","setMasonry","m","onMasonryImg","layout","Pages","lastUpdate","getPages","options","ref","c","cover","setCrawler","crawler","SwitchStatus","checkedChildren","unCheckedChildren","checked","useProject","loadProject","project","setProject","ProjectName","Typography","warningStyle","limitStyle","fontSize","CrawlerInfo","diffZoneCount","errorCount","urlsCount","inQueue","startAt","limit","total","percent","screen","duration","format","CrawlerResults","getCrawler","subscrib","unsubscrib","handleDelete","setPins","pins","PinPage","onConfirm","okText","cancelText","pathname","state","pattern","Pins","getPins","Text","CodeInfo","full","code","aceEditorStyle","float","buttonBarStyle","inputStyle","maxWidth","margin","onPlay","warn","source","info","CodeForm","setSource","location","overlay","Code","getCode","setSettings","Settings","settings","dir","Codes","getCodes","Date","now","onStart","onAutoPinChange","autopin","getCrawlerStatusIcon","Project","list","sort","b","crawlers","setCrawlers","useCrawlers","method","ProjectBreadcrumb","CrawlerResultsBreadcrumb","PinsBreadcrumb","CodeBreadcrumb","Content","Layout","Header","layoutStyle","minHeight","titleStyle","marginTop","contentStyle","background","padding","App","className","exact","component","NewProject","Boolean","window","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.87a8e93b.chunk.js","sourcesContent":["import { StorageType } from './server/storage.typing';\n\nexport const getHomeRoute = () => '/';\nexport const getSettingsRoute = () => '/settings';\nexport const getAuthGitHubRoute = () => '/auth/github';\n\nexport function getNewProjectRoute<T = StorageType>(storageType: T) {\n    return `/new/${storageType}`;\n}\nexport function getPinsRoute<T = StorageType>(storageType: T, projectId: string) {\n    return `/pins/${storageType}/${projectId}`;\n}\nexport function getCodeRoute<T = StorageType>(storageType: T, projectId: string, id: string) {\n    return `/code/${storageType}/${projectId}/${id}`;\n}\nexport function getResultsRoute<T = StorageType>(storageType: T, projectId: string, timestamp: string) {\n    return `/results/${storageType}/${projectId}/${timestamp}`;\n}\nexport function getProjectRoute<T = StorageType>(storageType: T, projectId: string) {\n    return `/project/${storageType}/${projectId}`;;\n}\n","import { isomorRemote } from \"isomor\";\nimport { WsContext } from 'isomor-server';\nexport function getSettings(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getSettings\", args);\n}\nexport function loadProject(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"loadProject\", args);\n}\nexport function loadProjects(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"loadProjects\", args);\n}\nexport function saveProject(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"saveProject\", args);\n}\nexport function getCrawler(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getCrawler\", args);\n}\nexport function getCrawlers(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getCrawlers\", args);\n}\nexport function getPages(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getPages\", args);\n}\nexport function getPins(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getPins\", args);\n}\nexport function getPin(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getPin\", args);\n}\nexport function setCode(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"setCode\", args);\n}\nexport function getCode(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getCode\", args);\n}\nexport function getCodes(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getCodes\", args);\n}\nexport function getThumbnail(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getThumbnail\", args);\n}\nexport function removePin(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"removePin\", args);\n}\nexport function pin(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"pin\", args);\n}\nexport function setZoneStatus(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"setZoneStatus\", args);\n}\nexport function setZonesStatus(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"setZonesStatus\", args);\n}\nexport function setStatus(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"setStatus\", args);\n}\nexport function startCrawler(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"startCrawler\", args);\n}\nexport function startCrawlers(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"startCrawlers\", args);\n}","import React from 'react';\n\nconst infoStyle = {\n    lineHeight: 1.2,\n    borderLeft: '8px solid #EEE',\n    paddingLeft: 15,\n    color: '#666',\n    textAlign: 'justify' as 'justify',\n}\n\nexport const Info: React.FunctionComponent = ({ children }) => (\n    <div style={infoStyle}>\n        { children }\n    </div>\n);\n","import { isomorRemote } from \"isomor\";\n\n/**\n * Separate types for storage in order to build static storage page\n * e.g. for GitHub pages\n */\nexport enum StorageType {\n  Local = 'local',\n  GitHub = 'github',\n}","import { Viewport as ViewportObject } from './server/typing';\n\nexport interface ViewportString {\n    name: string;\n    value: string;\n}\n\nexport interface Viewport {\n    name: string;\n    value: ViewportObject;\n}\n\nexport const viewports: Viewport[] = [\n    { name: 'Desktop - 800x600', value: { width: 800, height: 600 } },\n    { name: 'Desktop - 1024x768', value: { width: 1024, height: 768 } },\n    { name: 'Desktop - 1920x1080', value: { width: 1920, height: 1080 } },\n    { name: 'iPhone 5 - 320x568', value: { width: 320, height: 568, isMobile: true, hasTouch: true } },\n    { name: 'iPhone 6 - 375x667', value: { width: 375, height: 667, isMobile: true, hasTouch: true } },\n    { name: 'Ipad - 768x1024', value: { width: 768, height: 1024, isMobile: true, hasTouch: true } },\n    { name: 'Galaxy S5 - 360x640', value: { width: 360, height: 640, isMobile: true, hasTouch: true } },\n];\n\nexport const viewportsStr: ViewportString[] = viewports.map(\n    ({ value, ...viewport }) => ({ ...viewport, value: JSON.stringify(value) })\n);\n\nexport const getDefaultViewportStr = () => viewportsStr[0];\nexport const getDefaultViewport = (): ViewportObject => viewports[0].value;\n\nexport const getViewportName = (value: ViewportObject) => {\n    const valueStr = JSON.stringify(value);\n    const index = viewportsStr.findIndex(vp => vp.value === valueStr);\n    if (index !== -1) {\n        return viewportsStr[index].name;\n    }\n    const { width, height, isMobile } = value;\n    return `${width}x${height}${ isMobile && ' mobile'}`;\n};\n","import React from 'react';\n\nimport Select from 'antd/lib/select';\nimport { viewportsStr, getDefaultViewportStr } from '../../viewport';\n\nconst { Option } = Select;\n\nexport const Viewport = ({ getFieldDecorator, initialValue }: any) => getFieldDecorator(\n    'viewport',\n    {\n        initialValue: initialValue || getDefaultViewportStr().name,\n    }\n)(\n    <Select>\n        {viewportsStr.map(\n            ({ value, name }) => <Option key={value} value={value}>{name}</Option>\n        )}\n    </Select>\n);\n","import React from 'react';\nimport Input from 'antd/lib/input';\nimport InputNumber from 'antd/lib/input-number';\nimport Checkbox from 'antd/lib/checkbox';\nimport Form, { FormComponentProps } from 'antd/lib/form';\nimport Icon from 'antd/lib/icon';\nimport Popover from 'antd/lib/popover';\nimport Radio from 'antd/lib/radio';\nimport Typography from 'antd/lib/typography';\nimport notification from 'antd/lib/notification';\nimport Button from 'antd/lib/button';\nimport { RouteComponentProps } from 'react-router';\nimport { CrawlerInput } from '../../server/typing';\n\nimport { getHomeRoute } from '../../routes';\nimport { saveProject } from '../../server/service';\nimport { Info } from '../../common/Info';\nimport { Viewport } from './Viewport';\nimport { getDefaultViewport } from '../../viewport';\nimport { History } from 'history';\nimport { StorageType } from '../../server/storage.typing';\n\nconst inlineStyle = {\n    marginRight: 10,\n    display: 'inline-block',\n}\n\nconst radioGroupdStyle = {\n    marginRight: 30,\n}\n\nconst save = async (\n    storageType: StorageType,\n    history: History<any>,\n    { name, viewport, ...input }: (CrawlerInput & { name: string, viewport: string }),\n) => {\n    try {\n        await saveProject(storageType, { ...input, viewport: JSON.parse(viewport) }, name, undefined);\n        history.push(getHomeRoute());\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\nconst handleSubmit = (storageType: StorageType, history: History<any>, validateFields: any) => (event: React.FormEvent<any>) => {\n    event.preventDefault();\n    validateFields((err: any, values: any) => {\n        if (!err) {\n            save(storageType, history, values);\n        }\n    });\n}\n\ntype Props = FormComponentProps & RouteComponentProps<{ storageType: StorageType }>;\nconst NewProject = ({\n    history,\n    match: { params: { storageType } },\n    form: { getFieldDecorator, validateFields, getFieldValue },\n}: Props) => {\n    return (\n        <Form onSubmit={handleSubmit(storageType, history, validateFields)}>\n            <Form.Item>\n                {getFieldDecorator('name', {\n                    rules: [{ required: true, message: 'Please give a name to the project.' }],\n                })(\n                    <Input addonBefore=\"Name\" placeholder=\"Project name\" />\n                )}\n            </Form.Item>\n            <Form.Item>\n                {getFieldDecorator('url', {\n                    rules: [{ required: true, message: 'Please input an URL to crawl.' }],\n                })(\n                    <Input\n                        placeholder=\"https://domain.com/\"\n                        addonBefore=\"URL\"\n                        addonAfter={\n                            <Viewport\n                                getFieldDecorator={getFieldDecorator}\n                                initialValue={JSON.stringify(getDefaultViewport())}\n                            />\n                        }\n                    />\n                )}\n            </Form.Item>\n            <Form.Item>\n                <Form.Item style={inlineStyle}>\n                    {getFieldDecorator('method', {\n                        initialValue: 'spiderbot',\n                    })(\n                        <Radio.Group size=\"small\" style={radioGroupdStyle}>\n                            <Radio.Button value={'spiderbot'}><Icon type=\"radar-chart\" /> Spider bot</Radio.Button>\n                            <Radio.Button value={'urls'}><Icon type=\"ordered-list\" /> URLs list</Radio.Button>\n                        </Radio.Group>\n                    )}\n                </Form.Item>\n                {getFieldValue('method') === 'spiderbot' && <Form.Item style={inlineStyle}>\n                    Limit {getFieldDecorator('limit')(\n                        <InputNumber min={0} size=\"small\" />\n                    )}\n                    &nbsp;<Popover content={<div>\n                        <b>Limit the number of sibling pages. </b>\n                        For example, with the urls:\n                        <ul>\n                            <li>/item/1</li>\n                            <li>/item/2</li>\n                            <li>/item/3</li>\n                            <li>/item/4</li>\n                        </ul> using the limit <b>2</b> will only crawl <b>/item/1</b> and <b>/item/2</b>.<br /><br />\n                        Use <b>0</b> to skip the limit.</div>} trigger=\"click\" overlayStyle={{ width: 200 }}>\n                        <Icon type=\"question-circle\" />\n                    </Popover>\n                </Form.Item>}\n                <Info>\n                    <Typography.Paragraph ellipsis={{ rows: 1, expandable: true }}>\n                        <b>Spider bot</b> crawling method will get all the links inside the page of the given URL\n                        and crawl the children. It will then continue do the same with the children till no new\n                        link is found. Be careful if you have big website, this is most likely not the right\n                        solution for you.\n                    </Typography.Paragraph>\n                    <Typography.Paragraph ellipsis={{ rows: 1, expandable: true }}>\n                        <b>URLs list</b> crawling method will crawl a specific sets of URLs. In the URL input field\n                        you must provide an endpoint containing a list of URLs (a simple text format, with one URL\n                        per line). The crawler will crawl each of those URL only and will not try to find links in\n                        the page. To use a static list of URLs, you can use a tool\n                        like <a href=\"https://pastebin.com\" target=\"_blank\" rel=\"noopener noreferrer\">https://pastebin.com</a>.\n                    </Typography.Paragraph>\n                </Info>\n            </Form.Item>\n            <Form.Item>\n                {getFieldDecorator('autopin', {\n                    valuePropName: 'checked',\n                })(\n                    <Checkbox>Automatically pin new page founds.</Checkbox>\n                )}\n            </Form.Item>\n            <Form.Item>\n                <Form.Item style={inlineStyle}>\n                    <Button\n                        type=\"primary\"\n                        icon=\"plus\"\n                        htmlType=\"submit\"\n                    >\n                        Create\n                    </Button>\n                </Form.Item>\n            </Form.Item>\n        </Form>\n    );\n}\n\nconst NewForm = Form.create({ name: 'start_crawler' })(NewProject);\nexport default NewForm;\n","import { isomorRemote } from \"isomor\";\nexport enum ERR {\n  missingGitHubConfig = 'cannot use GitHub if no config provided',\n}","import React from 'react';\n\nconst load = <T>(\n    fn: () => Promise<any>,\n    setResult: React.Dispatch<React.SetStateAction<T>>,\n    setError: React.Dispatch<React.SetStateAction<any | undefined>>,\n    setLoading: React.Dispatch<React.SetStateAction<boolean>>,\n) => async () => {\n    try {\n        setError(undefined);\n        setLoading(true);\n        const result = await fn();\n        setResult(result);\n    } catch (error) {\n        setError(error);\n    }\n    setLoading(false);\n}\nexport const useAsync = <T>(\n    fn: () => Promise<any>,\n    deps: React.DependencyList = [],\n    initialValue?: any,\n) => {\n    const [result, setResult] = React.useState<T>(initialValue);\n    const [error, setError] = React.useState();\n    const [loading, setLoading] = React.useState(false);\n    const call = load<T>(fn, setResult, setError, setLoading);\n    React.useEffect(() => { call(); }, deps);\n    return { loading, result, call, error, setResult }\n}","import notification from 'antd/lib/notification';\nimport { Project } from '../server/typing';\nimport { loadProjects } from '../server/service';\nimport { useAsync } from '../hook/useAsync';\nimport { StorageType } from '../server/storage.typing';\n\nexport const useProjects = (storageType: StorageType) => {\n    const { result: projects, error, loading } =\n        useAsync<Project[]>(() => loadProjects(storageType));\n    if (error) {\n        notification['warning']({\n            message: `Something went wrong while loading project from ${storageType}.`,\n            description: error.toString(),\n        });\n    }\n    return { projects, loading, error };\n}\n","import { PageData } from '../server/typing';\nimport Fuse from 'fuse.js';\nimport get from 'lodash/get';\nimport { cardStyle, masonryOptions } from '../pages/pageStyle';\n\nexport const searchStyle = {\n    width: cardStyle.width,\n    marginRight: masonryOptions.gutter,\n}\n\nlet timerSearch: NodeJS.Timer;\nexport const onSearch = (\n    setPages: React.Dispatch<React.SetStateAction<PageData[] | undefined>>,\n    pages: PageData[] | undefined,\n    filters: string[],\n) => (value: string) => {\n    if (pages) {\n        if (!value.length) {\n            filterPages(setPages, pages, filters);\n        } else {\n            clearTimeout(timerSearch);\n            timerSearch = setTimeout(() => {\n                filterPages(setPages, searchPages(pages, value), filters);\n            }, 500);\n        }\n    }\n};\n\nconst searchPages = (\n    pages: PageData[],\n    value: string,\n) => {\n    const fuse = new Fuse(pages, {\n        keys: [\n            'url',\n            'viewport.width',\n            'viewport.height',\n            'keywords',\n        ],\n    });\n    return fuse.search(value);\n}\n\n// instead to have 2 fields, we could use one combine with to instance of fuse.js\n// 1 with partial match and 1 with full word match for filters\n// for the input field see \"Search and Select Users\" from select component\nexport const onFilter = (\n    setPages: React.Dispatch<React.SetStateAction<PageData[] | undefined>>,\n    pages: PageData[] | undefined,\n    setFilters: React.Dispatch<React.SetStateAction<any>>,\n) => (filters: string[]) => {\n    if (pages) {\n        setFilters(filters);\n        filterPages(setPages, pages, filters);\n    }\n};\n\nconst filterPages = (\n    setPages: React.Dispatch<React.SetStateAction<PageData[] | undefined>>,\n    pages: PageData[] | undefined,\n    filters: string[]\n) => {\n    if (pages) {\n        if (!filters.length) {\n            setPages(pages);\n        } else {\n            const searchValue = filters.filter(filter => !Object.keys(availableFilters).includes(filter)).join(' ');\n            if (searchValue) {\n                pages = searchPages(pages, searchValue);\n            }\n            setPages(pages.filter(page => {\n                let res = true\n                if (filters.includes('with-diff')) {\n                    const pixelDiffRatio = get(page, 'png.diff.pixelDiffRatio');\n                    res = res && pixelDiffRatio > 0;\n                }\n                if (filters.includes('new')) {\n                    res = res && !!page.png && !page.png.diff\n                }\n                return res;\n            }));\n        }\n    }\n}\n\nexport const availableFilters = {\n    'with-diff': 'with diff',\n    'new': 'new',\n}\n","let masonry: any;\nlet timer: NodeJS.Timer;\n\nexport const setMasonry = (m: any) => masonry = m;\n\nexport const onMasonryImg = () => {\n    if (masonry) masonry.layout();\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n        if (masonry) masonry.layout();\n    }, 500);\n}\n","import React from 'react';\nimport Typography from 'antd/lib/typography';\nimport { Info } from '../common/Info';\nimport Form, { FormComponentProps } from 'antd/lib/form';\nimport Input from 'antd/lib/input';\nimport Button from 'antd/lib/button';\nimport Cookies from 'universal-cookie';\n\nconst handleSubmit = (validateFields: any) => (event: React.FormEvent<any>) => {\n    event.preventDefault();\n    validateFields((err: any, values: any) => {\n        if (!err) {\n            // save\n            console.log('should save form', values);\n            const cookies = new Cookies();\n            cookies.set('github', values, { path: '/' });\n        }\n    });\n}\n\nconst GitHubAuthForm = ({ form: { getFieldDecorator, validateFields }}: FormComponentProps) => {\n    return (\n        <>\n            <Typography.Title level={4}>GitHub</Typography.Title>\n            <Info>\n                <Typography.Paragraph>\n                    In order to use <a href=\"https://developer.github.com/v3/\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub API</a>, you need to provide some information.\n                    To be able to push data to your repository, we need a <a href=\"https://developer.github.com/v3/auth/#via-oauth-and-personal-access-tokens\" target=\"_blank\" rel=\"noopener noreferrer\">personal access tokens</a>.\n                    Note, the personal access tokens is a sensible information. Use this app, only on a trustable device (soon APP authentication will be available to improve security).\n                </Typography.Paragraph>\n            </Info>\n            <Form onSubmit={handleSubmit(validateFields)}>\n                <Form.Item>\n                    {getFieldDecorator('user', {\n                        rules: [{ required: true, message: 'Please provide your GitHub username.' }],\n                    })(\n                        <Input addonBefore=\"Username\" placeholder=\"Github username\" />\n                    )}\n                </Form.Item>\n                <Form.Item>\n                    {getFieldDecorator('token', {\n                        rules: [{ required: true, message: 'Please provide your personal access tokens.' }],\n                    })(\n                        <Input.Password addonBefore=\"Token\" placeholder=\"Personal access tokens\" />\n                    )}\n                </Form.Item>\n                <Form.Item>\n                    {getFieldDecorator('repo', {\n                        rules: [{ required: true, message: 'Please provide the repository.' }],\n                    })(\n                        <Input addonBefore=\"Repository\" placeholder=\"Repository name\" />\n                    )}\n                </Form.Item>\n                <Form.Item>\n                    <Button\n                        type=\"primary\"\n                        icon=\"github\"\n                        htmlType=\"submit\"\n                    >\n                        OK\n                    </Button>\n            </Form.Item>\n            </Form>\n        </>\n    );\n}\n\nexport const GitHubAuth = Form.create({ name: 'github_auth' })(GitHubAuthForm);\n","import React from 'react';\nimport List from 'antd/lib/list';\nimport Icon from 'antd/lib/icon';\nimport { Link } from 'react-router-dom';\nimport Typography from 'antd/lib/typography';\nimport { StorageType } from '../server/storage.typing';\nimport { getProjectRoute } from '../routes';\nimport { useProjects } from './useProjects';\nimport Spin from 'antd/lib/spin';\nimport { useError } from '../hook/useError';\n\ninterface Props {\n    title: string;\n    storageType: StorageType;\n}\n\nexport const ProjectsPerRemote = ({ title, storageType }: Props) => {\n    const { projects, loading, error } = useProjects(storageType);\n    const ErrorComponent = useError(error);\n    console.log('ErrorComponent', ErrorComponent);\n    if (ErrorComponent) {\n        return <ErrorComponent />;\n    }\n    return (\n        <>\n            <Typography.Title level={4}>{title}</Typography.Title>\n            {loading ? <Spin /> : <List\n                itemLayout=\"horizontal\"\n                bordered\n                dataSource={projects}\n                renderItem={({ id, name, crawlerInput: { url } }) => (\n                    <List.Item\n                        actions={[\n                            <Link to={getProjectRoute(storageType, id)}>\n                                Open\n                                    </Link>,\n                        ]}\n                    >\n                        <List.Item.Meta\n                            title={<Link to={getProjectRoute(storageType, id)}>\n                                {name} <Icon type={storageType} />\n                            </Link>}\n                            description={url}\n                        />\n                    </List.Item>\n                )}\n            />}\n        </>\n    );\n}\n","import { useHistory } from 'react-router-dom';\nimport { ERR } from '../server/error';\nimport { getAuthGitHubRoute } from '../routes';\nimport { GitHubAuth } from '../auth/GitHubAuth';\n\nexport const useError = (error: any) => {\n    if (error === ERR.missingGitHubConfig || error?.message === ERR.missingGitHubConfig) {\n        return GitHubAuth;\n    }\n}\n\n// not used yet\nexport const useErrorRedirect = (error: any) => {\n    const history = useHistory();\n    if (error === ERR.missingGitHubConfig || error?.message === ERR.missingGitHubConfig) {\n        history.push(getAuthGitHubRoute());\n    }\n}\n","import React from 'react';\nimport Button from 'antd/lib/button';\nimport { Link } from 'react-router-dom';\nimport Typography from 'antd/lib/typography';\nimport { StorageType } from '../server/storage.typing';\nimport { getNewProjectRoute } from '../routes';\nimport { ProjectsPerRemote } from './ProjectsPerRemote';\n\nexport const Projects = () => {\n    return (\n        <>\n            <Typography.Title level={3}>Projects</Typography.Title>\n            {Object.keys(StorageType).map((key) => (\n                <div key={key}>\n                    <ProjectsPerRemote\n                        title={key}\n                        storageType={StorageType[key as keyof typeof StorageType]}\n                    />\n                    <br />\n                    <Link to={getNewProjectRoute(StorageType[key as keyof typeof StorageType])}>\n                        <Button icon=\"plus\" size=\"small\">New</Button>\n                    </Link>\n                    <br />\n                    <br />\n                </div>\n            ))}\n        </>\n    );\n}\n","export const coverStyle = {\n    textAlign: 'center',\n    // borderBottom: '1px solid #888',\n}\n\nexport const imgStyle = {\n    width: 300,\n}\n\nexport const cardImgMargin = 10;\n\nexport const cardStyle = {\n    width: imgStyle.width + cardImgMargin*2,\n    marginBottom: 10,\n};\n\nexport const masonryStyle = {\n    paddingTop: 10,\n    paddingBottom: 10,\n}\n\nexport const masonryOptions = {\n    gutter: 10,\n    // percentPosition: true,\n    fitWidth: true,\n}\n\nexport const iconTheme = 'outlined'; // 'twoTone'\n","import React from 'react';\nimport Alert from 'antd/lib/alert';\n\ninterface Props {\n    message?: string;\n    description: string;\n}\nexport const ErrorHandler = ({ message = 'Something went wrong', description }: Props) => (\n    <Alert\n        message={message}\n        description={description}\n        type=\"warning\"\n        showIcon\n    />\n);","import React from 'react';\nimport { PageData } from '../server/typing';\n\nimport { onSearch, searchStyle, onFilter } from './search';\nimport Select from 'antd/lib/select';\n\nconst { Option } = Select;\n\nexport interface Filters {\n    [key: string]: string;\n}\n\ninterface Props {\n    withFilters?: Filters;\n    response: PageData[],\n    children: (pages: PageData[] | undefined) => React.ReactNode,\n}\nexport const Search = ({ children, response, withFilters }: Props) => {\n    const [pages, setPages] = React.useState<PageData[]>();\n    const [selectedFilters, setSelectedFilters] = React.useState<string[]>([]);\n    const [pagesFiltered, setPagesFiltered] = React.useState<PageData[]>();\n    React.useEffect(() => {\n        setPages(response);\n        onFilter(setPagesFiltered, response, setSelectedFilters)(selectedFilters);\n    }, [response, setSelectedFilters, selectedFilters]);\n\n    return (\n        <>\n            <Select\n                mode=\"tags\"\n                onChange={onFilter(setPagesFiltered, pages, setSelectedFilters)}\n                tokenSeparators={[',']}\n                style={searchStyle}\n                placeholder=\"Search\"\n                filterOption={false}\n                onSearch={onSearch(setPagesFiltered, pages, selectedFilters)}\n            >\n                { !!withFilters && Object.keys(withFilters).map(key => <Option key={key}>{withFilters[key]}</Option>) }\n            </Select>\n            {children(pagesFiltered)}\n        </>\n    );\n}\n","import { unix } from 'moment';\n\nexport const timestampToString =\n    (timestamp: string) => unix(parseInt(timestamp, 10)).calendar()\n\nexport const sigDig = (n: number, precision = 1) => {\n    if (!n) {\n        return n;\n    }\n    const fix = (precision - 1) - Math.floor(Math.log(n) / Math.log(10));\n    return n.toFixed(fix);\n}","import React from 'react';\nimport message from 'antd/lib/message';\nimport notification from 'antd/lib/notification';\nimport Button from 'antd/lib/button';\n\nimport { setZoneStatus } from '../server/service';\nimport { PageData } from '../server/typing';\nimport { StorageType } from '../server/storage.typing';\n\nconst buttonStyle = {\n    marginLeft: 5,\n    marginRight: 5,\n}\n\ninterface Props {\n    index: number;\n    timestamp: string;\n    id: string;\n    projectId: string;\n    storageType: StorageType;\n    setPages: React.Dispatch<React.SetStateAction<PageData[]>>;\n}\n\nconst onSetStatus = (\n    status: string,\n    { timestamp, id, index, projectId, setPages, storageType }: Props,\n) => async () => {\n    try {\n        const pages = await setZoneStatus(storageType, projectId, timestamp, id, index, status);\n        setPages(pages);\n        message.success('Page pinned as reference for comparison.', 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\nexport const DiffImageButtons = (props: Props) => {\n    return (\n        <>\n            <Button\n                style={buttonStyle}\n                icon=\"check\"\n                size=\"small\"\n                onClick={onSetStatus('valid', props)}>Valid</Button>\n            <Button\n                style={buttonStyle}\n                icon=\"pushpin\"\n                size=\"small\"\n                onClick={onSetStatus('pin', props)}>Always valid</Button>\n            <Button\n                style={buttonStyle}\n                icon=\"warning\"\n                size=\"small\"\n                type=\"danger\"\n                onClick={onSetStatus('report', props)}>Report</Button>\n        </>\n    );\n}\n","import React, { useState, useEffect } from 'react';\nimport Popover from 'antd/lib/popover';\n\nimport { DiffImageButtons } from './DiffImageButtons';\nimport { getThumbnail } from '../server/service';\nimport { Zone, PageData } from '../server/typing';\nimport { StorageType } from '../server/storage.typing';\n\nexport const getColorByStatus = (status: string) => {\n    if (status === 'valid' || status === 'pin') {\n        return '#0F0'; //'green';\n    } else if (status === 'report') {\n        return 'red';\n    }\n    return 'yellow';\n}\n\nconst zoneStyle = (\n    { xMin, yMin, xMax, yMax }: any,\n    ratio: number,\n    width: number,\n    marginLeft: number,\n    img: string | undefined,\n    over: boolean,\n    status: string,\n) => {\n    const top = yMin / ratio - 1;\n    const left = xMin / ratio - 1;\n    return ({\n        width: (xMax - xMin) / ratio + 2,\n        height: (yMax - yMin) / ratio + 2,\n        // width: 200,\n        // height: 100,\n        top,\n        left: left + marginLeft,\n        border: `1px solid ${getColorByStatus(status)}`,\n        position: 'absolute',\n        backgroundImage: over ? `url(\"${img}\")` : 'none',\n        backgroundPosition: `${-(left + 1)}px ${-(top + 1)}px`,\n        backgroundSize: width,\n    });\n}\n\ninterface Props {\n    storageType: StorageType;\n    folder: string;\n    id: string;\n    zone: Zone;\n    originalWidth: number;\n    index: number;\n    status: string;\n    width: number;\n    marginLeft: number;\n    projectId: string;\n    setPages: React.Dispatch<React.SetStateAction<PageData[]>>;\n};\n\nexport const DiffZone = ({ storageType, setPages, projectId, folder, id, index, originalWidth, zone, status, width, marginLeft }: Props) => {\n    const [thumb, setThumb] = useState<string>();\n    const load = async () => {\n        setThumb(await getThumbnail(storageType, projectId, 'base', id, width));\n    }\n    useEffect(() => { load(); }, []);\n    const [hover, setHover] = useState(false);\n    const ratio = originalWidth / width;\n    return (\n        <Popover key={`${id}-${index}`} content={(\n            <DiffImageButtons\n                storageType={storageType}\n                index={index}\n                timestamp={folder}\n                id={id}\n                projectId={projectId}\n                setPages={setPages}\n            />\n        )} trigger=\"click\">\n            <div\n                style={zoneStyle(zone, ratio, width, marginLeft, thumb, hover, status) as any}\n                onMouseOver={() => setHover(true)}\n                onMouseOut={() => setHover(false)}\n            />\n        </Popover>\n    );\n}\n","import React from 'react';\nimport { PngDiffDataZone } from '../server/typing';\n\nimport { getColorByStatus } from '../diff/DiffZone';\n\nconst getCountZonesPerStatus = (zones: any, perStatus: string[]) =>\n    zones.filter(({ status }: any) => perStatus.includes(status)).length\n\nexport const PageImageDiffZone = ({ zones }: {\n    zones: PngDiffDataZone[]\n}) => (\n    <p>\n        <b>Zone:</b>&nbsp;\n            {[['diff'], ['valid', 'pin'], ['report']].map(([status, ...more]) => (\n            <React.Fragment key={status}>\n                <span style={{\n                    marginLeft: 10,\n                    color: getColorByStatus(status)\n                }}>■</span> <b>{getCountZonesPerStatus(zones, [status, ...more])}</b> {status}\n            </React.Fragment>\n        ))}\n    </p>\n);","import React from 'react';\nimport Icon from 'antd/lib/icon';\n\nimport { iconTheme } from './pageStyle';\nimport { PngDiffData } from '../server/typing';\nimport { sigDig } from '../utils';\nimport { PageImageDiffZone } from './PageImageDiffZone';\n\nexport const PageImageDiff = ({ diff }: {\n    diff: PngDiffData;\n}) => (\n    <>\n        <p>\n            <Icon type=\"picture\" theme={iconTheme} />&nbsp;\n                    Pixel diff ratio: {sigDig(diff.pixelDiffRatio)}\n        </p>\n        {diff.zones && diff.zones.length > 0 &&\n            <PageImageDiffZone zones={diff.zones} />\n        }\n    </>\n);","import React from 'react';\nimport Tag from 'antd/lib/tag';\nimport Icon from 'antd/lib/icon';\n\nimport { iconTheme } from './pageStyle';\nimport { PngDiffData } from '../server/typing';\nimport { PageImageDiff } from './PageImageDiff';\n\nexport const PageImage = ({ diff }: {\n    diff?: PngDiffData;\n}) => (!diff)\n        ? (\n            <div>\n                <Icon type=\"picture\" theme={iconTheme} />&nbsp;\n                New screenshot <Tag color=\"green\">New</Tag>\n            </div>\n        ) : (\n            <PageImageDiff diff={diff} />\n        );","import React from 'react';\nimport Alert from 'antd/lib/alert';\nimport Icon from 'antd/lib/icon';\nimport { PngDiffData } from '../server/typing';\n// import * as Convert from 'ansi-to-html';\n\nimport { iconTheme } from './pageStyle';\nimport { PageImage } from './PageImage';\n\nconst Convert = require('ansi-to-html');\nconst convert = new Convert({\n    fg: '#333',\n});\n\nconst alertStyle = {\n    marginBottom: 10,\n}\n\ninterface Props {\n    pageError: any;\n    url: string;\n    png?: {\n        width: number;\n        diff?: PngDiffData;\n    };\n}\n\nexport const Page = ({ pageError, url, png }: Props) => {\n    return (\n        <>\n            {pageError && <Alert message={\n                <div dangerouslySetInnerHTML={{ __html: convert.toHtml(pageError) }} />\n            } type=\"warning\" style={alertStyle} />}\n            <p><Icon type=\"link\" /> <a href={url}>{url}</a></p>\n            {png\n                ? <PageImage diff={png.diff} />\n                : <p><Icon type=\"picture\" theme={iconTheme} /> No screenshot available</p>\n            }\n        </>\n    );\n}\n","import React from 'react';\nimport Icon from 'antd/lib/icon';\nimport message from 'antd/lib/message';\nimport notification from 'antd/lib/notification';\nimport { setZonesStatus } from '../server/service';\nimport { PageData } from '../server/typing';\nimport { StorageType } from '../server/storage.typing';\n\nconst onClick = (\n    { timestamp, id, status, projectId, setPages, storageType }: Props,\n) => async () => {\n    try {\n        const pages = await setZonesStatus(storageType, projectId, timestamp.toString(), id, status);\n        setPages(pages);\n        message.success(`All zone are set to \"${status}\".`, 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\ninterface Props {\n    storageType: StorageType;\n    setPages: React.Dispatch<React.SetStateAction<PageData[]>>;\n    projectId: string;\n    timestamp: string;\n    id: string;\n    status: string;\n    type: string;\n}\nexport const PagesActionZone = (props: Props) => {\n    const { status, type } = props;\n    return (\n        <Icon type={type} title={`Set all zone to \"${status}\".`} onClick={onClick(props)} />\n    );\n}\n","import React from 'react';\nimport Icon from 'antd/lib/icon';\nimport message from 'antd/lib/message';\nimport notification from 'antd/lib/notification';\nimport { pin } from '../server/service';\nimport { StorageType } from '../server/storage.typing';\n\n\nconst onPin = ({ storageType, projectId, timestamp, id }: Props) => async () => {\n    try {\n        const hide = message.loading('Pin in progress..', 0);\n        await pin(storageType, projectId, timestamp.toString(), id);\n        hide();\n        message.success('Page pinned as reference for comparison.', 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\ninterface Props {\n    timestamp: string,\n    id: string,\n    projectId: string,\n    storageType: StorageType,\n}\n\nconst PagesActionPin = (props: Props) =>\n    <Icon\n        type=\"pushpin\"\n        title=\"pin as reference for comparison\"\n        onClick={onPin(props)}\n    />;\n\nexport default function(props: Props) {\n    return PagesActionPin(props);\n}\n","import React, { useState, useEffect } from 'react';\n\nimport {\n    coverStyle,\n    imgStyle,\n} from '../pages/pageStyle';\n\nimport { getThumbnail } from '../server/service';\nimport { StorageType } from '../server/storage.typing';\n\nexport interface Props {\n    storageType: StorageType;\n    projectId: string;\n    folder: string;\n    id: string;\n    width?: number;\n    onImg?: () => void;\n    marginLeft: number;\n};\n\nexport const DiffImage = ({\n    storageType,\n    projectId,\n    folder,\n    id,\n    onImg = () => { },\n    width = imgStyle.width,\n    children\n}: Props & React.PropsWithChildren<any>) => {\n    const [thumb, setThumb] = useState<string>();\n    const load = async () => {\n        setThumb(await getThumbnail(storageType, projectId, folder, id, width));\n        onImg();\n    }\n    useEffect(() => { load(); }, []);\n    return thumb ? (\n        <div style={coverStyle as any}>\n            {children}\n            <img style={{ width }} alt=\"\" src={thumb} />\n        </div>) : null;\n}\n","import React from 'react';\n\nimport {\n    imgStyle,\n} from '../pages/pageStyle';\n\nimport { DiffZone } from './DiffZone';\nimport { PngDiffDataZone, PageData } from '../server/typing';\nimport { Props as DiffImageProps, DiffImage } from './DiffImage';\n\ninterface Props {\n    zones?: PngDiffDataZone[];\n    originalWidth?: number;\n    setPages: React.Dispatch<React.SetStateAction<PageData[]>>;\n};\n\nexport const DiffImageWithZone = ({\n    storageType,\n    projectId,\n    folder,\n    id,\n    zones,\n    originalWidth = 0,\n    width = imgStyle.width,\n    setPages,\n    marginLeft,\n    ...props\n}: Props & DiffImageProps) =>\n    <DiffImage storageType={storageType} projectId={projectId} folder={folder} id={id} width={width} {...props}>\n        {zones && zones.map(({ zone, status }: PngDiffDataZone, index: number) =>\n            <DiffZone\n                storageType={storageType}\n                projectId={projectId}\n                folder={folder}\n                id={id}\n                width={width}\n                index={index}\n                originalWidth={originalWidth}\n                marginLeft={marginLeft}\n                status={status}\n                zone={zone}\n                key={`zone-${id}-${index}`}\n                setPages={setPages}\n            />)}\n    </DiffImage>","import React from 'react';\nimport Icon from 'antd/lib/icon';\nimport Modal from 'antd/lib/modal';\nimport { PngDiffData, PageData } from '../server/typing';\nimport { Page } from './Page';\nimport { DiffImageWithZone } from '../diff/DiffImageWithZone';\nimport { StorageType } from '../server/storage.typing';\n\nconst onClick = (setVisible: React.Dispatch<React.SetStateAction<boolean>>) => () => {\n    setVisible(true);\n}\n\nconst onCancel = (setVisible: React.Dispatch<React.SetStateAction<boolean>>) => () => {\n    setVisible(false);\n}\n\ninterface Props {\n    storageType: StorageType;\n    projectId: string;\n    timestamp: string;\n    id: string;\n    url: string;\n    pageError: any;\n    png: {\n        width: number;\n        diff?: PngDiffData;\n    };\n    setPages: React.Dispatch<React.SetStateAction<PageData[]>>;\n}\n\nexport const PagesActionFullscreen = ({ storageType, setPages, projectId, timestamp, id, png, url, pageError }: Props) => {\n    const [visible, setVisible] = React.useState<boolean>(false);\n    return (\n        <>\n            <Modal\n                title=\"\"\n                visible={visible}\n                onCancel={onCancel(setVisible)}\n                footer={null}\n                width={png.width + 40}\n            >\n                <div style={{ position: \"relative\" }}>\n                    <DiffImageWithZone\n                        storageType={storageType}\n                        setPages={setPages}\n                        projectId={projectId}\n                        folder={timestamp}\n                        id={id}\n                        zones={png.diff && png.diff.zones}\n                        originalWidth={png.width}\n                        width={png.width}\n                        marginLeft={0}\n                    />\n                    <Page url={url} pageError={pageError} png={png} />\n                </div>\n            </Modal>\n            <Icon type=\"fullscreen\" title=\"fullscreen\" onClick={onClick(setVisible)} />\n        </>\n    );\n}\n","import React from 'react';\nimport { PngDiffData, PageData } from '../server/typing';\n\nimport { PagesActionZone } from './PagesActionZone';\nimport PagesActionPin from './PagesActionPin';\nimport { PagesActionFullscreen } from './PagesActionFullscreen';\nimport { StorageType } from '../server/storage.typing';\n\ninterface Props {\n    storageType: StorageType;\n    projectId: string;\n    timestamp: string;\n    id: string;\n    url: string;\n    pageError: any;\n    png?: {\n        width: number;\n        diff?: PngDiffData;\n    };\n    setPages: React.Dispatch<React.SetStateAction<PageData[]>>;\n}\n\nexport const PagesActions = ({ storageType, setPages, projectId, timestamp, id, png, url, pageError }: Props) => [\n    ...[png && <PagesActionFullscreen storageType={storageType} setPages={setPages} projectId={projectId} png={png} id={id} timestamp={timestamp} url={url} pageError={pageError} />],\n    <PagesActionZone storageType={storageType} type=\"check\" setPages={setPages} projectId={projectId}  timestamp={timestamp} id={id} status={'valid'} />,\n    <PagesActionZone storageType={storageType} type=\"warning\" setPages={setPages} projectId={projectId} timestamp={timestamp} id={id} status={'report'} />,\n    <PagesActionPin storageType={storageType} projectId={projectId} timestamp={timestamp} id={id} />,\n    // <Icon type=\"ellipsis\" title=\"more\" />,\n];\n","import React from 'react';\nimport Card from 'antd/lib/card';\nimport Spin from 'antd/lib/spin';\nimport Masonry from 'react-masonry-component';\n\nimport {\n    masonryStyle,\n    masonryOptions,\n    cardStyle,\n    cardImgMargin,\n} from './pageStyle';\nimport { PageData } from '../server/typing';\nimport { getPages } from '../server/service';\nimport { ErrorHandler } from '../common/ErrorHandler';\nimport { Search } from '../search/Search';\nimport { Page } from './Page';\nimport { PagesActions } from './PagesActions';\nimport { availableFilters } from '../search/search';\nimport { setMasonry, onMasonryImg } from '../common/refreshMasonry';\nimport { DiffImageWithZone } from '../diff/DiffImageWithZone';\nimport { useAsync } from '../hook/useAsync';\nimport { StorageType } from '../server/storage.typing';\n\ninterface Props {\n    storageType: StorageType;\n    projectId: string;\n    timestamp: string;\n    lastUpdate: number;\n}\n\nexport const Pages = ({ projectId, timestamp, lastUpdate, storageType }: Props) => {\n    const { result: pages, error, setResult: setPages } = useAsync<PageData[]>(\n        () => getPages(storageType, projectId, timestamp),\n        [lastUpdate],\n    );\n    if (error) {\n        return <ErrorHandler description={error.toString()} />;\n    }\n\n    return (\n        <Search response={pages} withFilters={availableFilters}>\n            {(pagesFiltered) => pagesFiltered ? (\n                <Masonry\n                    style={masonryStyle}\n                    options={masonryOptions}\n                    ref={(c: any) => { setMasonry(c && c.masonry); }}\n                >\n                    {\n                        pagesFiltered.map(({ id, url, png, error: pageError }: PageData) => (\n                            <Card\n                                key={id}\n                                style={cardStyle}\n                                cover={png && <DiffImageWithZone\n                                    storageType={storageType}\n                                    projectId={projectId}\n                                    folder={timestamp}\n                                    id={id}\n                                    zones={png.diff && png.diff.zones}\n                                    originalWidth={png.width}\n                                    onImg={onMasonryImg}\n                                    setPages={setPages}\n                                    marginLeft={cardImgMargin}\n                                />}\n                                actions={PagesActions({ storageType, setPages, projectId, id, timestamp, png, url, pageError })}\n                            >\n                                <Page url={url} pageError={pageError} png={png} />\n                            </Card>\n                        ))\n                    }\n                </Masonry >\n            ) : <Spin />\n            }\n        </Search>);\n}\n","import React from 'react';\nimport Switch from 'antd/lib/switch';\nimport message from 'antd/lib/message';\nimport notification from 'antd/lib/notification';\nimport { setStatus } from '../server/service';\nimport { Crawler } from '../server/typing';\nimport { StorageType } from '../server/storage.typing';\n\nconst onChange = (\n    storageType: StorageType,\n    projectId: string,\n    timestamp: string,\n    setCrawler: React.Dispatch<React.SetStateAction<Crawler>>,\n) => async (value: boolean) => {\n    try {\n        const status = value ? 'done' : 'review';\n        const crawler = await setStatus(storageType, projectId, timestamp, status);\n        setCrawler(crawler);\n        message.success(`Status set to \"${status}\".`, 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\ninterface Props {\n    storageType: StorageType;\n    projectId: string;\n    timestamp: string;\n    status: string;\n    setCrawler: React.Dispatch<React.SetStateAction<Crawler>>;\n}\nexport const SwitchStatus = ({ storageType, timestamp, status, projectId, setCrawler }: Props) => {\n    return <Switch\n        checkedChildren=\"done\"\n        unCheckedChildren=\"review\"\n        checked={status === 'done'}\n        onChange={onChange(storageType, projectId, timestamp, setCrawler)}\n    />;\n}","import notification from 'antd/lib/notification';\nimport { Project } from '../server/typing';\nimport { loadProject } from '../server/service';\nimport { useAsync } from '../hook/useAsync';\nimport { StorageType } from '../server/storage.typing';\n\nexport const useProject = (storageType: StorageType, projectId: string) => {\n    const { result: project, setResult: setProject, error } =\n        useAsync<Project>(() => loadProject(storageType, projectId));\n    if (error) {\n        notification['warning']({\n            message: 'Something went wrong while loading project.',\n            description: error.toString(),\n        });\n    }\n    return { project, setProject };\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { getProjectRoute } from '../routes';\nimport { useProject } from './useProject';\nimport { StorageType } from '../server/storage.typing';\n\ninterface Props {\n    projectId: string;\n    storageType: StorageType;\n}\n\nexport const ProjectName = ({\n    projectId,\n    storageType,\n}: Props) => {\n    const { project } = useProject(storageType, projectId);\n    return !project ? null : (\n        <p>\n            <b>Project:</b> <Link to={getProjectRoute(storageType, project.id)}>\n                {project.name}\n            </Link>\n        </p>\n    );\n}\n","import React from 'react';\nimport Typography from 'antd/lib/typography';\nimport Progress from 'antd/lib/progress';\nimport Icon from 'antd/lib/icon';\nimport { Crawler } from '../server/typing';\nimport { duration } from 'moment';\nimport 'moment-duration-format';\n\nimport { timestampToString } from '../utils';\nimport { SwitchStatus } from './SwitchStatus';\nimport { getViewportName } from '../viewport';\nimport { ProjectName } from '../projects/ProjectName';\nimport { StorageType } from '../server/storage.typing';\n\nconst { Title } = Typography;\n\nconst warningStyle = {\n    color: '#faad29',\n};\n\nconst limitStyle = {\n    color: '#999',\n    fontSize: 11,\n};\n\ninterface Props {\n    setCrawler: React.Dispatch<React.SetStateAction<Crawler>>;\n    crawler: Crawler;\n    projectId: string;\n    storageType: StorageType;\n}\n\n// need to flatten props and use react memo\nexport const CrawlerInfo = ({\n    crawler: {\n        timestamp,\n        url,\n        diffZoneCount,\n        errorCount,\n        status,\n        urlsCount,\n        inQueue,\n        startAt,\n        lastUpdate,\n        limit,\n        viewport,\n    },\n    projectId,\n    storageType,\n    setCrawler,\n}: Props) => {\n    const total = urlsCount + inQueue;\n    const percent = Math.floor(urlsCount / total * 100);\n    const screen = getViewportName(viewport);\n    return (\n        <>\n            <Title level={3}>{timestampToString(timestamp)}</Title>\n            {(diffZoneCount > 0 || errorCount > 0)\n                && <p><SwitchStatus storageType={storageType} setCrawler={setCrawler} projectId={projectId} status={status} timestamp={timestamp} /></p>}\n            <ProjectName projectId={projectId} storageType={storageType} />\n            <p><b>URL:</b> {url}</p>\n            <p><b>Screen:</b> {screen}</p>\n            <p>\n                <b>URL crawled:</b> {urlsCount}\n                {limit !== undefined && limit > 0 &&\n                    <span style={limitStyle}> (with limit set to {limit})</span>\n                }\n            </p>\n            <p><b>Duration:</b> {duration(lastUpdate - startAt).format('h [hrs], m [min], s [sec]')}</p>\n            {inQueue > 0 && <>\n                <Progress percent={percent} />\n                <p><b>In queue:</b> {inQueue}</p>\n            </>}\n            {errorCount > 0 &&\n                <p style={warningStyle}>\n                    <Icon type=\"exclamation-circle\" /> {errorCount} error(s) founds\n                </p>\n            }\n        </>\n    );\n}\n","import React from 'react';\nimport Spin from 'antd/lib/spin';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { subscrib, unsubscrib } from 'isomor';\n\nimport { Pages } from '../pages/Pages';\nimport { CrawlerInfo } from './CrawlerInfo';\nimport { ErrorHandler } from '../common/ErrorHandler';\nimport { useAsync } from '../hook/useAsync';\nimport { Crawler } from '../server/typing';\nimport { getCrawler } from '../server/service';\nimport { StorageType } from '../server/storage.typing';\n\nexport const CrawlerResults = ({\n    match: { params: { timestamp, projectId, storageType } },\n}: RouteComponentProps<{ timestamp: string, projectId: string, storageType: StorageType }>) => {\n    const { result: crawler, error, setResult: setCrawler } = useAsync<Crawler>(\n        () => getCrawler(storageType, projectId, timestamp)\n    );\n    React.useEffect(() => {\n        const id = subscrib(setCrawler);\n        return () => unsubscrib(id);\n    }, [crawler, setCrawler]);\n    if (error) {\n        return <ErrorHandler description={error.toString()} />;\n    }\n    const lastUpdate = crawler?.lastUpdate;\n    return crawler ? (\n        <>\n            <CrawlerInfo\n                crawler={crawler}\n                projectId={projectId}\n                storageType={storageType}\n                setCrawler={setCrawler}\n            />\n            <Pages storageType={storageType} timestamp={timestamp} lastUpdate={lastUpdate!} projectId={projectId} />\n        </>\n    ) : <Spin />;\n}\n","import React from 'react';\nimport Card from 'antd/lib/card';\nimport Icon from 'antd/lib/icon';\nimport message from 'antd/lib/message';\nimport Popconfirm from 'antd/lib/popconfirm';\n\nimport {\n    cardStyle,\n    iconTheme,\n} from '../pages/pageStyle';\nimport { DiffImage } from '../diff/DiffImage';\nimport { PngDiffData, Viewport, PageData } from '../server/typing';\nimport { Link } from 'react-router-dom';\nimport { getCodeRoute } from '../routes';\nimport { getViewportName } from '../viewport';\nimport { removePin } from '../server/service';\nimport { StorageType } from '../server/storage.typing';\n\nconst handleDelete = (\n    storageType: StorageType,\n    projectId: string,\n    id: string,\n    setPins: React.Dispatch<React.SetStateAction<PageData[]>>,\n) => async () => {\n    const hide = message.loading('Delete in progress..', 0);\n    const pins = await removePin(storageType, projectId, id);\n    setPins(pins);\n    hide();\n}\n\ninterface Props {\n    projectId: string;\n    storageType: StorageType,\n    id: string;\n    url: string;\n    setPins: React.Dispatch<React.SetStateAction<PageData[]>>;\n    viewport?: Viewport,\n    onImg: () => void;\n    png?: {\n        width: number;\n        diff?: PngDiffData;\n    };\n}\n\nexport const PinPage = ({ storageType, projectId, id, url, viewport, onImg, png, setPins }: Props) => (\n    <Card\n        style={cardStyle}\n        cover={png && <DiffImage folder='base' id={id} onImg={onImg} projectId={projectId} />}\n        actions={[\n            <Popconfirm\n                title=\"Are you sure delete this pin?\"\n                onConfirm={handleDelete(storageType, projectId, id, setPins)}\n                okText=\"Yes\"\n                cancelText=\"No\"\n            >\n                <Icon type=\"delete\" title={`Delete pin`} />\n            </Popconfirm>,\n            (<Link to={{\n                pathname: getCodeRoute(storageType, projectId, id),\n                state: { pattern: url }\n            }}>\n                <Icon type=\"code\" title={`Insert code while crawling`} />\n            </Link>),\n        ]}\n    >\n        <p><Icon type=\"link\" /> <a href={url}>{url}</a></p>\n        {!png && <p><Icon type=\"picture\" theme={iconTheme} /> No screenshot available</p>}\n        {viewport && <p><Icon type=\"picture\" theme={iconTheme} /> {getViewportName(viewport)}</p>}\n    </Card>\n);\n","import React from 'react';\nimport Spin from 'antd/lib/spin';\nimport Typography from 'antd/lib/typography';\nimport Masonry from 'react-masonry-component';\n\nimport {\n    masonryStyle,\n    masonryOptions,\n} from '../pages/pageStyle';\nimport { PageData } from '../server/typing';\nimport { ErrorHandler } from '../common/ErrorHandler';\nimport { PinPage } from './PinPage';\nimport { Search } from '../search/Search';\nimport { setMasonry, onMasonryImg } from '../common/refreshMasonry';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { ProjectName } from '../projects/ProjectName';\nimport { useAsync } from '../hook/useAsync';\nimport { getPins } from '../server/service';\nimport { StorageType } from '../server/storage.typing';\n\nconst { Title } = Typography;\n\nexport const Pins = ({\n    match: { params: { projectId, storageType } },\n}: RouteComponentProps<{ projectId: string, storageType: StorageType }>) => {\n    const { result, error, setResult: setPins } = useAsync<PageData[]>(\n        () => getPins(storageType, projectId)\n    );\n    if (error) {\n        return <ErrorHandler description={error.toString()} />;\n    }\n\n    return (\n        <>\n            <Title level={3}>Pins</Title>\n            <ProjectName projectId={projectId} storageType={storageType} />\n            <Search response={result}>\n                {(pins) => pins ? (\n                    <Masonry\n                        style={masonryStyle}\n                        options={masonryOptions}\n                        ref={(c: any) => { setMasonry(c && c.masonry); }}\n                    >\n                        {pins.map(({ id, url, png, viewport }: PageData) => (\n                            <PinPage\n                                projectId={projectId}\n                                id={id}\n                                key={id}\n                                url={url}\n                                setPins={setPins}\n                                png={png}\n                                viewport={viewport}\n                                onImg={onMasonryImg}\n                                storageType={storageType}\n                            />\n                        ))}\n                    </Masonry>\n                ) : <Spin />\n                }\n            </Search>\n        </>\n    );\n}\n","import React from 'react';\nimport Typography from 'antd/lib/typography';\n\nimport { Info } from '../common/Info';\n\nconst { Paragraph, Text } = Typography;\n\nexport const CodeInfo = ({full = true}) => (\n    <Info>\n        <Paragraph>\n            Inject some code in the crawler while parsing the page. This code will\n            be executed just after the page finish loaded, before to make the screenshot and\n            before extracting the links. {full && <>You need to export a function that will take as\n            first parameter the <Text code>page</Text> coming from Puppeteer.</>}\n        </Paragraph>\n        {full && <Paragraph>\n            <Text code>module.exports = async (page) => ...some code</Text>\n        </Paragraph>}\n    </Info>\n);\n","import { cardStyle } from \"../pages/pageStyle\";\n\nexport const aceEditorStyle = {\n    border: '1px solid #EEE',\n    marginBottom: 15,\n    marginRight: 15,\n    float: 'left' as 'left',\n}\n\nexport const cardRightStyle = {\n    ...cardStyle,\n    float: 'left' as 'left',\n}\n\nexport const buttonBarStyle = {\n    marginBottom: 15,\n}\n\nexport const buttonStyle = {\n    marginRight: 10,\n}\n\nexport const inputStyle = {\n    maxWidth: 500,\n    margin: '0px 0px 10px 0px',\n}\n","import React from 'react';\nimport Input from 'antd/lib/input';\nimport notification from 'antd/lib/notification';\nimport Icon from 'antd/lib/icon';\nimport Button from 'antd/lib/button';\nimport message from 'antd/lib/message';\nimport Dropdown from 'antd/lib/dropdown';\nimport Typography from 'antd/lib/typography';\nimport Form, { FormComponentProps } from 'antd/lib/form';\nimport { Code } from '../server/typing';\n\nimport { setCode } from '../server/service';\nimport { codeSnippet } from './CodeSnippet';\nimport { buttonBarStyle, buttonStyle, inputStyle } from './codeStyle';\nimport { Info } from '../common/Info';\nimport { Location } from 'history';\nimport { StorageType } from '../server/storage.typing';\n\nconst { Paragraph } = Typography;\n\ninterface FormInput extends HTMLFormElement {\n    name: string,\n    pattern: string,\n}\n\nconst onPlay = () => {\n    message.warn('To be implemented.', 2);\n}\n\nconst save = async (\n    storageType: StorageType,\n    projectId: string,\n    id: string,\n    source: string,\n    info: FormInput,\n) => {\n    try {\n        const hide = message.loading('Saving in progress..', 0);\n        await setCode(storageType, projectId, {\n            id,\n            source,\n            ...info,\n        });\n        hide();\n        message.success('Code saved.', 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\nconst handleSubmit = (\n    storageType: StorageType,\n    projectId: string,\n    id: string,\n    source: string,\n    validateFields: any,\n) => (event: React.FormEvent<FormInput>) => {\n    event.preventDefault();\n    validateFields((err: any, info: FormInput) => {\n        if (!err) {\n            save(storageType, projectId, id, source, info);\n        }\n    });\n}\n\ntype Props = FormComponentProps & {\n    storageType: StorageType;\n    projectId: string;\n    id: string;\n    code: Code;\n    location: Location<{ pattern: string }>;\n    setSource: (source: string) => void;\n};\n\nconst CodeFormComponent = ({\n    storageType,\n    projectId,\n    setSource,\n    id,\n    code,\n    form: { getFieldDecorator, validateFields },\n    location: { state },\n}: Props) => {\n    return (\n        <Form onSubmit={handleSubmit(storageType, projectId, id, code.source, validateFields)}>\n            <Form.Item style={inputStyle}>\n                {getFieldDecorator('name', {\n                    initialValue: code.name || '',\n                })(\n                    <Input addonBefore=\"Name\" />\n                )}\n            </Form.Item>\n            <Form.Item style={inputStyle}>\n                {getFieldDecorator('pattern', {\n                    rules: [{ required: true, message: 'Please input a pattern!' }],\n                    initialValue: code.pattern || (state && state.pattern) || '',\n                })(\n                    <Input addonBefore=\"Pattern\" />\n                )}\n            </Form.Item>\n            <Info>\n                <Paragraph>\n                    Pattern is using <a href=\"https://www.npmjs.com/package/minimatch\" target=\"_blank\" rel=\"noopener noreferrer\">minimatch</a> to\n                    match the urls to inject the code.\n                    It works by converting glob expressions into JavaScript RegExp objects.\n                </Paragraph>\n            </Info>\n            <div style={buttonBarStyle}>\n                <Button icon=\"save\" htmlType=\"submit\" style={buttonStyle}>Save</Button>\n                <Button icon=\"caret-right\" onClick={onPlay} style={buttonStyle}>Preview</Button>\n                <Dropdown overlay={codeSnippet(setSource)}>\n                    <Button style={buttonStyle}>\n                        Code snippet <Icon type=\"down\" />\n                    </Button>\n                </Dropdown>\n            </div>\n        </Form>\n    );\n}\n\nexport const CodeForm = Form.create<Props>({ name: 'code' })(CodeFormComponent);\n","import React from 'react';\nimport Menu from 'antd/lib/menu';\n\nexport const codeSnippet = (setCode: (source: string) => void) => (\n    <Menu>\n        <Menu.Item\n            key=\"1\"\n            onClick={() => {\n                setCode(\n`module.exports = async function run(page) {\n    await page.evaluate(() => {\n        const div = document.createElement(\"div\");\n        div.innerHTML = \"Test-crawler is awesome!\";\n        document.body.insertBefore(div, document.body.firstChild);\n    });\n}`\n                );\n            }}\n        >\n            Test-crawler is awesome\n        </Menu.Item>\n        <Menu.Item\n            key=\"2\"\n            onClick={() => {\n                setCode(\n`module.exports = async function run(page) {\n    return await page.evaluate(() => {\n        Array.from(document.body.getElementsByTagName(\"a\"))\n             .filter(a => !a.href)\n             .forEach(a => a.click());\n        return Array.from(document.links).map(\n            link => link.href.replace('/?', '/iframe.html?')\n        );\n    });\n}`\n                );\n            }}\n        >\n            Storybook\n        </Menu.Item>\n        <Menu.Item\n            key=\"3\"\n            onClick={() => {\n                setCode(\n`// expect library from jest is installed by default\n// but you can use any assertion tool of your choice\n// just install it and use it here :D\nconst expect = require('expect');\n\nmodule.exports = async function run(page) {\n  await expect(page.title()).resolves.toMatch('React App');\n  expect('a').toBe('b'); // fail\n}`\n                );\n            }}\n        >\n            Expect assetion example\n        </Menu.Item>\n    </Menu>\n);","import React from 'react';\nimport Spin from 'antd/lib/spin';\nimport Typography from 'antd/lib/typography';\nimport Form from 'antd/lib/form';\nimport AceEditor from 'react-ace';\nimport { RouteComponentProps } from 'react-router';\nimport { Code as CodeType } from '../server/typing';\n\nimport 'brace/mode/javascript';\nimport 'brace/theme/tomorrow';\n\nimport { getCode } from '../server/service';\nimport { CodeInfo } from './CodeInfo';\nimport { aceEditorStyle } from './codeStyle';\nimport { CodeForm } from './CodeFrom';\nimport { ErrorHandler } from '../common/ErrorHandler';\nimport { ProjectName } from '../projects/ProjectName';\nimport { useAsync } from '../hook/useAsync';\nimport { StorageType } from '../server/storage.typing';\n\nconst { Title } = Typography;\n\nconst setSource = (\n    code: CodeType,\n    setCode: React.Dispatch<React.SetStateAction<CodeType>>,\n) => (source: string) => {\n    setCode({\n        ...code,\n        source,\n    })\n}\n\ntype Props = RouteComponentProps<{ id: string, projectId: string, storageType: StorageType }>;\n\nexport const Code = ({ match: { params: { id, projectId, storageType } }, location }: Props) => {\n    const { error, result: code, setResult: setCode } = useAsync<CodeType>(() => getCode(storageType, projectId, id));\n    if (error) {\n        return <ErrorHandler description={error.toString()} />;\n    }\n    // instead to getPin, there should be a special endpoint retriving a\n    // list of pages matching the pattern\n    // (when it is coming from pin, pattern should be already be filled out)\n    return (\n        <>\n            <Title level={3}>Add some code</Title>\n            {\n                code ? (\n                    <Form>\n                        <CodeInfo />\n                        <ProjectName projectId={projectId} storageType={storageType} />\n                        <CodeForm\n                            projectId={projectId}\n                            id={id}\n                            code={code}\n                            setSource={setSource(code, setCode)}\n                            location={location}\n                            storageType={storageType}\n                        />\n                        <AceEditor\n                            mode=\"javascript\"\n                            theme=\"tomorrow\"\n                            onChange={setSource(code, setCode)}\n                            fontSize={14}\n                            value={code.source.length\n                                ? code.source\n                                : `module.exports = async function run(page) {\\n// your code\\n}`}\n                            style={aceEditorStyle}\n                        />\n                        {/* {pin && <CodeCard id={pin.id} png={pin.png} url={pin.url} projectId={projectId} />} */}\n                    </Form>\n                ) : <Spin />\n            }\n        </>\n    );\n}\n","import React from 'react';\nimport Typography from 'antd/lib/typography';\nimport Spin from 'antd/lib/spin';\n\nimport { getSettings, startCrawlers } from './server/service';\nimport Button from 'antd/lib/button';\n\nconst { Title } = Typography;\n\nconst load = async (\n    setSettings: React.Dispatch<any>,\n) => {\n    setSettings(await getSettings());\n}\n\nexport const Settings = () => {\n    const [settings, setSettings] = React.useState();\n\n    React.useEffect(() => { load(setSettings); }, []);\n\n    return (\n        <>\n            <Title level={3}>Settings</Title>\n            {settings ? (\n                <>\n                    <p><b>Dir:</b> {settings.dir}</p>\n                </>\n            ) : <Spin />}\n            <p>\n                <Button\n                    icon=\"caret-right\"\n                    size=\"small\"\n                    onClick={startCrawlers}\n                >\n                    Start crawlers\n                </Button>\n            </p>\n        </>\n    );\n}\n","import React from 'react';\nimport Spin from 'antd/lib/spin';\nimport List from 'antd/lib/list';\nimport Button from 'antd/lib/button';\nimport Typography from 'antd/lib/typography';\nimport { CodeInfoList } from '../server/typing';\n\nimport { getCodes } from '../server/service';\nimport { CodeInfo } from './CodeInfo';\nimport { ErrorHandler } from '../common/ErrorHandler';\nimport { Link } from 'react-router-dom';\nimport { getCodeRoute } from '../routes';\nimport { useAsync } from '../hook/useAsync';\nimport { StorageType } from '../server/storage.typing';\n\nconst { Title, Text } = Typography;\n\ninterface Props {\n    storageType: StorageType;\n    projectId: string;\n}\nexport const Codes = ({ projectId, storageType }: Props) => {\n    const { error, result } = useAsync<CodeInfoList>(() => getCodes(storageType, projectId));\n    if (error) {\n        return <ErrorHandler description={error.toString()} />;\n    }\n    return (\n        <>\n            <Title level={3}>Codes</Title>\n            <CodeInfo full={false} />\n            {\n                result\n                    ? <List\n                        bordered\n                        dataSource={Object.values(result)}\n                        renderItem={({ id, name, pattern }) => (\n                            <List.Item\n                                actions={[\n                                    <Link to={getCodeRoute(storageType, projectId, id)}>\n                                        Edit\n                                    </Link>,\n                                ]}\n                            >\n                                <List.Item.Meta\n                                    title={\n                                        <Link to={getCodeRoute(storageType, projectId, id)}>\n                                            {name} <Text code>{pattern}</Text>\n                                        </Link>\n                                    }\n                                />\n                            </List.Item>\n                        )}\n                    />\n                    : <Spin />\n            }\n            <br />\n            <Link to={getCodeRoute(storageType, projectId, Math.floor(Date.now() / 1000).toString())}>\n                <Button icon=\"plus\" size=\"small\">New code</Button>\n            </Link>\n        </>\n    );\n}\n","import React from 'react';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport Typography from 'antd/lib/typography';\nimport notification from 'antd/lib/notification';\nimport { Project as ProjectType } from '../server/typing';\nimport { saveProject, startCrawler } from '../server/service';\nimport Spin from 'antd/lib/spin';\nimport { getViewportName } from '../viewport';\nimport Icon from 'antd/lib/icon';\nimport Checkbox, { CheckboxChangeEvent } from 'antd/lib/checkbox';\nimport { History } from 'history';\nimport { getResultsRoute, getPinsRoute } from '../routes';\nimport Button from 'antd/lib/button';\nimport { useProject } from './useProject';\nimport { useCrawlers } from './useCrawlers';\nimport List from 'antd/lib/list';\nimport { timestampToString } from '../utils';\nimport { Codes } from '../code/Codes';\nimport { StorageType } from '../server/storage.typing';\n\nconst onStart = (\n    history: History<any>,\n    projectId: string,\n    storageType: StorageType,\n) => async () => {\n    try {\n        const timestamp = await startCrawler(storageType, projectId);\n        history.push(getResultsRoute(storageType, projectId, timestamp));\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\nconst onAutoPinChange = (\n    storageType: StorageType,\n    { name, id, crawlerInput }: ProjectType,\n    setProject: React.Dispatch<React.SetStateAction<ProjectType>>,\n) => async ({ target: { checked } }: CheckboxChangeEvent) => {\n    const project = await saveProject(storageType, { ...crawlerInput, autopin: checked }, name, id);\n    setProject(project);\n}\n\nconst getCrawlerStatusIcon = (diffZoneCount: number, errorCount: number, status: string, inQueue: number) => {\n    if (inQueue > 0) {\n        return 'loading';\n    }\n    if (!diffZoneCount && errorCount === 0) {\n        return 'check';\n    }\n    if (status === 'done') {\n        return 'issues-close';\n    }\n    return 'exclamation-circle';\n}\n\nexport const Project = ({\n    match: { params: { projectId, storageType } },\n    history,\n}: RouteComponentProps<{ projectId: string, storageType: StorageType }>) => {\n    const { project, setProject } = useProject(storageType, projectId);\n    const { crawlers, loading } = useCrawlers(storageType, projectId);\n    return (\n        <>\n            <Typography.Title level={3}>Project</Typography.Title>\n            {!project ? <Spin /> : <>\n                <p><b>Name:</b> {project.name}</p>\n                <p><b>ID:</b> {projectId}</p>\n                <p><b>URL:</b> {project.crawlerInput.url}</p>\n                <p><b>Screen:</b> {getViewportName(project.crawlerInput.viewport)}</p>\n                <p><b>Method:</b>\n                    {project.crawlerInput.method === 'urls'\n                        ? <> <Icon type=\"ordered-list\" /> URLs list</>\n                        : <> <Icon type=\"radar-chart\" /> Spider bot\n                            {!!project.crawlerInput.limit &&\n                                <span style={{ color: '#999', fontSize: 12 }}> (Limit: {project.crawlerInput.limit})</span>}\n                        </>\n                    }\n                </p>\n                <p>\n                    <Checkbox\n                        checked={project.crawlerInput.autopin}\n                        onChange={onAutoPinChange(storageType, project, setProject)}\n                    >\n                        Automatically pin new page founds.\n                    </Checkbox>\n                </p>\n                <p>\n                    <Button\n                        icon=\"caret-right\"\n                        size=\"small\"\n                        onClick={onStart(history, projectId, storageType)}\n                    >\n                        Run\n                    </Button> &nbsp;\n                    <Link to={getPinsRoute(storageType, projectId)}>\n                        <Button\n                            icon=\"pushpin\"\n                            size=\"small\"\n                        >\n                            Pins\n                        </Button>\n                    </Link>\n                </p>\n                <List\n                    itemLayout=\"horizontal\"\n                    bordered\n                    loading={loading}\n                    dataSource={crawlers}\n                    renderItem={({ timestamp, diffZoneCount, errorCount, status, inQueue }) => (\n                        <List.Item\n                            actions={[\n                                <Link to={getResultsRoute(storageType, projectId, timestamp)}>\n                                    Open\n                                </Link>,\n                            ]}\n                        >\n                            <List.Item.Meta\n                                title={\n                                    <Link to={getResultsRoute(storageType, projectId, timestamp)}>\n                                        {timestampToString(timestamp)}\n                                    </Link>}\n                                description={<>\n                                    <Icon type={getCrawlerStatusIcon(diffZoneCount, errorCount, status, inQueue)} />\n                                    <span> Diff: {diffZoneCount} - Error: {errorCount} - In queue: {inQueue}</span>\n                                </>}\n                            />\n                        </List.Item>\n                    )}\n                />\n            </>}\n            <br />\n            <Codes projectId={projectId} storageType={storageType} />\n        </>\n    );\n}\n","import notification from 'antd/lib/notification';\nimport { getCrawlers } from '../server/service';\nimport { useAsync } from '../hook/useAsync';\nimport { Crawler } from '../server/typing';\nimport { StorageType } from '../server/storage.typing';\n\nexport const useCrawlers = (storageType: StorageType, projectId: string) => {\n    const { result: crawlers, setResult: setCrawlers, error, loading } = useAsync<Crawler[]>(async () => {\n        const list = await getCrawlers(storageType, projectId);\n        return list.sort(({ timestamp: a }: any, { timestamp: b }: any) => parseInt(b, 10) - parseInt(a, 10));\n    });\n    if (error) {\n        notification['warning']({\n            message: 'Something went wrong while loading crawlers from project.',\n            description: error.toString(),\n        });\n    }\n    return {crawlers, setCrawlers, loading };\n}\n","import React from 'react';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport { useProject } from './useProject';\nimport Breadcrumb from 'antd/lib/breadcrumb';\nimport { getHomeRoute, getProjectRoute } from '../routes';\nimport { StorageType } from '../server/storage.typing';\n\nexport const ProjectBreadcrumb = ({\n    match: { params: { projectId, storageType } },\n}: RouteComponentProps<{ projectId: string, storageType: StorageType }>) => {\n    const { project } = useProject(storageType, projectId);\n    return (\n        <>\n            <Breadcrumb.Item><Link to={getHomeRoute()}>Projects</Link></Breadcrumb.Item>\n            <Breadcrumb.Item><Link to={getProjectRoute(storageType, projectId)}>{project?.name}</Link></Breadcrumb.Item>\n        </>\n    );\n}\n","import React from 'react';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport Breadcrumb from 'antd/lib/breadcrumb';\nimport { getHomeRoute, getProjectRoute, getResultsRoute } from '../routes';\nimport { useProject } from '../projects/useProject';\nimport { timestampToString } from '../utils';\nimport { StorageType } from '../server/storage.typing';\n\nexport const CrawlerResultsBreadcrumb = ({\n    match: { params: { projectId, timestamp, storageType } },\n}: RouteComponentProps<{ projectId: string, timestamp: string, storageType: StorageType }>) => {\n    const { project } = useProject(storageType, projectId);\n    return (\n        <>\n            <Breadcrumb.Item><Link to={getHomeRoute()}>Projects</Link></Breadcrumb.Item>\n            <Breadcrumb.Item><Link to={getProjectRoute(storageType, projectId)}>{project?.name}</Link></Breadcrumb.Item>\n            <Breadcrumb.Item>\n                <Link to={getResultsRoute(storageType, projectId, timestamp)}>\n                    Results: {timestampToString(timestamp)}\n                </Link>\n            </Breadcrumb.Item>\n        </>\n    );\n}\n","import React from 'react';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport Breadcrumb from 'antd/lib/breadcrumb';\nimport { getHomeRoute, getProjectRoute, getPinsRoute } from '../routes';\nimport { useProject } from '../projects/useProject';\nimport { StorageType } from '../server/storage.typing';\n\nexport const PinsBreadcrumb = ({\n    match: { params: { projectId, storageType } },\n}: RouteComponentProps<{ projectId: string, storageType: StorageType }>) => {\n    const { project } = useProject(storageType, projectId);\n    return (\n        <>\n            <Breadcrumb.Item><Link to={getHomeRoute()}>Projects</Link></Breadcrumb.Item>\n            <Breadcrumb.Item><Link to={getProjectRoute(storageType, projectId)}>{project?.name}</Link></Breadcrumb.Item>\n            <Breadcrumb.Item><Link to={getPinsRoute(storageType, projectId)}>Pins</Link></Breadcrumb.Item>\n        </>\n    );\n}\n","import React from 'react';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport Breadcrumb from 'antd/lib/breadcrumb';\nimport { getHomeRoute, getProjectRoute, getCodeRoute } from '../routes';\nimport { useProject } from '../projects/useProject';\nimport { StorageType } from '../server/storage.typing';\n\nexport const CodeBreadcrumb = ({\n    match: { params: { projectId, id, storageType } },\n}: RouteComponentProps<{ projectId: string, id: string, storageType: StorageType }>) => {\n    const { project } = useProject(storageType, projectId);\n    return (\n        <>\n            <Breadcrumb.Item><Link to={getHomeRoute()}>Projects</Link></Breadcrumb.Item>\n            <Breadcrumb.Item><Link to={getProjectRoute(storageType, projectId)}>{project?.name}</Link></Breadcrumb.Item>\n            <Breadcrumb.Item><Link to={getCodeRoute(storageType, projectId, id)}>Code</Link></Breadcrumb.Item>\n        </>\n    );\n}\n","import React from 'react';\nimport Layout from 'antd/lib/layout';\nimport Typography from 'antd/lib/typography';\nimport Breadcrumb from 'antd/lib/breadcrumb';\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\n\nimport './App.css';\nimport NewProject from './projects/new/NewProject';\nimport { Projects } from './projects/Projects';\nimport { CrawlerResults } from './crawler/CrawlerResults';\nimport {\n    getHomeRoute, getResultsRoute, getPinsRoute, getProjectRoute,\n    getCodeRoute, getSettingsRoute, getNewProjectRoute, getAuthGitHubRoute\n} from './routes';\nimport { Pins } from './pin/Pins';\nimport { Code } from './code/Code';\nimport { Settings } from './Settings';\nimport { Project } from './projects/Project';\nimport Menu from 'antd/lib/menu';\nimport Icon from 'antd/lib/icon';\nimport { ProjectBreadcrumb } from './projects/ProjectBreadcrumb';\nimport { CrawlerResultsBreadcrumb } from './crawler/CrawlerResultsBreadcrumb';\nimport { PinsBreadcrumb } from './pin/PinsBreadcrumb';\nimport { CodeBreadcrumb } from './code/CodeBreadcrumb';\nimport { GitHubAuth } from './auth/GitHubAuth';\n\nconst { Content, Header } = Layout;\nconst { Title } = Typography;\n\nconst layoutStyle = {\n    minHeight: '100vh',\n};\nconst titleStyle = {\n    color: '#fff',\n    marginTop: 15,\n    marginRight: 15,\n    float: 'left' as any,\n}\nconst contentStyle = {\n    background: '#fff',\n    padding: 24,\n    margin: 10,\n    minHeight: 280,\n};\n\nconst App = () => (\n    <Router>\n        <Layout style={layoutStyle}>\n            <Header>\n                <Link to={getHomeRoute()}>\n                    <Title level={3} style={titleStyle}>\n                        Test-crawler\n                    </Title>\n                </Link>\n                <Menu\n                    theme=\"dark\"\n                    mode=\"horizontal\"\n                    style={{ lineHeight: '64px' }}\n                >\n                    <Menu.Item key=\"projects\">\n                        <Icon type=\"folder\" />\n                        <span className=\"nav-text\">Projects</span>\n                        <Link to={getHomeRoute()} />\n                    </Menu.Item>\n                    <Menu.Item key=\"settings\" style={{ float: 'right' }} >\n                        <Link to={getSettingsRoute()}>\n                            <Icon type=\"setting\" />\n                        </Link>\n                    </Menu.Item>\n                </Menu>\n            </Header>\n            <Breadcrumb style={{ margin: '10px 0 0 10px' }}>\n                <Route path={getProjectRoute(':storageType', ':projectId')} exact component={ProjectBreadcrumb} />\n                <Route path={getResultsRoute(':storageType', ':projectId', ':timestamp')} exact component={CrawlerResultsBreadcrumb} />\n                <Route path={getPinsRoute(':storageType', ':projectId')} exact component={PinsBreadcrumb} />\n                <Route path={getCodeRoute(':storageType', ':projectId', ':id')} exact component={CodeBreadcrumb} />\n            </Breadcrumb>\n            <Content style={contentStyle}>\n                <Route path={getHomeRoute()} exact component={Projects} />\n                <Route path={getSettingsRoute()} exact component={Settings} />\n                <Route path={getAuthGitHubRoute()} exact component={GitHubAuth} />\n\n                <Route path={getNewProjectRoute(':storageType')} exact component={NewProject} />\n                <Route path={getPinsRoute(':storageType', ':projectId')} exact component={Pins} />\n                <Route path={getCodeRoute(':storageType', ':projectId', ':id')} exact component={Code} />\n                <Route path={getResultsRoute(':storageType', ':projectId', ':timestamp')} component={CrawlerResults} />\n                <Route path={getProjectRoute(':storageType', ':projectId')} exact component={Project} />\n            </Content>\n        </Layout>\n    </Router>\n);\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { AsyncCacheProvider } from 'react-async-cache';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render((<AsyncCacheProvider><App /></AsyncCacheProvider>), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
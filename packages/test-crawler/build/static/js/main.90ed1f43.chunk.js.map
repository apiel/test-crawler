{"version":3,"sources":["logo.svg","server/typing.ts","routes.tsx","server/service.ts","common/Info.tsx","viewport.ts","hook/useAsync.ts","projects/ProjectRepos.tsx","doc/useDoc.tsx","server/storage.typing.ts","projects/new/NewProject.tsx","server/error.ts","projects/useProjects.tsx","auth/GitHubAuth.tsx","search/search.ts","common/refreshMasonry.ts","projects/ProjectsInfo.tsx","projects/ProjectsPerRemote.tsx","hook/useError.tsx","projects/Projects.tsx","pages/pageStyle.tsx","common/ErrorHandler.tsx","search/Search.tsx","utils/index.ts","diff/DiffImageButtons.tsx","diff/DiffZone.tsx","pages/PageImageDiffZone.tsx","pages/PageImageDiff.tsx","pages/PageImage.tsx","pages/Page.tsx","pages/PagesActionZone.tsx","pages/PagesActionPin.tsx","diff/DiffImage.tsx","diff/DiffImageWithZone.tsx","pages/PagesActionFullscreen.tsx","pages/PagesActions.tsx","pages/Pages.tsx","crawler/SwitchStatus.tsx","projects/useProject.tsx","projects/ProjectName.tsx","crawler/CrawlerInfo.tsx","crawler/CrawlerResults.tsx","pin/PinPage.tsx","pin/Pins.tsx","code/CodeInfo.tsx","code/codeStyle.ts","code/CodeFrom.tsx","code/CodeSnippet.tsx","code/Code.tsx","Settings.tsx","code/ForEachPage.tsx","code/BeforeAfter.tsx","code/Codes.tsx","projects/ProjectJobs.tsx","projects/Project.tsx","projects/useCrawlers.tsx","projects/ProjectBreadcrumb.tsx","crawler/CrawlerResultsBreadcrumb.tsx","pin/PinsBreadcrumb.tsx","code/CodeBreadcrumb.tsx","doc/DocSider.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","ZoneStatus","Browser","BeforeAfterType","createElement","d","x","y","width","height","cx","cy","r","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","getNewProjectRoute","storageType","getPinsRoute","projectId","getCodeRoute","id","getResultsRoute","timestamp","getProjectRoute","getSettings","args","isomorRemote","loadProject","saveProject","getCrawlers","saveBeforeAfterCode","setCode","getThumbnail","removePin","pin","setZoneStatus","setZonesStatus","setStatus","startCrawler","startCrawlers","infoStyle","lineHeight","borderLeft","paddingLeft","color","textAlign","Info","children","style","viewports","name","value","isMobile","hasTouch","viewportsStr","map","viewport","JSON","stringify","getViewportName","valueStr","index","findIndex","vp","load","fn","setResult","setError","setLoading","a","undefined","result","useAsync","deps","initialValue","React","useState","error","loading","useEffect","ProjectRepos","loadProjects","repos","defaultValue","loadRepos","repo","getRepo","showSearch","onChange","Cookies","set","path","placeholder","Option","DocContext","createContext","open","toggle","setOpen","setContent","StorageType","useDoc","useContext","useThisDoc","content","save","history","input","parse","push","notification","message","description","toString","handleSubmit","validateFields","event","preventDefault","err","values","NewForm","Form","create","match","params","form","getFieldDecorator","getFieldValue","browsers","getBrowsers","Doc","onSubmit","Item","rules","required","addonBefore","label","className","ChromePuppeteer","browser","Group","size","Button","type","min","trigger","overlayStyle","Paragraph","ellipsis","rows","expandable","href","rel","valuePropName","icon","htmlType","Title","level","ERR","useProjects","projects","timerSearch","masonry","timer","window","location","reload","GitHubAuth","Text","code","Password","ProjectsInfo","info","getInfo","ProjectsPerRemote","ErrorComponent","missingGitHubConfig","useError","itemLayout","bordered","dataSource","renderItem","url","crawlerInput","actions","to","Meta","Projects","coverStyle","imgStyle","cardStyle","cardImgMargin","marginBottom","masonryStyle","paddingTop","paddingBottom","masonryOptions","gutter","fitWidth","ErrorHandler","showIcon","searchStyle","marginRight","onSearch","setPages","pages","filters","clearTimeout","setTimeout","filterPages","searchPages","Fuse","search","onFilter","setFilters","searchValue","filter","availableFilters","includes","join","page","res","pixelDiffRatio","get","png","diff","Select","Search","response","withFilters","selectedFilters","setSelectedFilters","pagesFiltered","setPagesFiltered","mode","tokenSeparators","filterOption","timestampToString","unix","parseInt","calendar","buttonStyle","marginLeft","onSetStatus","status","success","DiffImageButtons","onClick","valid","zonePin","report","getColorByStatus","zoneStyle","ratio","img","over","xMin","yMin","top","left","xMax","yMax","border","position","backgroundImage","backgroundPosition","backgroundSize","DiffZone","thumb","originalWidth","zone","hover","setHover","onMouseOver","onMouseOut","PageImageDiffZone","zones","more","Fragment","perStatus","getCountZonesPerStatus","PageImageDiff","theme","n","precision","fix","Math","floor","log","toFixed","sigDig","PageImage","convert","require","fg","alertStyle","Page","pageError","dangerouslySetInnerHTML","__html","toHtml","PagesActionZone","onPin","hide","PagesActionPin","DiffImage","onImg","setThumb","alt","src","DiffImageWithZone","useAsyncCacheWatch","cache","setVisible","onCancel","PagesActionFullscreen","visible","footer","PagesActions","setMasonry","m","onMasonryImg","layout","Pages","lastUpdate","getPages","options","c","cover","setCrawler","crawler","SwitchStatus","checkedChildren","unCheckedChildren","checked","useProject","project","setProject","update","ProjectName","Typography","warningStyle","limitStyle","fontSize","CrawlerInfo","diffZoneCount","errorCount","urlsCount","inQueue","startAt","limit","total","percent","screen","duration","format","CrawlerResults","getCrawler","subscrib","unsubscrib","handleDelete","setPins","pins","PinPage","onConfirm","okText","cancelText","pathname","state","pattern","Pins","getPins","CodeInfo","full","aceEditorStyle","buttonBarStyle","float","inputStyle","maxWidth","margin","onPlay","warn","CodeForm","setSource","overlay","Code","getCode","setSettings","Settings","settings","dir","ForEachPage","getCodes","Date","now","onSave","BeforeAfter","codeParam","getBeforeAfterCode","Codes","Before","After","ProjectJobs","jobs","loadJobs","loadCrawlers","jobInProgress","setJobInProgress","setInterval","clearInterval","stepsCount","stepsDone","currentStep","onStart","redirect","btn","onAutoPinChange","autopin","getCrawlerStatusIcon","Project","list","sort","b","crawlers","setCrawlers","useCrawlers","getJobs","method","ProjectBreadcrumb","CrawlerResultsBreadcrumb","PinsBreadcrumb","CodeBreadcrumb","DocSider","Sider","breakpoint","collapsedWidth","padding","fontStyle","offsetTop","shape","Content","Layout","Header","layoutStyle","minHeight","titleStyle","marginTop","contentStyle","background","App","fill","selectable","exact","component","NewProject","Boolean","hostname","host","hotjar","initialize","ReactDOM","render","cookies","setStateOpen","Provider","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.90ed1f43.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M325.8166665077209,137.29999988079066 c146.97,0 251.77,73.76 322.73,155.31 V1.4999998807907104 h-647.5 v292.48 C72.47666650772089,211.8799998807907 178.03666650772095,137.29999988079066 325.8166665077209,137.29999988079066 z\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"rect\", {\n  x: 1.0366616249084473,\n  y: 506.1999510526657,\n  width: 647.5,\n  height: 142.8000030517578\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"circle\", {\n  cx: 324.79667139053345,\n  cy: 325.2499998807907,\n  r: 125.18000030517578\n});\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 647.5 647.5\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.25ca0e45.svg\";\nexport { ForwardRef as ReactComponent };","import { isomorRemote } from \"isomor\";\n// import { Zone } from 'pixdiff-zone';\n// import { Viewport } from 'puppeteer';\n// export { Viewport, Zone };\nexport enum ZoneStatus {\n  valid = 'valid',\n  zonePin = 'zone-pin',\n  report = 'report',\n  diff = 'diff',\n}\nexport enum Browser {\n  ChromePuppeteer = 'chrome-puppeteer',\n  FirefoxSelenium = 'firefox-selenium',\n  ChromeSelenium = 'chrome-selenium',\n  SafariSelenium = 'safari-selenium',\n  IeSelenium = 'ie-selenium',\n}\nexport interface StartCrawler {\n  timestamp: string;\n  redirect?: string;\n}\nexport interface Zone {\n  xMin: number;\n  yMin: number;\n  xMax: number;\n  yMax: number;\n}\nexport interface Viewport {\n  width: number;\n  height: number;\n  deviceScaleFactor?: number;\n  isMobile?: boolean;\n  hasTouch?: boolean;\n  isLandscape?: boolean;\n}\nexport interface CodeInfoList {\n  [id: string]: CodeInfo;\n}\nexport interface CodeInfo {\n  id: string;\n  pattern: string;\n  name: string;\n}\nexport interface Code extends CodeInfo {\n  source: string;\n}\nexport enum BeforeAfterType {\n  Before = 'before',\n  After = 'after',\n}\nexport interface CrawlerInput {\n  url: string;\n  viewport: Viewport;\n  browser: Browser;\n  method: string;\n  limit?: number;\n  autopin: boolean;\n}\nexport interface Project {\n  id: string;\n  name: string;\n  crawlerInput: CrawlerInput;\n}\nexport interface Crawler extends CrawlerInput {\n  id: string;\n  timestamp: string;\n  diffZoneCount: number;\n  errorCount: number;\n  inQueue: number;\n  urlsCount: number;\n  status: string;\n  startAt: number;\n  lastUpdate: number;\n}\nexport interface PngDiffDataZone {\n  zone: Zone;\n  status: ZoneStatus;\n}\nexport interface PngDiffData {\n  pixelDiffRatio: number;\n  zones: PngDiffDataZone[];\n}\nexport interface PageData {\n  id: string;\n  url: string;\n  timestamp: string;\n  error?: string;\n  performance?: Performance;\n  metrics?: PageMetrics;\n  viewport?: Viewport;\n  png?: {\n    width: number;\n    diff?: PngDiffData;\n  };\n}\nexport interface CrawlTarget {\n  timestamp: string;\n  projectId: string;\n}\nexport interface PageMetrics {\n  Timestamp: number;\n  Documents: number;\n  Frames: number;\n  JSEventListeners: number;\n  Nodes: number;\n  LayoutCount: number;\n  RecalcStyleCount: number;\n  LayoutDuration: number;\n  RecalcStyleDuration: number;\n  ScriptDuration: number;\n  TaskDuration: number;\n  JSHeapUsedSize: number;\n  JSHeapTotalSize: number;\n}\nexport interface Performance {\n  timeOrigin: number;\n  timing: Timing;\n  navigation: Navigation;\n}\nexport interface Navigation {\n  type: 0;\n  redirectCount: 0;\n}\nexport interface Timing {\n  navigationStart: number;\n  unloadEventStart: number;\n  unloadEventEnd: number;\n  redirectStart: number;\n  redirectEnd: number;\n  fetchStart: number;\n  domainLookupStart: number;\n  domainLookupEnd: number;\n  connectStart: number;\n  connectEnd: number;\n  secureConnectionStart: number;\n  requestStart: number;\n  responseStart: number;\n  responseEnd: number;\n  domLoading: number;\n  domInteractive: number;\n  domContentLoadedEventStart: number;\n  domContentLoadedEventEnd: number;\n  domComplete: number;\n  loadEventStart: number;\n  loadEventEnd: number;\n}\nexport interface Job {\n  id: string;\n  url: string;\n  status: string;\n  startAt: number;\n  lastUpdate: number;\n  stepsCount?: number;\n  stepsDone?: number;\n  currentStep?: string;\n}","import { StorageType } from './server/storage.typing';\n\nexport const getHomeRoute = () => '/';\nexport const getSettingsRoute = () => '/settings';\nexport const getAuthGitHubRoute = () => '/auth/github';\n\nexport function getNewProjectRoute<T = StorageType>(storageType: T) {\n    return `/new/${storageType}`;\n}\nexport function getPinsRoute<T = StorageType>(storageType: T, projectId: string) {\n    return `/pins/${storageType}/${projectId}`;\n}\nexport function getCodeRoute<T = StorageType>(storageType: T, projectId: string, id: string) {\n    return `/code/${storageType}/${projectId}/${id}`;\n}\nexport function getResultsRoute<T = StorageType>(storageType: T, projectId: string, timestamp: string) {\n    return `/results/${storageType}/${projectId}/${timestamp}`;\n}\nexport function getProjectRoute<T = StorageType>(storageType: T, projectId: string) {\n    return `/project/${storageType}/${projectId}`;;\n}\n","import { isomorRemote } from \"isomor\";\nexport function getSettings(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getSettings\", args);\n}\nexport function getInfo(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getInfo\", args);\n}\nexport function getJobs(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getJobs\", args);\n}\nexport function getRepo(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getRepo\", args);\n}\nexport function loadRepos(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"loadRepos\", args);\n}\nexport function loadProject(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"loadProject\", args);\n}\nexport function loadProjects(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"loadProjects\", args);\n}\nexport function saveProject(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"saveProject\", args);\n}\nexport function getCrawler(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getCrawler\", args);\n}\nexport function getCrawlers(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getCrawlers\", args);\n}\nexport function getPages(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getPages\", args);\n}\nexport function getPins(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getPins\", args);\n}\nexport function getPin(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getPin\", args);\n}\nexport function saveBeforeAfterCode(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"saveBeforeAfterCode\", args);\n}\nexport function getBeforeAfterCode(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getBeforeAfterCode\", args);\n}\nexport function setCode(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"setCode\", args);\n}\nexport function getCode(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getCode\", args);\n}\nexport function getCodes(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getCodes\", args);\n}\nexport function getThumbnail(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getThumbnail\", args);\n}\nexport function removePin(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"removePin\", args);\n}\nexport function pin(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"pin\", args);\n}\nexport function setZoneStatus(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"setZoneStatus\", args);\n}\nexport function setZonesStatus(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"setZonesStatus\", args);\n}\nexport function setStatus(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"setStatus\", args);\n}\nexport function getBrowsers(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"getBrowsers\", args);\n}\nexport function startCrawler(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"startCrawler\", args);\n}\nexport function startCrawlers(...args: any) {\n  return isomorRemote(\"ws\", \"ws://127.0.0.1:3005\", \"server-service\", \"test-crawler\", \"startCrawlers\", args);\n}","import React from 'react';\n\nconst infoStyle = {\n    lineHeight: 1.2,\n    borderLeft: '8px solid #EEE',\n    paddingLeft: 15,\n    color: '#666',\n    textAlign: 'justify' as 'justify',\n}\n\nexport const Info: React.FunctionComponent = ({ children }) => (\n    <div style={infoStyle}>\n        { children }\n    </div>\n);\n","import { Viewport as ViewportObject } from './server/typing';\n\nexport interface ViewportString {\n    name: string;\n    value: string;\n}\n\nexport interface Viewport {\n    name: string;\n    value: ViewportObject;\n}\n\nexport const viewports: Viewport[] = [\n    { name: 'Desktop - 800x600', value: { width: 800, height: 600 } },\n    { name: 'Desktop - 1024x768', value: { width: 1024, height: 768 } },\n    { name: 'Desktop - 1920x1080', value: { width: 1920, height: 1080 } },\n    { name: 'iPhone 5 - 320x568', value: { width: 320, height: 568, isMobile: true, hasTouch: true } },\n    { name: 'iPhone 6 - 375x667', value: { width: 375, height: 667, isMobile: true, hasTouch: true } },\n    { name: 'Ipad - 768x1024', value: { width: 768, height: 1024, isMobile: true, hasTouch: true } },\n    { name: 'Galaxy S5 - 360x640', value: { width: 360, height: 640, isMobile: true, hasTouch: true } },\n];\n\nexport const viewportsStr: ViewportString[] = viewports.map(\n    ({ value, ...viewport }) => ({ ...viewport, value: JSON.stringify(value) })\n);\n\nexport const getDefaultViewportStr = () => viewportsStr[0];\nexport const getDefaultViewport = (): ViewportObject => viewports[0].value;\n\nexport const getViewportName = (value: ViewportObject) => {\n    const valueStr = JSON.stringify(value);\n    const index = viewportsStr.findIndex(vp => vp.value === valueStr);\n    if (index !== -1) {\n        return viewportsStr[index].name;\n    }\n    const { width, height, isMobile } = value;\n    return `${width}x${height}${ isMobile && ' mobile'}`;\n};\n","import React from 'react';\n\nconst load = <T>(\n    fn: () => Promise<any>,\n    setResult: React.Dispatch<React.SetStateAction<T>>,\n    setError: React.Dispatch<React.SetStateAction<any | undefined>>,\n    setLoading: React.Dispatch<React.SetStateAction<boolean>>,\n) => async () => {\n    try {\n        setError(undefined);\n        setLoading(true);\n        const result = await fn();\n        setResult(result);\n    } catch (error) {\n        setError(error);\n    }\n    setLoading(false);\n}\nexport const useAsync = <T>(\n    fn: () => Promise<any>,\n    deps: React.DependencyList = [],\n    initialValue?: any,\n) => {\n    const [result, setResult] = React.useState<T>(initialValue);\n    const [error, setError] = React.useState();\n    const [loading, setLoading] = React.useState(false);\n    const call = load<T>(fn, setResult, setError, setLoading);\n    React.useEffect(() => {\n        call();\n    }, deps);\n    return { loading, result, call, error, setResult }\n}","import React from 'react';\nimport Select from 'antd/lib/select';\nimport Cookies from 'universal-cookie';\n\nimport { StorageType } from '../server/storage.typing';\nimport { loadRepos, getRepo } from '../server/service';\nimport { useAsync } from '../hook/useAsync';\n\ninterface Props {\n    storageType: StorageType;\n    loadProjects?: () => Promise<void>;\n    defaultValue?: string | number;\n}\n\nexport const ProjectRepos = ({ storageType, loadProjects, defaultValue }: Props) => {\n    const { result: repos } = useAsync<string[]>(() => loadRepos(storageType));\n    const { result: repo } = useAsync<string>(() => getRepo(storageType));\n\n    return !repos ? null : (\n            <Select\n                showSearch\n                defaultValue={repo}\n                onChange={(value: string) => {\n                    const cookies = new Cookies();\n                    cookies.set('githubRepo', value, { path: '/' });\n                    loadProjects && loadProjects();\n                }}\n                style={{ width: 200 }}\n                placeholder=\"repository\"\n            >\n                {repos.map(repo => (<Select.Option key={repo} value={repo}>{repo}</Select.Option>))}\n            </Select>\n    );\n}\n","import React, { ReactNode } from 'react';\nimport Cookies from 'universal-cookie';\n\nconst DocContext = React.createContext<{\n    open: boolean,\n    toggle: () => void,\n    content?: ReactNode,\n    setOpen: (value: boolean) => void,\n    setContent: React.Dispatch<React.SetStateAction<ReactNode>>,\n}>({\n    open: false,\n    toggle: () => { },\n    setOpen: () => { },\n    setContent: () => { },\n});\n\nexport function DocProvider({ children }: React.PropsWithChildren<any>) {\n    const cookies = new Cookies();\n    const [open, setStateOpen] = React.useState(cookies.get('doc') === 'open');\n    const [content, setContent] = React.useState<ReactNode>();\n    const setOpen = (value: boolean) => {\n        cookies.set('doc', value ? 'open' : 'close', { path: '/' });\n        setStateOpen(value);\n    }\n    return (\n        <DocContext.Provider value={{\n            open,\n            setOpen,\n            content,\n            setContent,\n            toggle: () => setOpen(!open),\n        }}>\n            {children}\n        </DocContext.Provider>\n    );\n}\n\nexport const useDoc = () => React.useContext(DocContext);\n\nexport const useThisDoc = (content?: ReactNode) => {\n    const { setContent } = useDoc();\n    React.useEffect(() => {\n        setContent(content);\n    }, []);\n}\n","import { isomorRemote } from \"isomor\";\n\n/**\n * Separate types for storage in order to build static storage page\n * e.g. for GitHub pages\n */\nexport enum StorageType {\n  Local = 'local',\n  GitHub = 'github',\n}","import React from 'react';\nimport Input from 'antd/lib/input';\nimport InputNumber from 'antd/lib/input-number';\nimport Checkbox from 'antd/lib/checkbox';\nimport Form, { FormComponentProps } from 'antd/lib/form';\nimport Icon from 'antd/lib/icon';\nimport Popover from 'antd/lib/popover';\nimport Radio from 'antd/lib/radio';\nimport Typography from 'antd/lib/typography';\nimport notification from 'antd/lib/notification';\nimport Button from 'antd/lib/button';\nimport { RouteComponentProps } from 'react-router';\nimport { CrawlerInput, Browser } from '../../server/typing';\n\nimport { getHomeRoute } from '../../routes';\nimport { saveProject, getBrowsers } from '../../server/service';\nimport { Info } from '../../common/Info';\nimport { getDefaultViewport, viewportsStr } from '../../viewport';\nimport { History } from 'history';\nimport { StorageType } from '../../server/storage.typing';\nimport { ProjectRepos } from '../ProjectRepos';\nimport { useThisDoc } from '../../doc/useDoc';\nimport Select from 'antd/lib/select';\nimport { useAsync } from '../../hook/useAsync';\n\nconst save = async (\n    storageType: StorageType,\n    history: History<any>,\n    { name, viewport, ...input }: (CrawlerInput & { name: string, viewport: string }),\n) => {\n    try {\n        await saveProject(storageType, { ...input, viewport: JSON.parse(viewport) }, name, undefined);\n        history.push(getHomeRoute());\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\nconst handleSubmit = (storageType: StorageType, history: History<any>, validateFields: any) => (event: React.FormEvent<any>) => {\n    event.preventDefault();\n    validateFields((err: any, values: any) => {\n        if (!err) {\n            save(storageType, history, values);\n        }\n    });\n}\n\ntype Props = FormComponentProps & RouteComponentProps<{ storageType: StorageType }>;\nconst NewProject = ({\n    history,\n    match: { params: { storageType } },\n    form: { getFieldDecorator, validateFields, getFieldValue },\n}: Props) => {\n    const { result: browsers } = useAsync<Browser[]>(() => getBrowsers(storageType));\n    useThisDoc(Doc);\n    return (\n        <Form onSubmit={handleSubmit(storageType, history, validateFields)}>\n            <Form.Item>\n                {getFieldDecorator('name', {\n                    rules: [{ required: true, message: 'Please give a name to the project.' }],\n                })(\n                    <Input addonBefore=\"Name\" placeholder=\"Project name\" />\n                )}\n            </Form.Item>\n            <Form.Item>\n                {getFieldDecorator('url', {\n                    rules: [{ required: true, message: 'Please input an URL to crawl.' }],\n                })(\n                    <Input\n                        placeholder=\"https://domain.com/\"\n                        addonBefore=\"URL\"\n                    />\n                )}\n            </Form.Item>\n            <div>\n                <Form.Item label=\"Browser\" className=\"item-inline\">\n                    {getFieldDecorator('browser', {\n                        initialValue: Browser.ChromePuppeteer,\n                        rules: [{ required: true, message: 'Please select a browser.' }],\n                    })(\n                        <Select>\n                            {browsers?.map(\n                                (browser) => <Select.Option key={browser} value={browser}>{browser}</Select.Option>\n                            )}\n                        </Select>\n                    )}\n                </Form.Item>\n                <Form.Item label=\"Viewport\" className=\"item-inline\">\n                    {getFieldDecorator('viewport', {\n                        initialValue: JSON.stringify(getDefaultViewport()),\n                        rules: [{ required: true, message: 'Please select viewport.' }],\n                    })(\n                        <Select>\n                            {viewportsStr.map(\n                                ({ value, name }) => <Select.Option key={value} value={value}>{name}</Select.Option>\n                            )}\n                        </Select>\n                    )}\n                </Form.Item>\n            </div>\n            <div>\n                <Form.Item label=\"Method\" className=\"item-inline\">\n                    {getFieldDecorator('method', {\n                        initialValue: 'spiderbot',\n                        rules: [{ required: true }],\n                    })(\n                        <Radio.Group size=\"small\">\n                            <Radio.Button value={'spiderbot'}><Icon type=\"radar-chart\" /> Spider bot</Radio.Button>\n                            <Radio.Button value={'urls'}><Icon type=\"ordered-list\" /> URLs list</Radio.Button>\n                        </Radio.Group>\n                    )}\n                </Form.Item>\n                {getFieldValue('method') === 'spiderbot' &&\n                    <Form.Item label=\"Limit\" className=\"item-inline\">\n                        {getFieldDecorator('limit')(\n                            <InputNumber min={0} size=\"small\" />\n                        )}\n                        &nbsp;<Popover content={<div>\n                            <b>Limit the number of sibling pages. </b>\n                            For example, with the urls:\n                        <ul>\n                                <li>/item/1</li>\n                                <li>/item/2</li>\n                                <li>/item/3</li>\n                                <li>/item/4</li>\n                            </ul> using the limit <b>2</b> will only crawl <b>/item/1</b> and <b>/item/2</b>.<br /><br />\n                            Use <b>0</b> to skip the limit.</div>} trigger=\"click\" overlayStyle={{ width: 200 }}>\n                            <Icon type=\"question-circle\" />\n                        </Popover>\n                    </Form.Item>\n                }\n                <Info>\n                    <Typography.Paragraph ellipsis={{ rows: 1, expandable: true }}>\n                        <b>Spider bot</b> crawling method will get all the links inside the page of the given URL\n                        and crawl the children. It will then continue do the same with the children till no new\n                        link is found. Be careful if you have big website, this is most likely not the right\n                        solution for you.\n                    </Typography.Paragraph>\n                    <Typography.Paragraph ellipsis={{ rows: 1, expandable: true }}>\n                        <b>URLs list</b> crawling method will crawl a specific sets of URLs. In the URL input field\n                        you must provide an endpoint containing a list of URLs (a simple text format, with one URL\n                        per line). The crawler will crawl each of those URL only and will not try to find links in\n                        the page. To use a static list of URLs, you can use a tool\n                        like <a href=\"https://pastebin.com\" target=\"_blank\" rel=\"noopener noreferrer\">https://pastebin.com</a>.\n                    </Typography.Paragraph>\n                </Info>\n            </div>\n            <Form.Item>\n                {getFieldDecorator('autopin', {\n                    valuePropName: 'checked',\n                })(\n                    <Checkbox>Automatically pin new page founds.</Checkbox>\n                )}\n            </Form.Item>\n            <Form.Item>\n                <ProjectRepos storageType={storageType} />\n            </Form.Item>\n            <Form.Item>\n                <Button\n                    type=\"primary\"\n                    icon=\"plus\"\n                    htmlType=\"submit\"\n                >\n                    Create\n                </Button>\n            </Form.Item>\n        </Form>\n    );\n}\n\nconst NewForm = Form.create({ name: 'start_crawler' })(NewProject);\nexport default NewForm;\n\nconst Doc = () => (\n    <>\n        <p>\n            First of all, you need to give a name to your project. Then, you need to\n            provide the URL depending of the crawling method you will be using. If\n            you are using the <b>Spider bot</b> method, you should give the URL of\n            the website you want to crawl. If you are using the <b>URLs list</b> method,\n            you should give the URL of the endpoint containing the list of URLs.\n        </p>\n        <p>\n            There is different kind of browser: <a\n                href=\"https://github.com/puppeteer/puppeteer\"\n                target=\"_blank\" rel=\"noopener noreferrer\"\n            >chrome-puppeteer</a>, <a\n                href=\"https://github.com/SeleniumHQ/selenium\"\n                target=\"_blank\" rel=\"noopener noreferrer\"\n            >firefox-selenium</a>... Depending of the browser you will select, different tool\n            will be available in the code injection. Also some browser are only available\n            depending of the OS where is test-crawler hosted.\n        </p>\n        <Info>\n            <p>IE and Safari are in experimentation, might not be stable.</p>\n        </Info>\n        <p>\n            Running your test in safari work only on macOS. Safari doesn't support multiple instance\n            in parallel, therefor crawling might be very slow. Locally, you will need to activate safari\n            webdriver for selenium with the following commands:\n        </p>\n        <pre>\n            <code>\n                sudo safaridriver --enable\n                safaridriver -p 0 &\n            </code>\n        </pre>\n        <p>\n            Internet explorer, is the browser giving the most problem till now. Setting viewport\n            has no effect, fullpage screenshot doesn't work, Spider Bot crawling will most likely\n            fail.\n        </p>\n        <p>\n            There is multiple viewports (screen size) available. If you want to test\n            multiple viewports for the same website, you will have to create one\n            project per viewport.\n        </p>\n        <p>\n            Finally, you can specify if you want to automatically pin the new pages founds.\n            Pins are the references screenshot to make the comparison with.\n            While crawling, the crawler is comparing page to pin.\n            If you are not sure, the auto-pin can be activate/deactivate afterwards.\n        </p>\n        <Typography.Title level={4}>Spider bot</Typography.Title>\n        <p>\n            <b>Spider bot</b> crawling method will get all the links inside the page of the given URL\n            and crawl the children. It will then continue do the same with the children till no new\n            link is found. Be careful if you have big website, this is most likely not the right\n            solution for you.\n        </p>\n        <Typography.Title level={4}>URLs list</Typography.Title>\n        <p>\n            <b>URLs list</b> crawling method will crawl a specific sets of URLs. In the URL input field\n            you must provide an endpoint containing a list of URLs (a simple text format, with one URL\n            per line). The crawler will crawl each of those URL only and will not try to find links in\n            the page. To use a static list of URLs, you can use a tool\n            like <a href=\"https://pastebin.com\" target=\"_blank\" rel=\"noopener noreferrer\">https://pastebin.com</a>.\n        </p>\n    </>\n);\n\n","import { isomorRemote } from \"isomor\";\nexport enum ERR {\n  missingGitHubConfig = 'cannot use GitHub if no config provided',\n}","// import notification from 'antd/lib/notification';\nimport { Project } from '../server/typing';\nimport { loadProjects } from '../server/service';\nimport { useAsync } from '../hook/useAsync';\nimport { StorageType } from '../server/storage.typing';\n\nexport const useProjects = (storageType: StorageType) => {\n    const { result: projects, error, loading, call } =\n        useAsync<Project[]>(() => loadProjects(storageType));\n    if (error) {\n        // notification['warning']({\n        //     message: `Something went wrong while loading project from ${storageType}.`,\n        //     description: error.toString(),\n        // });\n    }\n    return { projects, loading, error, call };\n}\n","import React from 'react';\nimport Typography from 'antd/lib/typography';\nimport { Info } from '../common/Info';\nimport Form, { FormComponentProps } from 'antd/lib/form';\nimport Input from 'antd/lib/input';\nimport Button from 'antd/lib/button';\nimport Cookies from 'universal-cookie';\n\nconst handleSubmit = (validateFields: any) => (event: React.FormEvent<any>) => {\n    event.preventDefault();\n    validateFields((err: any, values: any) => {\n        if (!err) {\n            // save\n            const cookies = new Cookies();\n            cookies.set('github', values, { path: '/' });\n            window?.location?.reload();\n        }\n    });\n}\n\nconst GitHubAuthForm = ({ form: { getFieldDecorator, validateFields } }: FormComponentProps) => {\n    return (\n        <>\n            <Typography.Title level={4}>GitHub</Typography.Title>\n            <Info>\n                <Typography.Paragraph>\n                    To save data in your GitHub repository, we need to provide\n                    a <a href=\"https://developer.github.com/v3/auth/#via-oauth-and-personal-access-tokens\" target=\"_blank\" rel=\"noopener noreferrer\">personal access tokens</a> to\n                    the <a href=\"https://developer.github.com/v3/\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub API</a>.\n                    Note, the personal access tokens is a sensible information. Use this app, only on a trustable device.\n                    To <a href=\"https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line\" target=\"_blank\" rel=\"noopener noreferrer\">\n                        create a token</a>, go in developer settings, personal access tokens and then generate new token. In most of the case\n                    you will only need to give permission for <Typography.Text code>public_repo</Typography.Text>.\n                </Typography.Paragraph>\n            </Info>\n            <Form onSubmit={handleSubmit(validateFields)}>\n                <Form.Item>\n                    {getFieldDecorator('user', {\n                        rules: [{ required: true, message: 'Please provide your GitHub username.' }],\n                    })(\n                        <Input addonBefore=\"Username\" placeholder=\"Github username\" />\n                    )}\n                </Form.Item>\n                <Form.Item>\n                    {getFieldDecorator('token', {\n                        rules: [{ required: true, message: 'Please provide your personal access tokens.' }],\n                    })(\n                        <Input.Password addonBefore=\"Token\" placeholder=\"Personal access tokens\" />\n                    )}\n                </Form.Item>\n                <Form.Item>\n                    <Button\n                        type=\"primary\"\n                        icon=\"github\"\n                        htmlType=\"submit\"\n                    >\n                        OK\n                    </Button>\n                </Form.Item>\n            </Form>\n        </>\n    );\n}\n\nexport const GitHubAuth = Form.create({ name: 'github_auth' })(GitHubAuthForm);\n","import { PageData } from '../server/typing';\nimport Fuse from 'fuse.js';\nimport get from 'lodash/get';\nimport { cardStyle, masonryOptions } from '../pages/pageStyle';\n\nexport const searchStyle = {\n    width: cardStyle.width,\n    marginRight: masonryOptions.gutter,\n}\n\nlet timerSearch: NodeJS.Timer;\nexport const onSearch = (\n    setPages: React.Dispatch<React.SetStateAction<PageData[] | undefined>>,\n    pages: PageData[] | undefined,\n    filters: string[],\n) => (value: string) => {\n    if (pages) {\n        if (!value.length) {\n            filterPages(setPages, pages, filters);\n        } else {\n            clearTimeout(timerSearch);\n            timerSearch = setTimeout(() => {\n                filterPages(setPages, searchPages(pages, value), filters);\n            }, 500);\n        }\n    }\n};\n\nconst searchPages = (\n    pages: PageData[],\n    value: string,\n) => {\n    const fuse = new Fuse(pages, {\n        keys: [\n            'url',\n            'viewport.width',\n            'viewport.height',\n            'keywords',\n        ],\n    });\n    return fuse.search(value);\n}\n\n// instead to have 2 fields, we could use one combine with to instance of fuse.js\n// 1 with partial match and 1 with full word match for filters\n// for the input field see \"Search and Select Users\" from select component\nexport const onFilter = (\n    setPages: React.Dispatch<React.SetStateAction<PageData[] | undefined>>,\n    pages: PageData[] | undefined,\n    setFilters: React.Dispatch<React.SetStateAction<any>>,\n) => (filters: string[]) => {\n    if (pages) {\n        setFilters(filters);\n        filterPages(setPages, pages, filters);\n    }\n};\n\nconst filterPages = (\n    setPages: React.Dispatch<React.SetStateAction<PageData[] | undefined>>,\n    pages: PageData[] | undefined,\n    filters: string[]\n) => {\n    if (pages) {\n        if (!filters.length) {\n            setPages(pages);\n        } else {\n            const searchValue = filters.filter(filter => !Object.keys(availableFilters).includes(filter)).join(' ');\n            if (searchValue) {\n                pages = searchPages(pages, searchValue);\n            }\n            setPages(pages.filter(page => {\n                let res = true\n                if (filters.includes('with-diff')) {\n                    const pixelDiffRatio = get(page, 'png.diff.pixelDiffRatio');\n                    res = res && pixelDiffRatio > 0;\n                }\n                if (filters.includes('new')) {\n                    res = res && !!page.png && !page.png.diff\n                }\n                return res;\n            }));\n        }\n    }\n}\n\nexport const availableFilters = {\n    'with-diff': 'with diff',\n    'new': 'new',\n}\n","let masonry: any;\nlet timer: NodeJS.Timer;\n\nexport const setMasonry = (m: any) => masonry = m;\n\nexport const onMasonryImg = () => {\n    if (masonry) masonry.layout();\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n        if (masonry) masonry.layout();\n    }, 500);\n}\n","import React from 'react';\nimport Typography from 'antd/lib/typography';\nimport { Info } from '../common/Info';\nimport { StorageType } from '../server/storage.typing';\nimport { getInfo } from '../server/service';\nimport { useAsync } from '../hook/useAsync';\n\ninterface Props {\n    storageType: StorageType;\n}\n\nexport const ProjectsInfo = ({ storageType }: Props) => {\n    const { result: info } = useAsync<string>(() => getInfo(storageType));\n\n    return !info ? null : (\n        <Info>\n            <Typography.Paragraph>\n                {info}\n            </Typography.Paragraph>\n        </Info>\n    );\n}\n","import React from 'react';\nimport List from 'antd/lib/list';\nimport Icon from 'antd/lib/icon';\nimport { Link } from 'react-router-dom';\nimport Typography from 'antd/lib/typography';\nimport { StorageType } from '../server/storage.typing';\nimport { getProjectRoute } from '../routes';\nimport { useProjects } from './useProjects';\nimport Spin from 'antd/lib/spin';\nimport { useError } from '../hook/useError';\nimport { ProjectRepos } from './ProjectRepos';\nimport { ProjectsInfo } from './ProjectsInfo';\n\ninterface Props {\n    title: string;\n    storageType: StorageType;\n}\n\nexport const ProjectsPerRemote = ({ title, storageType }: Props) => {\n    const { projects, loading, error, call } = useProjects(storageType);\n    const ErrorComponent = useError(error);\n    // console.log('ErrorComponent', ErrorComponent);\n    if (ErrorComponent) {\n        return <ErrorComponent />;\n    }\n    return (\n        <>\n            <Typography.Title level={4}>\n                {title} <ProjectRepos storageType={storageType} loadProjects={call} />\n            </Typography.Title>\n            <ProjectsInfo storageType={storageType} />\n            {loading ? <Spin /> : <List\n                itemLayout=\"horizontal\"\n                bordered\n                dataSource={projects}\n                renderItem={({ id, name, crawlerInput: { url } }) => (\n                    <List.Item\n                        actions={[\n                            <Link to={getProjectRoute(storageType, id)}>\n                                Open\n                            </Link>,\n                        ]}\n                    >\n                        <List.Item.Meta\n                            title={<Link to={getProjectRoute(storageType, id)}>\n                                {name} <Icon type={storageType} />\n                            </Link>}\n                            description={url}\n                        />\n                    </List.Item>\n                )}\n            />}\n        </>\n    );\n}\n","import { ERR } from '../server/error';\nimport { GitHubAuth } from '../auth/GitHubAuth';\nimport { notification } from 'antd';\n\nexport const useError = (error: any) => {\n    if (error) {\n        if (error === ERR.missingGitHubConfig || error?.message === ERR.missingGitHubConfig) {\n            return GitHubAuth;\n        } else {\n            notification['warning']({\n                message: `Something went wrong.`,\n                description: error.toString(),\n            });\n        }\n    }\n}\n","import React from 'react';\nimport Button from 'antd/lib/button';\nimport { Link } from 'react-router-dom';\nimport Typography from 'antd/lib/typography';\nimport { StorageType } from '../server/storage.typing';\nimport { getNewProjectRoute } from '../routes';\nimport { ProjectsPerRemote } from './ProjectsPerRemote';\nimport { useThisDoc } from '../doc/useDoc';\nimport { Info } from '../common/Info';\n\nexport const Projects = () => {\n    useThisDoc(Doc);\n    return (\n        <>\n            <Typography.Title level={3}>Projects</Typography.Title>\n            {Object.keys(StorageType).map((key) => (\n                <div key={key}>\n                    <ProjectsPerRemote\n                        title={key}\n                        storageType={StorageType[key as keyof typeof StorageType]}\n                    />\n                    <br />\n                    <Link to={getNewProjectRoute(StorageType[key as keyof typeof StorageType])}>\n                        <Button icon=\"plus\" size=\"small\">New</Button>\n                    </Link>\n                    <br />\n                    <br />\n                </div>\n            ))}\n        </>\n    );\n}\n\nconst Doc = () => (\n    <>\n        <p>\n            Test-crawler is project based. To be able to start a crawler,\n            you will first need to create a project by clicking\n            on <Button icon=\"plus\" size=\"small\">New</Button>\n        </p>\n        <p>\n            Depending on how test-crawler is hosted, there will be different\n            type of storage availble: local, GitHub, and more coming soon...\n            If you are running it, yourself, all the storage should be available.\n        </p>\n        <Typography.Title level={4}>Local</Typography.Title>\n        <p>\n            The <b>local</b> storage consist to save the data on the server\n            where is hosted test-crawler. This is the best option to keep your tests\n            private and safe.\n        </p>\n        <Typography.Title level={4}>GitHub</Typography.Title>\n        <p>\n            The <b>GitHub</b> storage consist to save the data on a given\n            repository. This option is good for public project, especially\n            for open source project that are already on GitHub. It will give\n            you the possibility to keep history of your tests in relation to\n            your code changes. Also this storage is using GitHub CI workflow\n            to generate your test, you can therefor integrate it very well\n            with your other workflow.\n        </p>\n        <p>\n            To use <b>GitHub</b> storage, we need to provide a user and a <a\n                href=\"https://developer.github.com/v3/auth/#via-oauth-and-personal-access-tokens\"\n                target=\"_blank\" rel=\"noopener noreferrer\"\n            >personal access tokens</a> to the <a\n                href=\"https://developer.github.com/v3/\"\n                target=\"_blank\" rel=\"noopener noreferrer\"\n            >GitHub API</a>. Note, the personal access tokens is a sensible information.\n            Use this app, only on a trustable device. To <a\n                href=\"https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line\"\n                target=\"_blank\" rel=\"noopener noreferrer\"\n            >create a token</a>, go in developer settings, personal access tokens and then generate\n            new token. In most of the case you will only need to give permission\n            for <Typography.Text code>public_repo</Typography.Text>.\n        </p>\n        <Info>\n            <Typography.Paragraph>\n                Note: we are not saving any of your credential on a server.\n                Everything is save in your cookies. Also\n                the <a href=\"https://apiel.github.io/test-crawler/live/\">live version</a> hosted\n                on GitHub page is purely static. All the logic is running in your browser.\n            </Typography.Paragraph>\n        </Info>\n        <p>\n            Once your credential provided, you will need to select the repository where you want\n            to save your tests. In general, it would make sense to save those tests in the same\n            repository as the website you are testing. You can switch from one\n            repository to the other at anytime.\n        </p>\n    </>\n);\n","export const coverStyle = {\n    textAlign: 'center',\n    // borderBottom: '1px solid #888',\n}\n\nexport const imgStyle = {\n    width: 300,\n}\n\nexport const cardImgMargin = 10;\n\nexport const cardStyle = {\n    width: imgStyle.width + cardImgMargin*2,\n    marginBottom: 10,\n};\n\nexport const masonryStyle = {\n    paddingTop: 10,\n    paddingBottom: 10,\n}\n\nexport const masonryOptions = {\n    gutter: 10,\n    // percentPosition: true,\n    fitWidth: true,\n}\n\nexport const iconTheme = 'outlined'; // 'twoTone'\n","import React from 'react';\nimport Alert from 'antd/lib/alert';\n\ninterface Props {\n    message?: string;\n    description: string;\n}\nexport const ErrorHandler = ({ message = 'Something went wrong', description }: Props) => (\n    <Alert\n        message={message}\n        description={description}\n        type=\"warning\"\n        showIcon\n    />\n);","import React from 'react';\nimport { PageData } from '../server/typing';\n\nimport { onSearch, searchStyle, onFilter } from './search';\nimport Select from 'antd/lib/select';\n\nconst { Option } = Select;\n\nexport interface Filters {\n    [key: string]: string;\n}\n\ninterface Props {\n    withFilters?: Filters;\n    response: PageData[],\n    children: (pages: PageData[] | undefined) => React.ReactNode,\n}\nexport const Search = ({ children, response, withFilters }: Props) => {\n    const [pages, setPages] = React.useState<PageData[]>();\n    const [selectedFilters, setSelectedFilters] = React.useState<string[]>([]);\n    const [pagesFiltered, setPagesFiltered] = React.useState<PageData[]>();\n    React.useEffect(() => {\n        setPages(response);\n        onFilter(setPagesFiltered, response, setSelectedFilters)(selectedFilters);\n    }, [response, setSelectedFilters, selectedFilters]);\n\n    return (\n        <>\n            <Select\n                mode=\"tags\"\n                onChange={onFilter(setPagesFiltered, pages, setSelectedFilters)}\n                tokenSeparators={[',']}\n                style={searchStyle}\n                placeholder=\"Search\"\n                filterOption={false}\n                onSearch={onSearch(setPagesFiltered, pages, selectedFilters)}\n            >\n                { !!withFilters && Object.keys(withFilters).map(key => <Option key={key}>{withFilters[key]}</Option>) }\n            </Select>\n            {children(pagesFiltered)}\n        </>\n    );\n}\n","import { unix } from 'moment';\n\nexport const timestampToString =\n    (timestamp: string) => unix(parseInt(timestamp, 10)).calendar()\n\nexport const sigDig = (n: number, precision = 1) => {\n    if (!n) {\n        return n;\n    }\n    const fix = (precision - 1) - Math.floor(Math.log(n) / Math.log(10));\n    return n.toFixed(fix);\n}","import React from 'react';\nimport message from 'antd/lib/message';\nimport notification from 'antd/lib/notification';\nimport Button from 'antd/lib/button';\n\nimport { setZoneStatus } from '../server/service';\nimport { PageData, ZoneStatus } from '../server/typing';\nimport { StorageType } from '../server/storage.typing';\n\nconst buttonStyle = {\n    marginLeft: 5,\n    marginRight: 5,\n}\n\ninterface Props {\n    index: number;\n    timestamp: string;\n    id: string;\n    projectId: string;\n    storageType: StorageType;\n    setPages: React.Dispatch<React.SetStateAction<PageData[]>>;\n}\n\nconst onSetStatus = (\n    status: ZoneStatus,\n    { timestamp, id, index, projectId, setPages, storageType }: Props,\n) => async () => {\n    try {\n        const pages = await setZoneStatus(storageType, projectId, timestamp, id, index, status);\n        setPages(pages);\n        message.success('Page pinned as reference for comparison.', 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\nexport const DiffImageButtons = (props: Props) => {\n    return (\n        <>\n            <Button\n                style={buttonStyle}\n                icon=\"check\"\n                size=\"small\"\n                onClick={onSetStatus(ZoneStatus.valid, props)}>Valid</Button>\n            <Button\n                style={buttonStyle}\n                icon=\"pushpin\"\n                size=\"small\"\n                onClick={onSetStatus(ZoneStatus.zonePin, props)}>Always valid</Button>\n            <Button\n                style={buttonStyle}\n                icon=\"warning\"\n                size=\"small\"\n                type=\"danger\"\n                onClick={onSetStatus(ZoneStatus.report, props)}>Report</Button>\n        </>\n    );\n}\n","import React, { useState } from 'react';\nimport Popover from 'antd/lib/popover';\n\nimport { DiffImageButtons } from './DiffImageButtons';\nimport { Zone, PageData, ZoneStatus } from '../server/typing';\nimport { StorageType } from '../server/storage.typing';\n\nexport const getColorByStatus = (status: ZoneStatus) => {\n    if (status === ZoneStatus.valid || status === ZoneStatus.zonePin) {\n        return '#0F0'; //'green';\n    } else if (status === ZoneStatus.report) {\n        return 'red';\n    }\n    return 'yellow';\n}\n\nconst zoneStyle = (\n    { xMin, yMin, xMax, yMax }: any,\n    ratio: number,\n    width: number,\n    marginLeft: number,\n    img: string | undefined,\n    over: boolean,\n    status: ZoneStatus,\n) => {\n    const top = yMin / ratio - 1;\n    const left = xMin / ratio - 1;\n    return ({\n        width: (xMax - xMin) / ratio + 2,\n        height: (yMax - yMin) / ratio + 2,\n        // width: 200,\n        // height: 100,\n        top,\n        left: left + marginLeft,\n        border: `1px solid ${getColorByStatus(status)}`,\n        position: 'absolute',\n        backgroundImage: over ? `url(\"${img}\")` : 'none',\n        backgroundPosition: `${-(left + 1)}px ${-(top + 1)}px`,\n        backgroundSize: width,\n    });\n}\n\ninterface Props {\n    storageType: StorageType;\n    thumb: string;\n    timestamp: string;\n    id: string;\n    zone: Zone;\n    originalWidth: number;\n    index: number;\n    status: ZoneStatus;\n    width: number;\n    marginLeft: number;\n    projectId: string;\n    setPages: React.Dispatch<React.SetStateAction<PageData[]>>;\n};\n\nexport const DiffZone = ({ storageType, thumb, setPages, projectId, timestamp, id, index, originalWidth, zone, status, width, marginLeft }: Props) => {\n    const [hover, setHover] = useState(false);\n    const ratio = originalWidth / width;\n    return (\n        <Popover key={`${id}-${index}`} content={(\n            <DiffImageButtons\n                storageType={storageType}\n                index={index}\n                timestamp={timestamp}\n                id={id}\n                projectId={projectId}\n                setPages={setPages}\n            />\n        )} trigger=\"click\">\n            <div\n                style={zoneStyle(zone, ratio, width, marginLeft, thumb, hover, status) as any}\n                onMouseOver={() => setHover(true)}\n                onMouseOut={() => setHover(false)}\n            />\n        </Popover>\n    );\n}\n","import React from 'react';\nimport { PngDiffDataZone, ZoneStatus } from '../server/typing';\n\nimport { getColorByStatus } from '../diff/DiffZone';\n\nconst getCountZonesPerStatus = (zones: any, perStatus: ZoneStatus[]) =>\n    zones.filter(({ status }: any) => perStatus.includes(status)).length\n\nexport const PageImageDiffZone = ({ zones }: {\n    zones: PngDiffDataZone[]\n}) => (\n        <p>\n            <b>Zone:</b>&nbsp;\n            {[\n                [ZoneStatus.diff],\n                [ZoneStatus.valid, ZoneStatus.zonePin],\n                [ZoneStatus.report],\n            ].map(([status, ...more]) => (\n                <React.Fragment key={status}>\n                    <span style={{\n                        marginLeft: 10,\n                        color: getColorByStatus(status)\n                    }}>■</span> <b>{getCountZonesPerStatus(zones, [status, ...more])}</b> {status}\n                </React.Fragment>\n            ))}\n        </p>\n    );","import React from 'react';\nimport Icon from 'antd/lib/icon';\n\nimport { iconTheme } from './pageStyle';\nimport { PngDiffData } from '../server/typing';\nimport { sigDig } from '../utils';\nimport { PageImageDiffZone } from './PageImageDiffZone';\n\nexport const PageImageDiff = ({ diff }: {\n    diff: PngDiffData;\n}) => (\n    <>\n        <p>\n            <Icon type=\"picture\" theme={iconTheme} />&nbsp;\n                    Pixel diff ratio: {sigDig(diff.pixelDiffRatio)}\n        </p>\n        {diff.zones && diff.zones.length > 0 &&\n            <PageImageDiffZone zones={diff.zones} />\n        }\n    </>\n);","import React from 'react';\nimport Tag from 'antd/lib/tag';\nimport Icon from 'antd/lib/icon';\n\nimport { iconTheme } from './pageStyle';\nimport { PngDiffData } from '../server/typing';\nimport { PageImageDiff } from './PageImageDiff';\n\nexport const PageImage = ({ diff }: {\n    diff?: PngDiffData;\n}) => (!diff)\n        ? (\n            <div>\n                <Icon type=\"picture\" theme={iconTheme} />&nbsp;\n                New screenshot <Tag color=\"green\">New</Tag>\n            </div>\n        ) : (\n            <PageImageDiff diff={diff} />\n        );","import React from 'react';\nimport Alert from 'antd/lib/alert';\nimport Icon from 'antd/lib/icon';\nimport { PngDiffData } from '../server/typing';\n// import * as Convert from 'ansi-to-html';\n\nimport { iconTheme } from './pageStyle';\nimport { PageImage } from './PageImage';\n\nconst Convert = require('ansi-to-html');\nconst convert = new Convert({\n    fg: '#333',\n});\n\nconst alertStyle = {\n    marginBottom: 10,\n}\n\ninterface Props {\n    pageError: any;\n    url: string;\n    png?: {\n        width: number;\n        diff?: PngDiffData;\n    };\n}\n\nexport const Page = ({ pageError, url, png }: Props) => {\n    return (\n        <>\n            {pageError && <Alert message={\n                <div dangerouslySetInnerHTML={{ __html: convert.toHtml(pageError) }} />\n            } type=\"warning\" style={alertStyle} />}\n            <p><Icon type=\"link\" /> <a href={url}>{url}</a></p>\n            {png\n                ? <PageImage diff={png.diff} />\n                : <p><Icon type=\"picture\" theme={iconTheme} /> No screenshot available</p>\n            }\n        </>\n    );\n}\n","import React from 'react';\nimport Icon from 'antd/lib/icon';\nimport message from 'antd/lib/message';\nimport notification from 'antd/lib/notification';\nimport { setZonesStatus } from '../server/service';\nimport { PageData, ZoneStatus } from '../server/typing';\nimport { StorageType } from '../server/storage.typing';\n\nconst onClick = (\n    { timestamp, id, status, projectId, setPages, storageType }: Props,\n) => async () => {\n    try {\n        const pages = await setZonesStatus(storageType, projectId, timestamp.toString(), id, status);\n        setPages(pages);\n        message.success(`All zone are set to \"${status}\".`, 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\ninterface Props {\n    storageType: StorageType;\n    setPages: React.Dispatch<React.SetStateAction<PageData[]>>;\n    projectId: string;\n    timestamp: string;\n    id: string;\n    status: ZoneStatus;\n    type: string;\n}\nexport const PagesActionZone = (props: Props) => {\n    const { status, type } = props;\n    return (\n        <Icon type={type} title={`Set all zone to \"${status}\".`} onClick={onClick(props)} />\n    );\n}\n","import React from 'react';\nimport Icon from 'antd/lib/icon';\nimport message from 'antd/lib/message';\nimport notification from 'antd/lib/notification';\nimport { pin } from '../server/service';\nimport { StorageType } from '../server/storage.typing';\n\n\nconst onPin = ({ storageType, projectId, timestamp, id }: Props) => async () => {\n    try {\n        const hide = message.loading('Pin in progress..', 0);\n        await pin(storageType, projectId, timestamp.toString(), id);\n        hide();\n        message.success('Page pinned as reference for comparison.', 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\ninterface Props {\n    timestamp: string,\n    id: string,\n    projectId: string,\n    storageType: StorageType,\n}\n\nconst PagesActionPin = (props: Props) =>\n    <Icon\n        type=\"pushpin\"\n        title=\"pin as reference for comparison\"\n        onClick={onPin(props)}\n    />;\n\nexport default function(props: Props) {\n    return PagesActionPin(props);\n}\n","import React, { useState, useEffect } from 'react';\n\nimport {\n    coverStyle,\n    imgStyle,\n} from '../pages/pageStyle';\n\nimport { getThumbnail } from '../server/service';\nimport { StorageType } from '../server/storage.typing';\n\nexport interface Props {\n    storageType: StorageType;\n    projectId: string;\n    timestamp: string;\n    id: string;\n    width?: number;\n    onImg?: () => void;\n    marginLeft: number;\n};\n\nexport const DiffImage = ({\n    storageType,\n    projectId,\n    timestamp,\n    id,\n    onImg = () => { },\n    width = imgStyle.width,\n    children\n}: Props & React.PropsWithChildren<any>) => {\n    const [thumb, setThumb] = useState<string>();\n    const load = async () => {\n        setThumb(await getThumbnail(storageType, projectId, timestamp, id, width));\n        onImg();\n    }\n    useEffect(() => { load(); }, []);\n    return thumb ? (\n        <div style={coverStyle as any}>\n            {children}\n            <img style={{ width }} alt=\"\" src={thumb} />\n        </div>) : null;\n}\n","import React from 'react';\n\nimport {\n    imgStyle,\n} from '../pages/pageStyle';\n\nimport { DiffZone } from './DiffZone';\nimport { PngDiffDataZone, PageData } from '../server/typing';\nimport { Props as DiffImageProps, DiffImage } from './DiffImage';\nimport { useAsyncCacheWatch } from 'react-async-cache';\nimport { getThumbnail } from '../server/service';\n\ninterface Props {\n    zones?: PngDiffDataZone[];\n    originalWidth?: number;\n    setPages: React.Dispatch<React.SetStateAction<PageData[]>>;\n};\n\nexport const DiffImageWithZone = ({\n    storageType,\n    projectId,\n    timestamp,\n    id,\n    zones,\n    originalWidth = 0,\n    width = imgStyle.width,\n    setPages,\n    marginLeft,\n    ...props\n}: Props & DiffImageProps) => {\n    // we might not even need useAsyncCacheWatch\n    const { call, response: thumb, cache } = useAsyncCacheWatch(getThumbnail, storageType, projectId, 'pin', id, width);\n\n    React.useEffect(() => {\n        if (zones && !cache()) {\n            call();\n        }\n    }, [zones]);\n\n    return (\n        <DiffImage storageType={storageType} projectId={projectId} timestamp={timestamp} id={id} width={width} {...props}>\n            {zones?.map(({ zone, status }: PngDiffDataZone, index: number) =>\n                <DiffZone\n                    storageType={storageType}\n                    thumb={thumb}\n                    projectId={projectId}\n                    timestamp={timestamp}\n                    id={id}\n                    width={width}\n                    index={index}\n                    originalWidth={originalWidth}\n                    marginLeft={marginLeft}\n                    status={status}\n                    zone={zone}\n                    key={`zone-${id}-${index}`}\n                    setPages={setPages}\n                />)\n            }\n        </DiffImage>\n    );\n};\n","import React from 'react';\nimport Icon from 'antd/lib/icon';\nimport Modal from 'antd/lib/modal';\nimport { PngDiffData, PageData } from '../server/typing';\nimport { Page } from './Page';\nimport { DiffImageWithZone } from '../diff/DiffImageWithZone';\nimport { StorageType } from '../server/storage.typing';\n\nconst onClick = (setVisible: React.Dispatch<React.SetStateAction<boolean>>) => () => {\n    setVisible(true);\n}\n\nconst onCancel = (setVisible: React.Dispatch<React.SetStateAction<boolean>>) => () => {\n    setVisible(false);\n}\n\ninterface Props {\n    storageType: StorageType;\n    projectId: string;\n    timestamp: string;\n    id: string;\n    url: string;\n    pageError: any;\n    png: {\n        width: number;\n        diff?: PngDiffData;\n    };\n    setPages: React.Dispatch<React.SetStateAction<PageData[]>>;\n}\n\nexport const PagesActionFullscreen = ({ storageType, setPages, projectId, timestamp, id, png, url, pageError }: Props) => {\n    const [visible, setVisible] = React.useState<boolean>(false);\n    return (\n        <>\n            <Modal\n                title=\"\"\n                visible={visible}\n                onCancel={onCancel(setVisible)}\n                footer={null}\n                width={png.width + 40}\n            >\n                <div style={{ position: \"relative\" }}>\n                    <DiffImageWithZone\n                        storageType={storageType}\n                        setPages={setPages}\n                        projectId={projectId}\n                        timestamp={timestamp}\n                        id={id}\n                        zones={png.diff && png.diff.zones}\n                        originalWidth={png.width}\n                        width={png.width}\n                        marginLeft={0}\n                    />\n                    <Page url={url} pageError={pageError} png={png} />\n                </div>\n            </Modal>\n            <Icon type=\"fullscreen\" title=\"fullscreen\" onClick={onClick(setVisible)} />\n        </>\n    );\n}\n","import React from 'react';\nimport { PngDiffData, PageData, ZoneStatus } from '../server/typing';\n\nimport { PagesActionZone } from './PagesActionZone';\nimport PagesActionPin from './PagesActionPin';\nimport { PagesActionFullscreen } from './PagesActionFullscreen';\nimport { StorageType } from '../server/storage.typing';\n\ninterface Props {\n    storageType: StorageType;\n    projectId: string;\n    timestamp: string;\n    id: string;\n    url: string;\n    pageError: any;\n    png?: {\n        width: number;\n        diff?: PngDiffData;\n    };\n    setPages: React.Dispatch<React.SetStateAction<PageData[]>>;\n}\n\nexport const PagesActions = ({ storageType, setPages, projectId, timestamp, id, png, url, pageError }: Props) => [\n    ...[png && <PagesActionFullscreen storageType={storageType} setPages={setPages} projectId={projectId} png={png} id={id} timestamp={timestamp} url={url} pageError={pageError} />],\n    <PagesActionZone storageType={storageType} type=\"check\" setPages={setPages} projectId={projectId}  timestamp={timestamp} id={id} status={ZoneStatus.valid} />,\n    <PagesActionZone storageType={storageType} type=\"warning\" setPages={setPages} projectId={projectId} timestamp={timestamp} id={id} status={ZoneStatus.report} />,\n    <PagesActionPin storageType={storageType} projectId={projectId} timestamp={timestamp} id={id} />,\n    // <Icon type=\"ellipsis\" title=\"more\" />,\n];\n","import React from 'react';\nimport Card from 'antd/lib/card';\nimport Spin from 'antd/lib/spin';\nimport Masonry from 'react-masonry-component';\n\nimport {\n    masonryStyle,\n    masonryOptions,\n    cardStyle,\n    cardImgMargin,\n} from './pageStyle';\nimport { PageData } from '../server/typing';\nimport { getPages } from '../server/service';\nimport { ErrorHandler } from '../common/ErrorHandler';\nimport { Search } from '../search/Search';\nimport { Page } from './Page';\nimport { PagesActions } from './PagesActions';\nimport { availableFilters } from '../search/search';\nimport { setMasonry, onMasonryImg } from '../common/refreshMasonry';\nimport { DiffImageWithZone } from '../diff/DiffImageWithZone';\nimport { useAsync } from '../hook/useAsync';\nimport { StorageType } from '../server/storage.typing';\n\ninterface Props {\n    storageType: StorageType;\n    projectId: string;\n    timestamp: string;\n    lastUpdate: number;\n}\n\nexport const Pages = ({ projectId, timestamp, lastUpdate, storageType }: Props) => {\n    const { result: pages, error, setResult: setPages } = useAsync<PageData[]>(\n        () => getPages(storageType, projectId, timestamp),\n        [lastUpdate],\n    );\n    if (error) {\n        return <ErrorHandler description={error.toString()} />;\n    }\n\n    return (\n        <Search response={pages} withFilters={availableFilters}>\n            {(pagesFiltered) => pagesFiltered ? (\n                <Masonry\n                    style={masonryStyle}\n                    options={masonryOptions}\n                    ref={(c: any) => { setMasonry(c && c.masonry); }}\n                >\n                    {\n                        pagesFiltered.map(({ id, url, png, error: pageError }: PageData) => (\n                            <Card\n                                key={id}\n                                style={cardStyle}\n                                cover={png && <DiffImageWithZone\n                                    storageType={storageType}\n                                    projectId={projectId}\n                                    timestamp={timestamp}\n                                    id={id}\n                                    zones={png.diff && png.diff.zones}\n                                    originalWidth={png.width}\n                                    onImg={onMasonryImg}\n                                    setPages={setPages}\n                                    marginLeft={cardImgMargin}\n                                />}\n                                actions={PagesActions({ storageType, setPages, projectId, id, timestamp, png, url, pageError })}\n                            >\n                                <Page url={url} pageError={pageError} png={png} />\n                            </Card>\n                        ))\n                    }\n                </Masonry >\n            ) : <Spin />\n            }\n        </Search>);\n}\n","import React from 'react';\nimport Switch from 'antd/lib/switch';\nimport message from 'antd/lib/message';\nimport notification from 'antd/lib/notification';\nimport { setStatus } from '../server/service';\nimport { Crawler } from '../server/typing';\nimport { StorageType } from '../server/storage.typing';\n\nconst onChange = (\n    storageType: StorageType,\n    projectId: string,\n    timestamp: string,\n    setCrawler: React.Dispatch<React.SetStateAction<Crawler>>,\n) => async (value: boolean) => {\n    try {\n        const status = value ? 'done' : 'review';\n        const crawler = await setStatus(storageType, projectId, timestamp, status);\n        setCrawler(crawler);\n        message.success(`Status set to \"${status}\".`, 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\ninterface Props {\n    storageType: StorageType;\n    projectId: string;\n    timestamp: string;\n    status: string;\n    setCrawler: React.Dispatch<React.SetStateAction<Crawler>>;\n}\nexport const SwitchStatus = ({ storageType, timestamp, status, projectId, setCrawler }: Props) => {\n    return <Switch\n        checkedChildren=\"done\"\n        unCheckedChildren=\"review\"\n        checked={status === 'done'}\n        onChange={onChange(storageType, projectId, timestamp, setCrawler)}\n    />;\n}","import React from 'react';\nimport { useAsyncCacheWatch } from 'react-async-cache';\n\nimport notification from 'antd/lib/notification';\nimport { loadProject } from '../server/service';\nimport { StorageType } from '../server/storage.typing';\nimport { Project } from '../server/typing';\n\nexport const useProject = (storageType: StorageType, projectId: string) => {\n    const {\n        call,\n        response: project,\n        update: setProject,\n        error,\n        cache,\n    } = useAsyncCacheWatch<Project>(loadProject, storageType, projectId);\n\n    React.useEffect(() => {\n        if (!cache()) {\n            call();\n        }\n    }, [storageType, projectId, cache, call]);\n    if (error) {\n        notification['warning']({\n            message: 'Something went wrong while loading project.',\n            description: error.toString(),\n        });\n    }\n    return {\n        project,\n        setProject,\n    };\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { getProjectRoute } from '../routes';\nimport { useProject } from './useProject';\nimport { StorageType } from '../server/storage.typing';\n\ninterface Props {\n    projectId: string;\n    storageType: StorageType;\n}\n\nexport const ProjectName = ({\n    projectId,\n    storageType,\n}: Props) => {\n    const { project } = useProject(storageType, projectId);\n    return !project ? null : (\n        <p>\n            <b>Project:</b> <Link to={getProjectRoute(storageType, project.id)}>\n                {project.name}\n            </Link>\n        </p>\n    );\n}\n","import React from 'react';\nimport Typography from 'antd/lib/typography';\nimport Progress from 'antd/lib/progress';\nimport Icon from 'antd/lib/icon';\nimport { Crawler, Browser } from '../server/typing';\nimport { duration } from 'moment';\nimport 'moment-duration-format';\n\nimport { timestampToString } from '../utils';\nimport { SwitchStatus } from './SwitchStatus';\nimport { getViewportName } from '../viewport';\nimport { ProjectName } from '../projects/ProjectName';\nimport { StorageType } from '../server/storage.typing';\n\nconst { Title } = Typography;\n\nconst warningStyle = {\n    color: '#faad29',\n};\n\nconst limitStyle = {\n    color: '#999',\n    fontSize: 11,\n};\n\ninterface Props {\n    setCrawler: React.Dispatch<React.SetStateAction<Crawler>>;\n    crawler: Crawler;\n    projectId: string;\n    storageType: StorageType;\n}\n\n// need to flatten props and use react memo\nexport const CrawlerInfo = ({\n    crawler: {\n        timestamp,\n        url,\n        browser,\n        diffZoneCount,\n        errorCount,\n        status,\n        urlsCount,\n        inQueue,\n        startAt,\n        lastUpdate,\n        limit,\n        viewport,\n    },\n    projectId,\n    storageType,\n    setCrawler,\n}: Props) => {\n    const total = urlsCount + inQueue;\n    const percent = Math.floor(urlsCount / total * 100);\n    const screen = getViewportName(viewport);\n    return (\n        <>\n            <Title level={3}>{timestampToString(timestamp)}</Title>\n            {(diffZoneCount > 0 || errorCount > 0)\n                && <p><SwitchStatus storageType={storageType} setCrawler={setCrawler} projectId={projectId} status={status} timestamp={timestamp} /></p>}\n            <ProjectName projectId={projectId} storageType={storageType} />\n            <p><b>URL:</b> {url}</p>\n            <p><b>Browser:</b> {browser || Browser.ChromePuppeteer}</p>\n            <p><b>Screen:</b> {screen}</p>\n            <p>\n                <b>URL crawled:</b> {urlsCount}\n                {limit !== undefined && limit > 0 &&\n                    <span style={limitStyle}> (with limit set to {limit})</span>\n                }\n            </p>\n            <p><b>Duration:</b> {duration(lastUpdate - startAt).format('h [hrs], m [min], s [sec]')}</p>\n            {inQueue > 0 && <>\n                <Progress percent={percent} />\n                <p><b>In queue:</b> {inQueue}</p>\n            </>}\n            {errorCount > 0 &&\n                <p style={warningStyle}>\n                    <Icon type=\"exclamation-circle\" /> {errorCount} error(s) founds\n                </p>\n            }\n        </>\n    );\n}\n","import React from 'react';\nimport Spin from 'antd/lib/spin';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { subscrib, unsubscrib } from 'isomor';\n\nimport { Pages } from '../pages/Pages';\nimport { CrawlerInfo } from './CrawlerInfo';\nimport { ErrorHandler } from '../common/ErrorHandler';\nimport { useAsync } from '../hook/useAsync';\nimport { Crawler } from '../server/typing';\nimport { getCrawler } from '../server/service';\nimport { StorageType } from '../server/storage.typing';\nimport { useThisDoc } from '../doc/useDoc';\n\nexport const CrawlerResults = ({\n    match: { params: { timestamp, projectId, storageType } },\n}: RouteComponentProps<{ timestamp: string, projectId: string, storageType: StorageType }>) => {\n    useThisDoc();\n    const { result: crawler, error, setResult: setCrawler } = useAsync<Crawler>(\n        () => getCrawler(storageType, projectId, timestamp)\n    );\n    React.useEffect(() => {\n        const id = subscrib(setCrawler);\n        return () => unsubscrib(id);\n    }, [crawler, setCrawler]);\n    if (error) {\n        return <ErrorHandler description={error.toString()} />;\n    }\n    const lastUpdate = crawler?.lastUpdate;\n    return crawler ? (\n        <>\n            <CrawlerInfo\n                crawler={crawler}\n                projectId={projectId}\n                storageType={storageType}\n                setCrawler={setCrawler}\n            />\n            <Pages storageType={storageType} timestamp={timestamp} lastUpdate={lastUpdate!} projectId={projectId} />\n        </>\n    ) : <Spin />;\n}\n","import React from 'react';\nimport Card from 'antd/lib/card';\nimport Icon from 'antd/lib/icon';\nimport message from 'antd/lib/message';\nimport Popconfirm from 'antd/lib/popconfirm';\n\nimport {\n    cardStyle,\n    iconTheme,\n} from '../pages/pageStyle';\nimport { DiffImage } from '../diff/DiffImage';\nimport { PngDiffData, Viewport, PageData } from '../server/typing';\nimport { Link } from 'react-router-dom';\nimport { getCodeRoute } from '../routes';\nimport { getViewportName } from '../viewport';\nimport { removePin } from '../server/service';\nimport { StorageType } from '../server/storage.typing';\n\nconst handleDelete = (\n    storageType: StorageType,\n    projectId: string,\n    id: string,\n    setPins: React.Dispatch<React.SetStateAction<PageData[]>>,\n) => async () => {\n    const hide = message.loading('Delete in progress..', 0);\n    const pins = await removePin(storageType, projectId, id);\n    setPins(pins);\n    hide();\n}\n\ninterface Props {\n    projectId: string;\n    timestamp: string;\n    storageType: StorageType,\n    id: string;\n    url: string;\n    setPins: React.Dispatch<React.SetStateAction<PageData[]>>;\n    viewport?: Viewport,\n    onImg: () => void;\n    png?: {\n        width: number;\n        diff?: PngDiffData;\n    };\n}\n\nexport const PinPage = ({ storageType, projectId, timestamp, id, url, viewport, onImg, png, setPins }: Props) => (\n    <Card\n        style={cardStyle}\n        cover={png && <DiffImage timestamp={timestamp} id={id} onImg={onImg} projectId={projectId} storageType={storageType} />}\n        actions={[\n            <Popconfirm\n                title=\"Are you sure delete this pin?\"\n                onConfirm={handleDelete(storageType, projectId, id, setPins)}\n                okText=\"Yes\"\n                cancelText=\"No\"\n            >\n                <Icon type=\"delete\" title={`Delete pin`} />\n            </Popconfirm>,\n            (<Link to={{\n                pathname: getCodeRoute(storageType, projectId, id),\n                state: { pattern: url }\n            }}>\n                <Icon type=\"code\" title={`Insert code while crawling`} />\n            </Link>),\n        ]}\n    >\n        <p><Icon type=\"link\" /> <a href={url}>{url}</a></p>\n        {!png && <p><Icon type=\"picture\" theme={iconTheme} /> No screenshot available</p>}\n        {viewport && <p><Icon type=\"picture\" theme={iconTheme} /> {getViewportName(viewport)}</p>}\n    </Card>\n);\n","import React from 'react';\nimport Spin from 'antd/lib/spin';\nimport Typography from 'antd/lib/typography';\nimport Masonry from 'react-masonry-component';\n\nimport {\n    masonryStyle,\n    masonryOptions,\n} from '../pages/pageStyle';\nimport { PageData } from '../server/typing';\nimport { ErrorHandler } from '../common/ErrorHandler';\nimport { PinPage } from './PinPage';\nimport { Search } from '../search/Search';\nimport { setMasonry, onMasonryImg } from '../common/refreshMasonry';\nimport { RouteComponentProps } from 'react-router-dom';\nimport { ProjectName } from '../projects/ProjectName';\nimport { useAsync } from '../hook/useAsync';\nimport { getPins } from '../server/service';\nimport { StorageType } from '../server/storage.typing';\nimport { useThisDoc } from '../doc/useDoc';\n\nconst { Title } = Typography;\n\nexport const Pins = ({\n    match: { params: { projectId, storageType } },\n}: RouteComponentProps<{ projectId: string, storageType: StorageType }>) => {\n    useThisDoc();\n    const { result, error, setResult: setPins } = useAsync<PageData[]>(\n        () => getPins(storageType, projectId)\n    );\n    if (error) {\n        return <ErrorHandler description={error.toString()} />;\n    }\n\n    return (\n        <>\n            <Title level={3}>Pins</Title>\n            <ProjectName projectId={projectId} storageType={storageType} />\n            <Search response={result}>\n                {(pins) => pins ? (\n                    <Masonry\n                        style={masonryStyle}\n                        options={masonryOptions}\n                        ref={(c: any) => { setMasonry(c && c.masonry); }}\n                    >\n                        {pins.map(({ id, url, png, viewport, timestamp }: PageData) => (\n                            <PinPage\n                                projectId={projectId}\n                                timestamp={timestamp}\n                                id={id}\n                                key={id}\n                                url={url}\n                                setPins={setPins}\n                                png={png}\n                                viewport={viewport}\n                                onImg={onMasonryImg}\n                                storageType={storageType}\n                            />\n                        ))}\n                    </Masonry>\n                ) : <Spin />\n                }\n            </Search>\n        </>\n    );\n}\n","import React from 'react';\nimport Typography from 'antd/lib/typography';\n\nimport { Info } from '../common/Info';\n\nconst { Paragraph, Text } = Typography;\n\nexport const CodeInfo = ({full = true}) => (\n    <Info>\n        <Paragraph>\n            Inject some code in the crawler while parsing the page. This code will\n            be executed just after the page finish loaded, before to make the screenshot and\n            before extracting the links. {full && <>You need to export a function that will take as\n            first parameter the <Text code>page</Text> coming from Puppeteer.</>}\n        </Paragraph>\n        {full && <Paragraph>\n            <Text code>module.exports = async (page) => ...some code</Text>\n        </Paragraph>}\n    </Info>\n);\n","import { cardStyle } from \"../pages/pageStyle\";\n\nexport const aceEditorStyle = {\n    border: '1px solid #EEE',\n    marginBottom: 15,\n    width: 'auto',\n}\n\nexport const cardRightStyle = {\n    ...cardStyle,\n    float: 'left' as 'left',\n}\n\nexport const buttonBarStyle = {\n    marginBottom: 15,\n}\n\nexport const buttonStyle = {\n    marginRight: 10,\n}\n\nexport const inputStyle = {\n    maxWidth: 500,\n    margin: '0px 0px 10px 0px',\n}\n","import React from 'react';\nimport Input from 'antd/lib/input';\nimport notification from 'antd/lib/notification';\nimport Icon from 'antd/lib/icon';\nimport Button from 'antd/lib/button';\nimport message from 'antd/lib/message';\nimport Dropdown from 'antd/lib/dropdown';\nimport Typography from 'antd/lib/typography';\nimport Form, { FormComponentProps } from 'antd/lib/form';\nimport { Code } from '../server/typing';\n\nimport { setCode } from '../server/service';\nimport { codeSnippet } from './CodeSnippet';\nimport { buttonBarStyle, buttonStyle, inputStyle } from './codeStyle';\nimport { Info } from '../common/Info';\nimport { Location } from 'history';\nimport { StorageType } from '../server/storage.typing';\n\nconst { Paragraph } = Typography;\n\ninterface FormInput extends HTMLFormElement {\n    name: string,\n    pattern: string,\n}\n\nconst onPlay = () => {\n    message.warn('To be implemented.', 2);\n}\n\nconst save = async (\n    storageType: StorageType,\n    projectId: string,\n    id: string,\n    source: string,\n    info: FormInput,\n) => {\n    try {\n        const hide = message.loading('Saving in progress...', 0);\n        await setCode(storageType, projectId, {\n            id,\n            source,\n            ...info,\n        });\n        hide();\n        message.success('Code saved.', 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\nconst handleSubmit = (\n    storageType: StorageType,\n    projectId: string,\n    id: string,\n    source: string,\n    validateFields: any,\n) => (event: React.FormEvent<FormInput>) => {\n    event.preventDefault();\n    validateFields((err: any, info: FormInput) => {\n        if (!err) {\n            save(storageType, projectId, id, source, info);\n        }\n    });\n}\n\ntype Props = FormComponentProps & {\n    storageType: StorageType;\n    projectId: string;\n    id: string;\n    code: Code;\n    location: Location<{ pattern: string }>;\n    setSource: (source: string) => void;\n};\n\nconst CodeFormComponent = ({\n    storageType,\n    projectId,\n    setSource,\n    id,\n    code,\n    form: { getFieldDecorator, validateFields },\n    location: { state },\n}: Props) => {\n    return (\n        <Form onSubmit={handleSubmit(storageType, projectId, id, code.source, validateFields)}>\n            <Form.Item style={inputStyle}>\n                {getFieldDecorator('name', {\n                    initialValue: code.name || '',\n                })(\n                    <Input addonBefore=\"Name\" />\n                )}\n            </Form.Item>\n            <Form.Item style={inputStyle}>\n                {getFieldDecorator('pattern', {\n                    rules: [{ required: true, message: 'Please input a pattern!' }],\n                    initialValue: code.pattern || (state && state.pattern) || '',\n                })(\n                    <Input addonBefore=\"Pattern\" />\n                )}\n            </Form.Item>\n            <Info>\n                <Paragraph>\n                    Pattern is using <a href=\"https://www.npmjs.com/package/minimatch\" target=\"_blank\" rel=\"noopener noreferrer\">minimatch</a> to\n                    match the urls to inject the code.\n                    It works by converting glob expressions into JavaScript RegExp objects.\n                </Paragraph>\n            </Info>\n            <div style={buttonBarStyle}>\n                <Button icon=\"save\" htmlType=\"submit\" style={buttonStyle}>Save</Button>\n                <Button icon=\"caret-right\" onClick={onPlay} style={buttonStyle}>Preview</Button>\n                <Dropdown overlay={codeSnippet(setSource)}>\n                    <Button style={buttonStyle}>\n                        Code snippet <Icon type=\"down\" />\n                    </Button>\n                </Dropdown>\n            </div>\n        </Form>\n    );\n}\n\nexport const CodeForm = Form.create<Props>({ name: 'code' })(CodeFormComponent);\n","import React from 'react';\nimport Menu from 'antd/lib/menu';\n\nexport const codeSnippet = (setCode: (source: string) => void) => (\n    <Menu>\n        <Menu.Item\n            key=\"1\"\n            onClick={() => {\n                setCode(\n`module.exports = async function run(page) {\n    await page.evaluate(() => {\n        const div = document.createElement(\"div\");\n        div.innerHTML = \"Test-crawler is awesome!\";\n        document.body.insertBefore(div, document.body.firstChild);\n    });\n}`\n                );\n            }}\n        >\n            Test-crawler is awesome\n        </Menu.Item>\n        <Menu.Item\n            key=\"2\"\n            onClick={() => {\n                setCode(\n`module.exports = async function run(page) {\n    return await page.evaluate(() => {\n        Array.from(document.body.getElementsByTagName(\"a\"))\n             .filter(a => !a.href)\n             .forEach(a => a.click());\n        return Array.from(document.links).map(\n            link => link.href.replace('/?', '/iframe.html?')\n        );\n    });\n}`\n                );\n            }}\n        >\n            Storybook\n        </Menu.Item>\n        <Menu.Item\n            key=\"3\"\n            onClick={() => {\n                setCode(\n`// expect library from jest is installed by default\n// but you can use any assertion tool of your choice\n// just install it and use it here :D\nconst expect = require('expect');\n\nmodule.exports = async function run(page) {\n  await expect(page.title()).resolves.toMatch('React App');\n  expect('a').toBe('b'); // fail\n}`\n                );\n            }}\n        >\n            Expect assetion example\n        </Menu.Item>\n    </Menu>\n);","import React from 'react';\nimport Spin from 'antd/lib/spin';\nimport Typography from 'antd/lib/typography';\nimport Form from 'antd/lib/form';\nimport AceEditor from 'react-ace';\nimport { RouteComponentProps } from 'react-router';\nimport { Code as CodeType } from '../server/typing';\n\nimport 'brace/mode/javascript';\nimport 'brace/theme/tomorrow';\n\nimport { getCode } from '../server/service';\nimport { CodeInfo } from './CodeInfo';\nimport { aceEditorStyle } from './codeStyle';\nimport { CodeForm } from './CodeFrom';\nimport { ErrorHandler } from '../common/ErrorHandler';\nimport { ProjectName } from '../projects/ProjectName';\nimport { useAsync } from '../hook/useAsync';\nimport { StorageType } from '../server/storage.typing';\nimport { useThisDoc } from '../doc/useDoc';\n\nconst { Title } = Typography;\n\nconst setSource = (\n    code: CodeType,\n    setCode: React.Dispatch<React.SetStateAction<CodeType>>,\n) => (source: string) => {\n    setCode({\n        ...code,\n        source,\n    })\n}\n\ntype Props = RouteComponentProps<{ id: string, projectId: string, storageType: StorageType }>;\n\nexport const Code = ({ match: { params: { id, projectId, storageType } }, location }: Props) => {\n    useThisDoc();\n    const { error, result: code, setResult: setCode } = useAsync<CodeType>(() => getCode(storageType, projectId, id));\n    if (error) {\n        return <ErrorHandler description={error.toString()} />;\n    }\n    // instead to getPin, there should be a special endpoint retriving a\n    // list of pages matching the pattern\n    // (when it is coming from pin, pattern should be already be filled out)\n    return (\n        <>\n            <Title level={3}>Add some code</Title>\n            {\n                code ? (\n                    <Form>\n                        <CodeInfo />\n                        <ProjectName projectId={projectId} storageType={storageType} />\n                        <CodeForm\n                            projectId={projectId}\n                            id={id}\n                            code={code}\n                            setSource={setSource(code, setCode)}\n                            location={location as any}\n                            storageType={storageType}\n                        />\n                        <AceEditor\n                            mode=\"javascript\"\n                            theme=\"tomorrow\"\n                            onChange={setSource(code, setCode)}\n                            fontSize={14}\n                            value={code.source.length\n                                ? code.source\n                                : `module.exports = async function run(page) {\\n// your code\\n}`}\n                            style={aceEditorStyle}\n                        />\n                    </Form>\n                ) : <Spin />\n            }\n        </>\n    );\n}\n","import React from 'react';\nimport Typography from 'antd/lib/typography';\nimport Spin from 'antd/lib/spin';\n\nimport { getSettings, startCrawlers } from './server/service';\nimport Button from 'antd/lib/button';\nimport { useThisDoc } from './doc/useDoc';\n\nconst { Title } = Typography;\n\nconst load = async (\n    setSettings: React.Dispatch<any>,\n) => {\n    setSettings(await getSettings());\n}\n\nexport const Settings = () => {\n    const [settings, setSettings] = React.useState();\n\n    React.useEffect(() => { load(setSettings); }, []);\n    useThisDoc();\n\n    return (\n        <>\n            <Title level={3}>Settings</Title>\n            {settings ? (\n                <>\n                    <p><b>Dir:</b> {settings.dir}</p>\n                </>\n            ) : <Spin />}\n            <p>\n                <Button\n                    icon=\"caret-right\"\n                    size=\"small\"\n                    onClick={startCrawlers}\n                >\n                    Start crawlers\n                </Button>\n            </p>\n        </>\n    );\n}\n","import React from 'react';\nimport Spin from 'antd/lib/spin';\nimport List from 'antd/lib/list';\nimport Button from 'antd/lib/button';\nimport Typography from 'antd/lib/typography';\nimport { CodeInfoList } from '../server/typing';\n\nimport { getCodes } from '../server/service';\nimport { CodeInfo } from './CodeInfo';\nimport { ErrorHandler } from '../common/ErrorHandler';\nimport { Link } from 'react-router-dom';\nimport { getCodeRoute } from '../routes';\nimport { useAsync } from '../hook/useAsync';\nimport { StorageType } from '../server/storage.typing';\n\nconst { Title, Text } = Typography;\n\ninterface Props {\n    storageType: StorageType;\n    projectId: string;\n}\nexport const ForEachPage = ({ projectId, storageType }: Props) => {\n    const { error, result } = useAsync<CodeInfoList>(() => getCodes(storageType, projectId));\n    if (error) {\n        return <ErrorHandler description={error.toString()} />;\n    }\n    return (\n        <>\n            <Title level={4}>For each page</Title>\n            <CodeInfo full={false} />\n            {\n                result\n                    ? <List\n                        bordered\n                        dataSource={Object.values(result)}\n                        renderItem={({ id, name, pattern }) => (\n                            <List.Item\n                                actions={[\n                                    <Link to={getCodeRoute(storageType, projectId, id)}>\n                                        Edit\n                                    </Link>,\n                                ]}\n                            >\n                                <List.Item.Meta\n                                    title={\n                                        <Link to={getCodeRoute(storageType, projectId, id)}>\n                                            {name} <Text code>{pattern}</Text>\n                                        </Link>\n                                    }\n                                />\n                            </List.Item>\n                        )}\n                    />\n                    : <Spin />\n            }\n            <br />\n            <Link to={getCodeRoute(storageType, projectId, Math.floor(Date.now() / 1000).toString())}>\n                <Button icon=\"plus\" size=\"small\">New code</Button>\n            </Link>\n        </>\n    );\n}\n","import React from 'react';\nimport message from 'antd/lib/message';\nimport Typography from 'antd/lib/typography';\nimport Button from 'antd/lib/button';\nimport notification from 'antd/lib/notification';\nimport AceEditor from 'react-ace';\nimport { BeforeAfterType } from '../server/typing';\n\nimport 'brace/mode/javascript';\nimport 'brace/theme/tomorrow';\n\nimport { getBeforeAfterCode, saveBeforeAfterCode } from '../server/service';\nimport { aceEditorStyle } from './codeStyle';\nimport { ErrorHandler } from '../common/ErrorHandler';\nimport { useAsync } from '../hook/useAsync';\nimport { StorageType } from '../server/storage.typing';\nimport { Info } from '../common/Info';\n\nconst { Title, Paragraph } = Typography;\n\nconst onSave = (\n    code: string,\n    type: BeforeAfterType,\n    projectId: string,\n    storageType: StorageType,\n) => async () => {\n    try {\n        const hide = message.loading('Saving...', 0);\n        await saveBeforeAfterCode(storageType, projectId, type, code);\n        hide();\n        message.success('Code saved.', 2);\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\ninterface Props {\n    type: BeforeAfterType;\n    projectId: string;\n    storageType: StorageType;\n    title: string;\n    info: string;\n    codeParam?: string;\n}\n\nexport const BeforeAfter = ({\n    type,\n    projectId,\n    storageType,\n    title,\n    info,\n    codeParam = '',\n}: Props) => {\n    const { error, result: code, setResult: setCode } = useAsync<string>(() => getBeforeAfterCode(storageType, projectId, type));\n    if (error) {\n        return <ErrorHandler description={error.toString()} />;\n    }\n    return (\n        <>\n            <Title level={4}>{title}</Title>\n            <Info>\n                <Paragraph>\n                    {info}\n                </Paragraph>\n            </Info>\n            <AceEditor\n                mode=\"javascript\"\n                theme=\"tomorrow\"\n                onChange={setCode}\n                fontSize={14}\n                value={!!code?.length\n                    ? code\n                    : `module.exports = async function run(${codeParam}) {\\n// your code\\n}`}\n                style={{ ...aceEditorStyle, height: 200 }}\n            />\n            <Button\n                icon=\"save\"\n                size=\"small\"\n                onClick={onSave(code, type, projectId, storageType)}\n            >\n                Save\n            </Button>\n        </>\n    );\n}\n","import React from 'react';\nimport Typography from 'antd/lib/typography';\nimport { BeforeAfterType } from '../server/typing';\n\nimport { StorageType } from '../server/storage.typing';\nimport { ForEachPage } from './ForEachPage';\nimport { BeforeAfter } from './BeforeAfter';\n\nconst { Title } = Typography;\n\ninterface Props {\n    storageType: StorageType;\n    projectId: string;\n}\nexport const Codes = ({ projectId, storageType }: Props) => {\n    return (\n        <>\n            <Title level={3}>Codes</Title>\n            <ForEachPage projectId={projectId} storageType={storageType} />\n            <br />\n            <br />\n            <BeforeAfter\n                type={BeforeAfterType.Before}\n                projectId={projectId}\n                storageType={storageType}\n                title=\"Before all\"\n                info=\"This script will run when the test-crawler is starting, to give you the possibility to setup a working environment, for example to start a test server.\"\n            />\n            <br />\n            <br />\n            <BeforeAfter\n                type={BeforeAfterType.After}\n                projectId={projectId}\n                storageType={storageType}\n                title=\"After all\"\n                info=\"This script will run when the test-crawler finish. You could for example use this script to send some notification.\"\n                codeParam=\"totalDiffCount, totalErrorCount\"\n            />\n        </>\n    );\n}\n","import React from 'react';\nimport Typography from 'antd/lib/typography';\nimport { Job } from '../server/typing';\nimport Progress from 'antd/lib/progress';\nimport List from 'antd/lib/list';\nimport { timestampToString } from '../utils';\n\ninterface Props {\n    jobs: Job[];\n    loadJobs: () => Promise<void>;\n    loadCrawlers: () => Promise<void>;\n}\n\nexport const ProjectJobs = ({ jobs, loadJobs, loadCrawlers }: Props) => {\n    const [jobInProgress, setJobInProgress] = React.useState(false);\n    React.useEffect(() => {\n        let timer: NodeJS.Timeout;\n        if (jobs?.length) {\n            !jobInProgress && setJobInProgress(true);\n            timer = setInterval(loadJobs, 30000); // 30 sec\n        } else if (jobInProgress) {\n            setJobInProgress(false);\n            loadCrawlers();\n        }\n        return () => clearInterval(timer);\n    }, [jobs, loadCrawlers, setJobInProgress, jobInProgress]);\n    return jobs?.length ? (\n        <List\n            itemLayout=\"horizontal\"\n            bordered\n            dataSource={jobs}\n            style={{ marginBottom: 10 }}\n            renderItem={({ status, startAt, stepsCount, stepsDone, currentStep, url }) => (\n                <List.Item\n                    actions={[\n                        <a href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n                            Open\n                        </a>,\n                    ]}\n                >\n                    <List.Item.Meta\n                        title={<span>CI job {timestampToString(startAt.toString())}</span>}\n                        description={<>\n                            {!!stepsCount && stepsDone !== undefined && <Progress\n                                percent={100 / stepsCount * stepsDone}\n                                size=\"small\"\n                                format={() => `${stepsDone} of ${stepsCount}`}\n                            />}\n                            <span><Typography.Text code>{status}</Typography.Text> {currentStep}</span>\n                        </>}\n                    />\n                </List.Item>\n            )}\n        />\n    ) : null;\n}\n","import React from 'react';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport Typography from 'antd/lib/typography';\nimport notification from 'antd/lib/notification';\nimport { Project as ProjectType, Job, Browser } from '../server/typing';\nimport { saveProject, startCrawler, getJobs } from '../server/service';\nimport Spin from 'antd/lib/spin';\nimport { getViewportName } from '../viewport';\nimport Icon from 'antd/lib/icon';\nimport Checkbox, { CheckboxChangeEvent } from 'antd/lib/checkbox';\nimport { History } from 'history';\nimport { getResultsRoute, getPinsRoute } from '../routes';\nimport Button from 'antd/lib/button';\nimport { useProject } from './useProject';\nimport { useCrawlers } from './useCrawlers';\nimport List from 'antd/lib/list';\nimport { timestampToString } from '../utils';\nimport { Codes } from '../code/Codes';\nimport { StorageType } from '../server/storage.typing';\nimport message from 'antd/lib/message';\nimport { ProjectJobs } from './ProjectJobs';\nimport { useAsync } from '../hook/useAsync';\nimport { useThisDoc } from '../doc/useDoc';\n\nconst onStart = (\n    history: History<any>,\n    projectId: string,\n    storageType: StorageType,\n    loadJobs: () => Promise<void>,\n    browser: Browser,\n) => async () => {\n    try {\n        const hide = message.loading('Starting crawlers', 0);\n        const { timestamp, redirect } = await startCrawler(storageType, projectId, browser);\n        if (redirect) {\n            setTimeout(loadJobs, 5000);\n            setTimeout(loadJobs, 10000);\n            notification.open({\n                duration: 10,\n                message: 'Test-crawler started',\n                description: 'Test-crawler is running the crawlers on a remote container. To see live progress click open:',\n                btn: (<a href={redirect} target=\"_blank\" rel=\"noopener noreferrer\">\n                    Open\n                </a>),\n            });\n        } else {\n            history.push(getResultsRoute(storageType, projectId, timestamp));\n        }\n        hide();\n    } catch (error) {\n        notification['error']({\n            message: 'Something went wrong!',\n            description: error.toString(),\n        });\n    }\n}\n\nconst onAutoPinChange = (\n    storageType: StorageType,\n    { name, id, crawlerInput }: ProjectType,\n    setProject: (response: ProjectType) => Promise<void>,\n) => async ({ target: { checked } }: CheckboxChangeEvent) => {\n    const project = await saveProject(storageType, { ...crawlerInput, autopin: checked }, name, id);\n    setProject(project);\n}\n\nconst getCrawlerStatusIcon = (diffZoneCount: number, errorCount: number, status: string, inQueue: number) => {\n    if (inQueue > 0) {\n        return 'loading';\n    }\n    if (!diffZoneCount && errorCount === 0) {\n        return 'check';\n    }\n    if (status === 'done') {\n        return 'issues-close';\n    }\n    return 'exclamation-circle';\n}\n\nexport const Project = ({\n    match: { params: { projectId, storageType } },\n    history,\n}: RouteComponentProps<{ projectId: string, storageType: StorageType }>) => {\n    useThisDoc(Doc);\n    const { project, setProject } = useProject(storageType, projectId);\n    const { crawlers, loading, loadCrawlers } = useCrawlers(storageType, projectId);\n    const { result: jobs, call: loadJobs } = useAsync<Job[]>(() => getJobs(storageType, projectId));\n    const browser = project?.crawlerInput?.browser || Browser.ChromePuppeteer;\n    return (\n        <>\n            <Typography.Title level={3}>Project</Typography.Title>\n            {!project ? <Spin /> : <>\n                <p><b>Name:</b> {project.name}</p>\n                <p><b>ID:</b> {projectId}</p>\n                <p><b>URL:</b> {project.crawlerInput.url}</p>\n                <p><b>Browser:</b> {browser}</p>\n                <p><b>Screen:</b> {getViewportName(project.crawlerInput.viewport)}</p>\n                <p><b>Method:</b>\n                    {project.crawlerInput.method === 'urls'\n                        ? <> <Icon type=\"ordered-list\" /> URLs list</>\n                        : <> <Icon type=\"radar-chart\" /> Spider bot\n                            {!!project.crawlerInput.limit &&\n                                <span style={{ color: '#999', fontSize: 12 }}> (Limit: {project.crawlerInput.limit})</span>}\n                        </>\n                    }\n                </p>\n                <p>\n                    <Checkbox\n                        checked={project.crawlerInput.autopin}\n                        onChange={onAutoPinChange(storageType, project, setProject)}\n                    >\n                        Automatically pin new page founds.\n                    </Checkbox>\n                </p>\n                <p>\n                    <Button\n                        icon=\"caret-right\"\n                        size=\"small\"\n                        onClick={onStart(history, projectId, storageType, loadJobs, browser)}\n                    >\n                        Run\n                    </Button> &nbsp;\n                    <Link to={getPinsRoute(storageType, projectId)}>\n                        <Button\n                            icon=\"pushpin\"\n                            size=\"small\"\n                        >\n                            Pins\n                        </Button>\n                    </Link>\n                </p>\n                <ProjectJobs jobs={jobs} loadJobs={loadJobs} loadCrawlers={loadCrawlers} />\n                <List\n                    itemLayout=\"horizontal\"\n                    bordered\n                    loading={loading}\n                    dataSource={crawlers}\n                    renderItem={({ timestamp, diffZoneCount, errorCount, status, inQueue }) => (\n                        <List.Item\n                            actions={[\n                                <Link to={getResultsRoute(storageType, projectId, timestamp)}>\n                                    Open\n                                </Link>,\n                            ]}\n                        >\n                            <List.Item.Meta\n                                title={\n                                    <Link to={getResultsRoute(storageType, projectId, timestamp)}>\n                                        {timestampToString(timestamp)}\n                                    </Link>}\n                                description={<>\n                                    <Icon type={getCrawlerStatusIcon(diffZoneCount, errorCount, status, inQueue)} />\n                                    <span> Diff: {diffZoneCount} - Error: {errorCount} - In queue: {inQueue}</span>\n                                </>}\n                            />\n                        </List.Item>\n                    )}\n                />\n            </>}\n            <br />\n            <Codes projectId={projectId} storageType={storageType} />\n        </>\n    );\n}\n\nconst Doc = () => (\n    <>\n        <p>\n            This page give you an overview of a selected project. From there you can see all the\n            crawlers that has been started and their results. To run a crawler click\n            on <Button icon=\"caret-right\" size=\"small\">Run</Button>\n        </p>\n        <p>\n            After clicking on the run button, you will be either redirected to the result page or\n            a job will appear above the list of crawler, this will depends of the crawling storage\n            you will use.\n        </p>\n        <Typography.Title level={4}>Codes</Typography.Title>\n        <p>\n            Under the list of crawlers, is a codes section. This will let you write your own code\n            to interact with the crawler when the job is running. There is different phases where\n            you can interact with the crawler: before, during and after crawling.\n        </p>\n        <p><b>Before all</b></p>\n        <p>\n            This script will run when the test-crawler is starting, to give you the possibility\n            to setup a working environment. This can be useful if you need to start a server to\n            run your test against it.\n        </p>\n        <p><b>For each page</b></p>\n        <p>\n            This give you the possibility to inject some code in the crawler while parsing the page.\n            This code will be executed just after the page finish loaded, before to make the\n            screenshot and before extracting the links. This can be really useful to manipulate the\n            page before making the screenshot. For example, if you have dynamic element in your\n            page, you can simply remove it. You could open some hidden element from an accordion.\n            Run some e2e assertion with Jest. There is so much possibility with this feature...\n        </p>\n        <p><b>After all</b></p>\n        <p>\n            This script will run when the test-crawler finish. This can be useful to send the\n            result to an API or in an email. In the following example, we will show you how\n            to send result in slack:\n        </p>\n        <pre>\n            <code>\n                {`\n// Need to install @slack/web-api where the crawler is running.\n// with local storage just do yarn add @slack/web-api\n// with remote storage like GitHub you will need to customize the CI job\nconst { WebClient } = require('@slack/web-api');\n\nconst token = 'api_slack_token';\n// Given some known conversation ID (representing a public channel, private channel, DM or group DM)\nconst conversationId = '...';\n\nmodule.exports = async function run(totalDiffCount, totalErrorCount) {\n    const web = new WebClient(token);\n    const result = await web.chat.postMessage({\n        text: \\`Hi, crawler finish his job. We found \\${totalDiffCount} diff(s) and \\${totalErrorCount} error(s).\\`,\n        channel: conversationId,\n    });\n}\n            `}\n            </code>\n        </pre>\n        <Typography.Title level={4}>Schedule</Typography.Title>\n        <p>\n            Right now, test-crawler doesn't offer scheduling out of the box but you can easily setup your own.\n            On your server you can use build-in feature, like cronjob on Linux. For that, just\n            use <Typography.Text code>test-crawler-cli --project the_id_of_your_project</Typography.Text>.\n        </p>\n        <p>\n            On GitHub, you can reuse the workflow generated by test-crawler\n            in <Typography.Text code>.github/workflows</Typography.Text>. Make a copy of the workflow\n            under a different name and define the event to trigger the run, see <a\n                href=\"https://help.github.com/en/actions/reference/events-that-trigger-workflows\"\n                target=\"_blank\" rel=\"noopener noreferrer\"\n            >documentation</a>. You need then to specify the project you want to run.\n        </p>\n        <pre>\n            <code>\n                {`\nname: Test-crawler schedule\n\non:\n  schedule:\n    # everyday at 01.00\n    - cron:  '* 1 * * *'\n\njobs:\n  test-crawler:\n    runs-on: macos-latest\n\n    steps:\n    - uses: actions/checkout@v2\n    - name: Run test-crawler\n      uses: apiel/test-crawler/actions/run@master\n      with:\n        projectId: put_here_id_of_the_project\n    - name: Push changes\n      uses: apiel/test-crawler/actions/push@master\n      with:\n        token: \\${{ secrets.GITHUB_TOKEN }}\n\n            `}\n            </code>\n        </pre>\n    </>\n);\n","import notification from 'antd/lib/notification';\nimport { getCrawlers } from '../server/service';\nimport { useAsync } from '../hook/useAsync';\nimport { Crawler } from '../server/typing';\nimport { StorageType } from '../server/storage.typing';\n\nexport const useCrawlers = (storageType: StorageType, projectId: string) => {\n    const { result: crawlers, setResult: setCrawlers, error, loading, call: loadCrawlers } = useAsync<Crawler[]>(async () => {\n        const list = await getCrawlers(storageType, projectId);\n        return list.sort(({ timestamp: a }: any, { timestamp: b }: any) => parseInt(b, 10) - parseInt(a, 10));\n    });\n    if (error) {\n        notification['warning']({\n            message: 'Something went wrong while loading crawlers from project.',\n            description: error.toString(),\n        });\n    }\n    return {crawlers, setCrawlers, loading, loadCrawlers };\n}\n","import React from 'react';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport { useProject } from './useProject';\nimport Breadcrumb from 'antd/lib/breadcrumb';\nimport { getHomeRoute, getProjectRoute } from '../routes';\nimport { StorageType } from '../server/storage.typing';\n\nexport const ProjectBreadcrumb = ({\n    match: { params: { projectId, storageType } },\n}: RouteComponentProps<{ projectId: string, storageType: StorageType }>) => {\n    const { project } = useProject(storageType, projectId);\n    return (\n        <>\n            <Breadcrumb.Item><Link to={getHomeRoute()}>Projects</Link></Breadcrumb.Item>\n            <Breadcrumb.Item><Link to={getProjectRoute(storageType, projectId)}>{project?.name}</Link></Breadcrumb.Item>\n        </>\n    );\n}\n","import React from 'react';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport Breadcrumb from 'antd/lib/breadcrumb';\nimport { getHomeRoute, getProjectRoute, getResultsRoute } from '../routes';\nimport { useProject } from '../projects/useProject';\nimport { timestampToString } from '../utils';\nimport { StorageType } from '../server/storage.typing';\n\nexport const CrawlerResultsBreadcrumb = ({\n    match: { params: { projectId, timestamp, storageType } },\n}: RouteComponentProps<{ projectId: string, timestamp: string, storageType: StorageType }>) => {\n    const { project } = useProject(storageType, projectId);\n    return (\n        <>\n            <Breadcrumb.Item><Link to={getHomeRoute()}>Projects</Link></Breadcrumb.Item>\n            <Breadcrumb.Item><Link to={getProjectRoute(storageType, projectId)}>{project?.name}</Link></Breadcrumb.Item>\n            <Breadcrumb.Item>\n                <Link to={getResultsRoute(storageType, projectId, timestamp)}>\n                    Results: {timestampToString(timestamp)}\n                </Link>\n            </Breadcrumb.Item>\n        </>\n    );\n}\n","import React from 'react';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport Breadcrumb from 'antd/lib/breadcrumb';\nimport { getHomeRoute, getProjectRoute, getPinsRoute } from '../routes';\nimport { useProject } from '../projects/useProject';\nimport { StorageType } from '../server/storage.typing';\n\nexport const PinsBreadcrumb = ({\n    match: { params: { projectId, storageType } },\n}: RouteComponentProps<{ projectId: string, storageType: StorageType }>) => {\n    const { project } = useProject(storageType, projectId);\n    return (\n        <>\n            <Breadcrumb.Item><Link to={getHomeRoute()}>Projects</Link></Breadcrumb.Item>\n            <Breadcrumb.Item><Link to={getProjectRoute(storageType, projectId)}>{project?.name}</Link></Breadcrumb.Item>\n            <Breadcrumb.Item><Link to={getPinsRoute(storageType, projectId)}>Pins</Link></Breadcrumb.Item>\n        </>\n    );\n}\n","import React from 'react';\nimport { RouteComponentProps, Link } from 'react-router-dom';\nimport Breadcrumb from 'antd/lib/breadcrumb';\nimport { getHomeRoute, getProjectRoute, getCodeRoute } from '../routes';\nimport { useProject } from '../projects/useProject';\nimport { StorageType } from '../server/storage.typing';\n\nexport const CodeBreadcrumb = ({\n    match: { params: { projectId, id, storageType } },\n}: RouteComponentProps<{ projectId: string, id: string, storageType: StorageType }>) => {\n    const { project } = useProject(storageType, projectId);\n    return (\n        <>\n            <Breadcrumb.Item><Link to={getHomeRoute()}>Projects</Link></Breadcrumb.Item>\n            <Breadcrumb.Item><Link to={getProjectRoute(storageType, projectId)}>{project?.name}</Link></Breadcrumb.Item>\n            <Breadcrumb.Item><Link to={getCodeRoute(storageType, projectId, id)}>Code</Link></Breadcrumb.Item>\n        </>\n    );\n}\n","import React from 'react';\nimport Layout from 'antd/lib/layout';\nimport Typography from 'antd/lib/typography';\nimport Affix from 'antd/lib/affix';\nimport Button from 'antd/lib/button';\nimport { useDoc } from './useDoc';\n\nexport const DocSider = ({ children }: React.PropsWithChildren<any>) => {\n    const { open, toggle, content } = useDoc();\n    return (\n        <Layout>\n            {children}\n            {!!open && <Layout.Sider\n                theme=\"light\"\n                breakpoint=\"md\"\n                collapsedWidth=\"100%\"\n                width=\"40%\"\n                style={{\n                    padding: 15,\n                    textAlign: 'justify',\n                }}\n            >\n                <Typography.Title level={3} style={{\n                    float: 'right',\n                    fontStyle: 'italic',\n                    color: '#CCC',\n                }}>\n                    Documentation\n                </Typography.Title>\n                <Affix offsetTop={10} style={{ marginBottom: 10 }}>\n                    <Button\n                        size=\"small\"\n                        shape=\"circle\"\n                        icon=\"close\"\n                        onClick={toggle}\n                    />\n                </Affix>\n                <br />\n                {content || (<p>\n                    We are sorry, there is no documentation for this section.\n                    If you have any questions, please don't hesitate\n                    to <a\n                        href=\"https://github.com/apiel/test-crawler/issues\"\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                    >\n                        contact us\n                    </a>.</p>)}\n            </Layout.Sider>}\n        </Layout>\n    );\n}\n","import React from 'react';\nimport Layout from 'antd/lib/layout';\nimport Typography from 'antd/lib/typography';\nimport Breadcrumb from 'antd/lib/breadcrumb';\nimport {\n    // BrowserRouter,\n    Route,\n    Link,\n    HashRouter,\n} from 'react-router-dom';\n\nimport './App.css';\nimport { ReactComponent as Logo } from './logo.svg';\nimport NewProject from './projects/new/NewProject';\nimport { Projects } from './projects/Projects';\nimport { CrawlerResults } from './crawler/CrawlerResults';\nimport {\n    getHomeRoute, getResultsRoute, getPinsRoute, getProjectRoute,\n    getCodeRoute, getSettingsRoute, getNewProjectRoute\n} from './routes';\nimport { Pins } from './pin/Pins';\nimport { Code } from './code/Code';\nimport { Settings } from './Settings';\nimport { Project } from './projects/Project';\nimport Menu from 'antd/lib/menu';\nimport Icon from 'antd/lib/icon';\nimport { ProjectBreadcrumb } from './projects/ProjectBreadcrumb';\nimport { CrawlerResultsBreadcrumb } from './crawler/CrawlerResultsBreadcrumb';\nimport { PinsBreadcrumb } from './pin/PinsBreadcrumb';\nimport { CodeBreadcrumb } from './code/CodeBreadcrumb';\nimport { DocSider } from './doc/DocSider';\nimport { useDoc } from './doc/useDoc';\n\nconst { Content, Header } = Layout;\nconst { Title } = Typography;\n\nconst layoutStyle = {\n    minHeight: '100vh',\n};\nconst titleStyle = {\n    color: '#fff',\n    marginTop: 15,\n    marginRight: 15,\n    float: 'left' as any,\n}\nconst contentStyle = {\n    background: '#fff',\n    padding: 24,\n    margin: 10,\n    minHeight: 280,\n};\n\nconst App = () => {\n    const { toggle } = useDoc();\n    return (\n        // <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <HashRouter\n        // basename={process.env.PUBLIC_URL}\n        >\n            <DocSider>\n                <Layout style={layoutStyle}>\n                    <Header>\n                        <Link to={getHomeRoute()}>\n                            <Title level={3} style={titleStyle}>\n                                <Logo style={{ height: 32, width: 32, position: 'absolute', fill: '#8c8c8c', }} /> \n                                <span style={{ marginLeft: 45 }}>Test-crawler</span>\n                            </Title>\n                        </Link>\n                        <Menu\n                            theme=\"dark\"\n                            mode=\"horizontal\"\n                            selectable={false}\n                            style={{ paddingTop: 10 }}\n                        >\n                            <Menu.Item key=\"projects\">\n                                <Icon type=\"folder\" />\n                                <span className=\"nav-text\">Projects</span>\n                                <Link to={getHomeRoute()} />\n                            </Menu.Item>\n                            <Menu.Item\n                                key=\"doc\"\n                                title=\"Docs\"\n                                // style={{ float: 'right', padding: 0 }}\n                                onClick={toggle}\n                            >\n                                <Icon type=\"question-circle\" />\n                                <span className=\"nav-text\">Documentation</span>\n                            </Menu.Item>\n                            <Menu.Item key=\"settings\" title=\"settings\">\n                                <Icon type=\"setting\" />\n                                <span className=\"nav-text\">Settings</span>\n                                <Link to={getSettingsRoute()} />\n                            </Menu.Item>\n                        </Menu>\n                    </Header>\n                    <Breadcrumb style={{ margin: '10px 0 0 10px' }}>\n                        <Route path={getProjectRoute(':storageType', ':projectId')} exact component={ProjectBreadcrumb} />\n                        <Route path={getResultsRoute(':storageType', ':projectId', ':timestamp')} exact component={CrawlerResultsBreadcrumb} />\n                        <Route path={getPinsRoute(':storageType', ':projectId')} exact component={PinsBreadcrumb} />\n                        <Route path={getCodeRoute(':storageType', ':projectId', ':id')} exact component={CodeBreadcrumb} />\n                    </Breadcrumb>\n                    <Content style={contentStyle}>\n                        <Route path={getHomeRoute()} exact component={Projects} />\n                        <Route path={getSettingsRoute()} exact component={Settings} />\n\n                        <Route path={getNewProjectRoute(':storageType')} exact component={NewProject} />\n                        <Route path={getPinsRoute(':storageType', ':projectId')} exact component={Pins} />\n                        <Route path={getCodeRoute(':storageType', ':projectId', ':id')} exact component={Code} />\n                        <Route path={getResultsRoute(':storageType', ':projectId', ':timestamp')} component={CrawlerResults} />\n                        <Route path={getProjectRoute(':storageType', ':projectId')} exact component={Project} />\n                    </Content>\n                </Layout>\n            </DocSider>\n        </HashRouter>\n        // </BrowserRouter>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { AsyncCacheProvider } from 'react-async-cache';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { hotjar } from 'react-hotjar';\nimport { DocProvider } from './doc/useDoc';\n\n// use hotjar only on github\nif (window.location.host === 'apiel.github.io') {\n    hotjar.initialize(1680523, 6);\n}\n\nReactDOM.render((\n    <AsyncCacheProvider>\n        <DocProvider>\n            <App />\n        </DocProvider>\n    </AsyncCacheProvider>\n), document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}